(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{1313:function(e,t,n){"use strict";n.r(t);var r=n(3052),o=n(1686);for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);var i=n(0),u=n(2576),c=n.n(u),s=Object(i.a)(o.default,r.a,r.b,!1,null,null,null);"function"==typeof c.a&&c()(s),t.default=s.exports},1546:function(e,t,n){"use strict";var r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.getQueueItem=t.doAction=t.getQueue=void 0;var o=r(n(2)),a=r(n(30)),i=r(n(1565)),u=a.default.get({id:"MAIL_QUEUE",url:"/CMD_MAIL_QUEUE",pagination:!0,schema:{force:a.default.OPTIONAL_BOOL},after:function(e){return function(t){return t.error?e.flow(e.project({queue_size:"queue_size",max_load_size:"mq_exim_max_load_size",error:"error"}),e.mapProp("error",e.convert.toAppBoolean))(t):e.flow(e.getProp("table"),e.toTable(e.mapArrayProps({time:function(e){return(0,i.default)(new Date,e)},size:e.convert.toAppNumber,frozen:e.convert.toAppBoolean})))(t)}}});t.getQueue=u;var c=a.default.select({url:"/CMD_MAIL_QUEUE",schema:{action:a.default.REQUIRED_STRING},before:function(e){var t,n=e.action;return t={},(0,o.default)(t,n,!0),(0,o.default)(t,"action","select"),t}});t.doAction=c;var s=a.default.get({id:"MAIL_QUEUE_ITEM",url:"/CMD_MAIL_QUEUE",schema:{id:a.default.REQUIRED_STRING},after:function(e){return e.mapProps({body:e.convert.toAppText,headers:e.convert.toAppText,logs:e.convert.toAppText})}});t.getQueueItem=s},1565:function(e,t,n){"use strict";n.r(t);var r=n(21),o=n(605),a=n(8);function i(e,t){Object(a.a)(2,arguments);var n=Object(r.a)(t);return Object(o.a)(e,1e3*n)}function u(e,t){Object(a.a)(2,arguments);var n=Object(r.a)(t);return i(e,-n)}n.d(t,"default",(function(){return u}))},1686:function(e,t,n){"use strict";n.r(t);var r=n(1687),o=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t.default=o.a},1687:function(e,t,n){"use strict";var r=n(10),o=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=o(n(15)),u=o(n(16)),c=r(n(1546)),s={preload:c.getQueue,commands:c,api:[{command:c.getQueue,bind:"queue"}],props:{force:{type:Boolean,required:!1,default:!1}},data:function(){return{checkedRows:[],select:[],forceSet:this.force}},methods:{forceLoad:function(){this.forceSet=!0,c.getQueue({force:this.forceSet})},doAction:(a=(0,u.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.doAction({action:t,select:this.select});case 2:e.sent&&(this.select=[],this.$reloadApiTable());case 4:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})}};t.default=s},2576:function(e,t){},3052:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("app-page",[e.$api.queue.error?n("app-page-section",[n("translate",{attrs:{"translate-params":e.$api.queue}},[e._v("\n            Queue size (%{ queue_size }) is larger than the maximum value (%{ max_load_size}) and may timeout.\n        ")]),e._v(" "),n("ui-button",{attrs:{theme:"danger",size:"normal"},on:{click:e.forceLoad}},[n("translate",[e._v("Force Load")])],1)],1):n("app-page-section",[n("ui-api-table",e._b({attrs:{initialSort:{key:"time",order:"ASC"}},on:{"action:thaw":function(t){return e.doAction("thaw")},"action:freeze":function(t){return e.doAction("freeze")},"action:retry":function(t){return e.doAction("retry")},"action:bounce":function(t){return e.doAction("bounce")},"action:del":function(t){return e.doAction("delete")}},scopedSlots:e._u([{key:"col:id",fn:function(t){var r=t.id,o=t.item;return[n("ui-link",{attrs:{name:"admin/mail-queue/view",params:{id:r}}},[e._v("\n                    "+e._s(r)+"\n                ")]),e._v(" "),o.frozen?n("ui-tooltip",{attrs:{theme:"danger",icon:"warning"}},[n("translate",[e._v("Frozen")])],1):e._e()]}},{key:"col:time",fn:function(t){var n=t.time;return[e._v("\n                "+e._s(e._f("distanceFromNow")(n))+"\n            ")]}},{key:"col:recipients",fn:function(t){var r=t.recipients;return e._l(r,(function(t){return n("div",{directives:[{name:"margin",rawName:"v-margin",value:0,expression:"0"}]},[e._v("\n                    "+e._s(t)+"\n                ")])}))}}]),model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},"ui-api-table",{command:e.$commands.getQueue,rowID:"id",requestData:{force:e.forceSet},columns:{id:{label:e.$gettext("ID"),searchable:!0},time:e.$gettext("Time"),size:e.$gettext("Size"),sender:{label:e.$gettext("Sender"),searchable:!0},recipients:{label:e.$gettext("Recipient(s)"),grow:!0,searchable:!0},frozen:{label:e.$gettext("Frozen"),hide:!0,searchable:{type:"select",options:{yes:e.$gettext("Yes"),no:e.$gettext("No")}}}},actions:{thaw:e.$gettext("Thaw"),freeze:e.$gettext("Freeze"),retry:e.$gettext("Retry"),bounce:e.$gettext("Bounce"),del:e.$gettext("Delete")},verticalLayout:e.$_Client.isPhone},!1))],1)],1)},o=[];n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}))}}]);