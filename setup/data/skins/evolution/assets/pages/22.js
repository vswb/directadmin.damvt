(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1332:function(e,t,n){"use strict";n.r(t);var a=n(3071),s=n(1741);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);n(2623);var l=n(0),i=n(2625),o=n.n(i),u=Object(l.a)(s.default,a.a,a.b,!1,null,"74b67cd4",null);"function"==typeof o.a&&o()(u),t.default=u.exports},1442:function(e,t,n){"use strict";var a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.validateIPRangeList=t.validateDomain=t.validatePassword=t.validateSubdomain=t.validateUsername=t.validateDBUser=t.validateDatabase=t.validateDNSName=t.validateMXValue=t.validateDNSValue=t.validateFTP=t.validateEmail=t.validateForwarder=void 0;var s=a(n(30)),r=a(n(36)),l=a(n(1443)),i=s.default.get({url:"/CMD_JSON_VALIDATE",schema:{value:s.default.REQUIRED_STRING},response:{valid:!0,message:""},mapResponse:{valid:l.default.isValid,message:l.default.getMessage}}),o=i.extend({id:"VALIDATE_FORWARDER",params:{type:"forwarder",ignore_system_default:!0}});t.validateForwarder=o;var u=i.extend({id:"VALIDATE_EMAIL",params:{type:"email",check_mailing_list:!0},schema:{check_exists:{type:Boolean,required:!1,default:!0}}});t.validateEmail=u;var c=i.extend({id:"VALIDATE_FTP",params:{type:"ftp"},domain:!0});t.validateFTP=c;var d=i.extend({params:{type:"dns"},domain:!0,schema:{record:s.default.REQUIRED_STRING}}),p=d.extend({id:"VALIDATE_DNS_VALUE",params:{check:"value",name:!0},domain:!0,schema:{value:s.default.REQUIRED_STRING}});t.validateDNSValue=p;var f=p.extend({id:"VALIDATE_MX_VALUE",params:{record:"MX"},before:function(e){return{value:"10",mx_value:e.value}}});t.validateMXValue=f;var m=d.extend({id:"VALIDATE_DNS_NAME",params:{check:"name",value:!0,mx_value:!0},schema:{name:s.default.REQUIRED_STRING,value:null}});t.validateDNSName=m;var v=i.extend({id:"VALIDATE_DATABASE",params:{type:"dbname"}});t.validateDatabase=v;var O=i.extend({id:"VALIDATE_DATABASE_USER",params:{type:"dbusername"}});t.validateDBUser=O;var _=i.extend({id:"VALIDATE_USERNAME",params:{type:"username"}});t.validateUsername=_;var g=i.extend({id:"VALIDATE_SUBDOMAIN",domain:!0,params:{type:"subdomain"}});t.validateSubdomain=g;var h=i.extend({id:"VALIDATE_PASSWORD",params:{type:"password"}});t.validatePassword=h;var I=i.extend({id:"VALIDATE_DOMAIN",params:{type:"domain"},before:function(e){var t=e.value;return{value:r.default.toASCII(t)}}});t.validateDomain=I;var b=i.extend({id:"VALIDATE_IP_RANGE_LIST",params:{type:"ip_range_list"}});t.validateIPRangeList=b},1443:function(e,t,n){"use strict";n.r(t);var a=n(35);t.default={isValid:function(e){return void 0===e.error},getMessage:function(e){return Object(a.toAppHtml)(e.error||"")}}},1470:function(e,t,n){"use strict";n.r(t);var a=n(1471),s=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t.default=s.a},1471:function(e,t,n){"use strict";var a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(n(2)),r=n(1478),l=n(14);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={api:[{command:r.getPackage,bind:"package"}],props:{package:{type:String,required:!1,default:"newpackage"}},data:function(){return{limits:[],features:[],customItems:[],dns:"OFF",serverip:!0,ips:"0",homeOverride:{value:"",options:{}}}},computed:{processedData:function(){return o({},l._.reduce(this.limits,(function(e,t,n){var a;return o({},e,(a={},(0,s.default)(a,n,["bandwidth","quota"].includes(n)?String(t.value/Math.pow(2,20)):t.value),(0,s.default)(a,"u".concat(n),t.unlimited||null),a))}),{}),{},l._.reduce(this.customItems,(function(e,t){return o({},e,(0,s.default)({},t.name,!0===t.value?"ON":t.value))}),{}),{},l._.mapValues(this.features,(function(e){return e?"ON":null})),{serverip:this.serverip?"ON":null,dns:this.dns,ips:this.ips,create_user_home_override:this.canOverrideHome?this.homeOverride.value:null})},canOverrideHome:function(){return this.homeOverride&&!!Object.keys(this.homeOverride.options).length}},methods:{checkEmptyness:function(e){e.value||(e.unlimited=!0)}},watch:{processedData:function(e){this.$emit("update",e)}},created:function(){this.limitLabels={bandwidth:this.$gettext("Bandwidth"),quota:this.$gettext("Disk Space"),inode:this.$state.app.tokens.HAVE_INODE?this.$gettext("Inode"):void 0,vdomains:this.$gettext("Domains"),nsubdomains:this.$gettext("Sub-Domains"),nemails:this.$gettext("E-mail Accounts"),nemailf:this.$gettext("E-mail Forwarders"),nemailml:this.$gettext("Mailing Lists"),nemailr:this.$gettext("Autoresponders"),mysql:this.$gettext("MySQL Databases"),domainptr:this.$gettext("Domain Pointers"),ftp:this.$gettext("FTP Accounts"),nusers:this.$gettext("User Accounts")},this.featureLabels={aftp:this.$gettext("Anonymous FTP Accounts"),cgi:this.$gettext("CGI Access"),php:this.$gettext("PHP Access"),spam:this.$gettext("SpamAssassin"),catchall:this.$gettext("Catch-All E-mail"),ssl:this.$gettext("SSL Access"),ssh:this.$gettext("SSH Access"),userssh:this.$gettext("SSH Access for Users"),oversell:this.$gettext("Allow Overselling"),cron:this.$gettext("Cron Jobs"),sysinfo:this.$gettext("System Info"),login_keys:this.$gettext("Login Keys"),dnscontrol:this.$gettext("DNS Control")};var e=this.$api.package;this.limits=l._.cloneDeep(e.limits),this.features=l._.cloneDeep(e.features),this.customItems=l._.cloneDeep(e.customItems),this.ips=e.ips||0,this.homeOverride=l._.cloneDeep(e.homeOverride),this.serverip=e.features.serverip,this.dns=e.dns,null===this.package&&(this.limits.bandwidth.value*=Math.pow(2,20),this.limits.quota.value*=Math.pow(2,20))}};t.default=u},1472:function(e,t,n){var a=n(1550);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n(5).default)("24b7c642",a,!0,{})},1478:function(e,t,n){"use strict";var a=n(10),s=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.doPackageAction=t.updatePackage=t.getPackage=t.importPackages=t.exportPackages=t.deletePackages=t.getPackages=void 0;var r=s(n(2)),l=s(n(30));a(n(6));function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u="/CMD_MANAGE_RESELLER_PACKAGES",c=l.default.get({id:"RESELLER_PACKAGES",url:u,params:{bytes:!0},pagination:!0,after:function(e){return e.toTable(e.mapArrayProps({bandwidth:e.convert.toAppLimit,quota:e.convert.toAppLimit,ips:function(t){return e.convert.toAppNumber(t||"0")}}))}});t.getPackages=c;var d=l.default.post({url:u,schema:{select:l.default.ROWS},before:function(e){return e.select.reduce((function(e,t,n){return o({},e,(0,r.default)({},"delete".concat(n),t))}),{delete:!0})}});t.deletePackages=d;var p=l.default.post({url:u,params:{export:!0},schema:{select:l.default.ROWS}});t.exportPackages=p;var f=l.default.post({url:u,params:{action:"import"},schema:{import:l.default.REQUIRED_STRING}});t.importPackages=f;var m=l.default.get({url:"/CMD_SHOW_RESELLER_PACKAGE",id:"RESELLER_PACKAGE",params:{bytes:!0},query:{package:l.default.REQUIRED_STRING},after:function(e){return e.flow((function(e){return{data:e}}),e.moveProp({"data.ips":"ips","data.custom_items":"customItems","data.have_inode":"haveInode","data.dns":"dns","data.ip":"ip","data.create_user_home_override":"homeOverride"}),e.mapProps({homeOverride:e.flow((function(e){return e||{}}),e.toSelect),customItems:e.flow(e.toArray,e.mapArray((function(t){var n={type:t.type,description:t.desc,label:t.string,name:t.name};switch(t.type){case"checkbox":return o({},n,{value:"yes"===t.checked});case"text":return o({},n,{value:t.value});case"listbox":return o({},n,{value:Object.values(t.select).find((function(e){return e.selected})).value,options:e.reduce((function(e,t){return o({},e,(0,r.default)({},t.value,t.text))}))(t.select)});default:return!1}})),(function(e){return e.filter((function(e){return!!e}))})),haveInode:e.convert.toAppBoolean,dns:e.getProp("value"),ip:e.getProp("value"),ips:e.convert.toAppNumber,features:e.feedWith(1,e.flow(e.getProp("data"),e.filter(e.flow(e.getProp("type"),e.isEqual("checkbox"))),e.mapValues(e.flow(e.getProp("checked"),e.convert.toAppBoolean)))),limits:e.feedWith(1,e.flow(e.getProp("data"),e.filter(e.flow(e.getProp("type"),e.isEqual("unlimited"))),e.mapValues((function(t){var n=e.convert.toAppLimit(t.value)===1/0;return{value:n?"":t.value,unlimited:n}}))))}),e.deleteProp("data"))}});t.getPackage=m;var v=l.default.post({url:u,params:{add:!0},schema:{bandwidth:l.default.OPTIONAL_STRING,ubandwidth:l.default.OPTIONAL_BOOL,quota:l.default.OPTIONAL_STRING,uquota:l.default.OPTIONAL_BOOL,inode:l.default.OPTIONAL_STRING,uinode:l.default.OPTIONAL_BOOL,vdomains:l.default.OPTIONAL_STRING,uvdomains:l.default.OPTIONAL_BOOL,nsubdomains:l.default.OPTIONAL_STRING,unsubdomains:l.default.OPTIONAL_BOOL,nemails:l.default.OPTIONAL_STRING,unemails:l.default.OPTIONAL_BOOL,nemailf:l.default.OPTIONAL_STRING,unemailf:l.default.OPTIONAL_BOOL,nemailml:l.default.OPTIONAL_STRING,unemailml:l.default.OPTIONAL_BOOL,nemailr:l.default.OPTIONAL_STRING,unemailr:l.default.OPTIONAL_BOOL,mysql:l.default.OPTIONAL_STRING,umysql:l.default.OPTIONAL_BOOL,domainptr:l.default.OPTIONAL_STRING,udomainptr:l.default.OPTIONAL_BOOL,ftp:l.default.OPTIONAL_STRING,uftp:l.default.OPTIONAL_BOOL,aftp:l.default.OPTIONAL_STRING,cgi:l.default.OPTIONAL_STRING,php:l.default.OPTIONAL_STRING,spam:l.default.OPTIONAL_STRING,catchall:l.default.OPTIONAL_STRING,ssl:l.default.OPTIONAL_STRING,ssh:l.default.OPTIONAL_STRING,userssh:l.default.OPTIONAL_STRING,oversell:l.default.OPTIONAL_STRING,cron:l.default.OPTIONAL_STRING,sysinfo:l.default.OPTIONAL_STRING,login_keys:l.default.OPTIONAL_STRING,dnscontrol:l.default.OPTIONAL_STRING,dns:l.default.REQUIRED_STRING,serverip:l.default.OPTIONAL_STRING,packagename:l.default.OPTIONAL_STRING,create_user_home_override:l.default.OPTIONAL_STRING,nusers:l.default.OPTIONAL_STRING,unusers:l.default.OPTIONAL_BOOL}});t.updatePackage=v;var O=l.default.post({url:u,schema:{action:l.default.REQUIRED_STRING,from:l.default.REQUIRED_STRING,to:l.default.REQUIRED_STRING},before:function(e){return{from:null,to:null,old_package:e.from,new_package:e.to}}});t.doPackageAction=O},1479:function(e,t,n){"use strict";var a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.increaseBandwidth=t.setPackageData=t.setPackage=t.getReseller=t.getUsers=t.getStats=t.getResellers=t.createReseller=t.getResellerOptions=void 0;var s=a(n(2)),r=a(n(17)),l=a(n(30)),i=l.default.post({id:"RESELLER_OPTIONS",url:"/CMD_ACCOUNT_RESELLER",notifySuccess:!1,blocking:!1,after:function(e){return e.flow(e.moveProp("free_ips","freeIPs"),e.mapProp("freeIPs",e.convert.toAppNumber))}});t.getResellerOptions=i;var o=l.default.post({url:"/CMD_ACCOUNT_RESELLER",params:{action:"create",add:!0},schema:{username:l.default.REQUIRED_STRING,email:l.default.REQUIRED_STRING,passwd:l.default.REQUIRED_STRING,passwd2:l.default.REQUIRED_STRING,domain:l.default.REQUIRED_STRING,package:l.default.OPTIONAL_STRING,notify:l.default.REQUIRED_BOOL,ip:l.default.REQUIRED_STRING}});t.createReseller=o;var u=l.default.get({id:"RESELLERS",url:"/CMD_RESELLER_SHOW",pagination:!0,params:{bytes:!0},after:function(e){return e.flow(e.deleteProp("reasons"),e.toTable(e.mapArray((function(t){if("string"==typeof t.bandwidth)return{username:t.username,valid:!1};var n=t.nusers.split("/"),a=(0,r.default)(n,2),s=a[0],l=a[1];return{username:t.username,nusers:s,nuserslimit:e.convert.toAppLimit(l),suspended:"no:"!==t.suspended.value,reason:t.suspended.reason||"none",vdomains:e.toLimitedUsage()(t.vdomains),bandwidth:e.toLimitedUsage()(t.bandwidth),quota:e.toLimitedUsage()(t.quota),valid:!0}}))))}});t.getResellers=u;var c=l.default.get({id:"RESELLER_STATS",url:"/CMD_SHOW_RESELLER",params:{bytes:!0},schema:{user:l.default.REQUIRED_STRING},after:function(e){return e.flow(e.project({comments:"comments",info:"stats",usage:"stats",stats:"stats",users:"users",deleted_user_bandwidth:"stats",additional_bandwidth:"stats"}),e.mapProps({usage:e.flow(e.deleteProp("info"),e.filter(e.getProp("max_usage")),e.transformObject((function(e){var t=e.setting,n=e.usage,a=e.allocated,r=e.max_usage;return(0,s.default)({},t,{usage:n,allocated:a,limit:r})})),e.mapValues(e.mapProps({usage:e.convert.toAppNumber,limit:e.convert.toAppLimit,allocated:e.convert.toAppLimit}))),stats:e.flow(e.deleteProp("info"),e.filter(e.flow(e.getProp("usage"),(function(e){return["ON","OFF"].includes(e)}))),e.transformObject((function(e){var t=e.setting,n=e.usage;return(0,s.default)({},t,n)})),e.mapValues(e.convert.toAppBoolean)),info:e.flow(e.deleteProp("info"),e.filter((function(e){return!e.max_usage&&!["ON","OFF"].includes(e.usage)})),e.transformObject((function(e){var t=e.setting,n=e.usage;return(0,s.default)({},t,n)}))),comments:e.flow(e.convert.toAppString,e.convert.toAppText),users:e.toTable(e.mapArrayProps({bandwidth:e.toLimitedUsage(),quota:e.toLimitedUsage(),vdomains:e.toLimitedUsage(),suspended:e.flow(e.isEqual("No"),e.not)})),skinInfo:e.feedWith(1,e.flow(e.project({custom:"is_reseller_skin",path:"reseller_skin",owner:"reseller_skin_owner"}),e.mapProp("custom",e.isEqual("1")))),deleted_user_bandwidth:e.flow(e.deleteProp("info"),Object.values,(function(e){return e.find((function(e){return"deleted_user_bandwidth"===e.setting}))}),(function(t){return void 0!==t&&e.mapProps({usage:e.convert.toAppNumber,limit:e.convert.toAppLimit,allocated:e.convert.toAppLimit})(t)})),additional_bandwidth:e.flow(e.deleteProp("info"),Object.values,(function(e){return e.find((function(e){return"additional_bandwidth"===e.setting}))||{usage:!1}}),(function(e){return e.usage}))}))}});t.getStats=c;var d=l.default.get({id:"RESELLER_USERS",url:"/CMD_SHOW_RESELLER",params:{bytes:!0},pagination:!0,schema:{user:l.default.REQUIRED_STRING},after:function(e){return e.flow(e.getProp("users"),e.toTable(e.mapArrayProps({bandwidth:e.toLimitedUsage(),quota:e.toLimitedUsage(),vdomains:e.toLimitedUsage(),suspended:e.flow(e.isEqual("No"),e.not)})))}});t.getUsers=d;var p=l.default.get({id:"RESELLER_DATA",url:"/CMD_MODIFY_RESELLER",params:{bytes:!0},schema:{user:l.default.REQUIRED_STRING},after:function(e){return e.flow((function(e){return{packageData:e,packages:e.packages,package:e.packages,custom:e.custom_items,haveInode:e.have_inode}}),e.mapProps({haveInode:e.isEqual("yes"),package:e.flow(e.find(e.getProp("selected")),e.getProp("value")),packages:e.flow(e.transformObject((function(e){var t=e.value,n=e.text;return(0,s.default)({},t,n)})),e.filter((function(e,t){return!!t}))),custom:e.flow(e.toArray,e.mapArray((function(t){var n={type:t.type,description:t.desc,label:t.string,name:t.name};switch(t.type){case"checkbox":return Object.assign(n,{value:e.isEqual("yes")(t.checked)});case"text":return Object.assign(n,{value:t.value});case"listbox":return Object.assign(n,{value:e.flow(e.find(e.getProp("selected")),e.getProp("value"))(t.select),options:e.transformObject((function(e){var t=e.value,n=e.text;return(0,s.default)({},t,n)}))(t.select)});default:return!1}})),e.filter(e.notEmpty)),packageData:e.flow(e.deleteProps(["packages","have_inode","custom_items"]),e.transformObject((function(t,n){if("unlimited"===t.type){var a=e.convert.toAppLimit(t.value)===1/0,r=a?"":t.value;return{limits:(0,s.default)({},n,{value:r,unlimited:a})}}return"checkbox"===t.type?{features:(0,s.default)({},n,"yes"===t.checked)}:(0,s.default)({},n,t)})))}))}});t.getReseller=p;var f=l.default.post({url:"/CMD_MODIFY_RESELLER",params:{action:"package"},schema:{user:l.default.REQUIRED_STRING,package:l.default.REQUIRED_STRING}});t.setPackage=f;var m=l.default.post({url:"/CMD_MODIFY_RESELLER",params:{action:"customize",bytes:!0},schema:{user:l.default.REQUIRED_STRING,bandwidth:l.default.OPTIONAL_STRING,ubandwidth:l.default.OPTIONAL_BOOL,quota:l.default.OPTIONAL_STRING,uquota:l.default.OPTIONAL_BOOL,inode:l.default.OPTIONAL_STRING,uinode:l.default.OPTIONAL_BOOL,vdomains:l.default.OPTIONAL_STRING,uvdomains:l.default.OPTIONAL_BOOL,nsubdomains:l.default.OPTIONAL_STRING,unsubdomains:l.default.OPTIONAL_BOOL,nemails:l.default.OPTIONAL_STRING,unemails:l.default.OPTIONAL_BOOL,nemailf:l.default.OPTIONAL_STRING,unemailf:l.default.OPTIONAL_BOOL,nemailml:l.default.OPTIONAL_STRING,unemailml:l.default.OPTIONAL_BOOL,nemailr:l.default.OPTIONAL_STRING,unemailr:l.default.OPTIONAL_BOOL,mysql:l.default.OPTIONAL_STRING,umysql:l.default.OPTIONAL_BOOL,domainptr:l.default.OPTIONAL_STRING,udomainptr:l.default.OPTIONAL_BOOL,ftp:l.default.OPTIONAL_STRING,uftp:l.default.OPTIONAL_BOOL,aftp:l.default.OPTIONAL_STRING,cgi:l.default.OPTIONAL_STRING,php:l.default.OPTIONAL_STRING,spam:l.default.OPTIONAL_STRING,catchall:l.default.OPTIONAL_STRING,ssl:l.default.OPTIONAL_STRING,ssh:l.default.OPTIONAL_STRING,userssh:l.default.OPTIONAL_STRING,oversell:l.default.OPTIONAL_STRING,cron:l.default.OPTIONAL_STRING,sysinfo:l.default.OPTIONAL_STRING,login_keys:l.default.OPTIONAL_STRING,dnscontrol:l.default.OPTIONAL_STRING}});t.setPackageData=m;var v=l.default.post({url:"/CMD_MODIFY_RESELLER",params:{additional_bw:!0,action:"single",json:null},schema:{user:l.default.REQUIRED_STRING,additional_bandwidth:l.default.REQUIRED_STRING}});t.increaseBandwidth=v},1548:function(e,t,n){"use strict";n.r(t);var a=n(1566),s=n(1470);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);n(1549);var l=n(0),i=Object(l.a)(s.default,a.a,a.b,!1,null,null,null);t.default=i.exports},1549:function(e,t,n){"use strict";var a=n(1472);n.n(a).a},1550:function(e,t,n){(e.exports=n(4)(!0)).push([e.i,".reseller-package input[type=text]{width:1px}","",{version:3,sources:["/home/evo/evolution/src/js/pages/admin/reseller-packages/_components/reseller-package.vue"],names:[],mappings:"AAsOA,mCACyB,SAAU,CAAA",file:"reseller-package.vue?vue&type=style&index=0&lang=scss&",sourcesContent:['\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.reseller-package {\n    input[type="text"] { width: 1px; }\n}\n'],sourceRoot:""}])},1554:function(e,t,n){"use strict";var a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.resetMessage=t.updateMessage=t.getMessage=void 0;var s=a(n(30)),r=function(e){var t=e.level;return"/CMD_EDIT_".concat(t.toUpperCase(),"_MESSAGE")},l={type:String,required:!0,default:"reseller",validator:function(e){return["admin","reseller"].includes(e)}},i=s.default.get({id:"MESSAGE",url:r,schema:{level:l},after:function(e){return e.mapProp("message",e.convert.toAppText)}});t.getMessage=i;var o=s.default.post({url:r,params:{save:!0},schema:{level:l,subject:s.default.REQUIRED_STRING,message:s.default.REQUIRED_STRING}});t.updateMessage=o;var u=s.default.post({url:r,params:{reset:!0},schema:{level:l}});t.resetMessage=u},1566:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"reseller-package"},[e._l(e.limitLabels,(function(t,a){return t&&e.limits[a]?n("ui-form-element",{key:a},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t))]),e._v(" "),n(["bandwidth","quota"].includes(a)?"input-size":"input-text",{directives:[{name:"flex-item",rawName:"v-flex-item",value:{grow:!0},expression:"{ grow: true }"}],tag:"component",attrs:{slot:"content",disabled:e.limits[a].unlimited,number:""},on:{blur:function(t){return e.checkEmptyness(e.limits[a])}},slot:"content",model:{value:e.limits[a].value,callback:function(t){e.$set(e.limits[a],"value",t)},expression:"limits[key].value"}},[n("ui-button",{attrs:{slot:"additions:right",tabindex:"-1"},on:{click:function(t){e.limits[a].unlimited=!e.limits[a].unlimited}},slot:"additions:right"},[n("input-checkbox",{attrs:{label:e.$gettext("Unlimited")},model:{value:e.limits[a].unlimited,callback:function(t){e.$set(e.limits[a],"unlimited",t)},expression:"limits[key].unlimited"}})],1)],1)],1):e._e()})),e._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("IPs")]),e._v(" "),n("input-text",{attrs:{slot:"content",number:""},slot:"content",model:{value:e.ips,callback:function(t){e.ips=t},expression:"ips"}})],1),e._v(" "),e._l(e.featureLabels,(function(t,a){return t&&void 0!==e.features[a]?n("ui-form-element",{key:a,class:{dimmed:!e.features[a]},attrs:{verticalOnPhone:!1,reverse:e.$_Client.isPhone}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t))]),e._v(" "),n("input-checkbox",{attrs:{slot:"content"},slot:"content",model:{value:e.features[a],callback:function(t){e.$set(e.features,a,t)},expression:"features[key]"}})],1):e._e()})),e._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Personal DNS's")]),e._v(" "),n("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:"column"},expression:"{ dir: 'column' }"}],attrs:{slot:"content"},slot:"content"},[n("input-check",{attrs:{type:"radio",value:"OFF"},model:{value:e.dns,callback:function(t){e.dns=t},expression:"dns"}},[n("translate",[e._v("None")])],1),e._v(" "),n("input-check",{attrs:{type:"radio",value:"TWO"},model:{value:e.dns,callback:function(t){e.dns=t},expression:"dns"}},[n("translate",[e._v("Uses 2 IP's, domain uses one of them")])],1),e._v(" "),n("input-check",{attrs:{type:"radio",value:"Three"},model:{value:e.dns,callback:function(t){e.dns=t},expression:"dns"}},[n("translate",[e._v("Uses 3 IP's, domain gets own IP")])],1)],1)],1),e._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Share Server IP")]),e._v(" "),n("input-checkbox",{attrs:{slot:"content"},slot:"content",model:{value:e.serverip,callback:function(t){e.serverip=t},expression:"serverip"}},[n("translate",[e._v("Allow Reseller to create sites with server IP")])],1)],1),e._v(" "),e.canOverrideHome?n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Home Directory")]),e._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("input-select",{attrs:{options:e.homeOverride.options},model:{value:e.homeOverride.value,callback:function(t){e.$set(e.homeOverride,"value",t)},expression:"homeOverride.value"}})],1)],1):e._e(),e._v(" "),e._l(e.customItems,(function(t){return n("ui-form-element",{key:t.name},[n("span",{attrs:{slot:"title"},domProps:{textContent:e._s(t.label)},slot:"title"}),e._v(" "),"checkbox"===t.type?n("input-checkbox",{attrs:{slot:"content"},slot:"content",model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"customItem.value"}},[e._v("\n            "+e._s(t.description)+"\n        ")]):n("text"===t.type?"input-text":"input-select",{tag:"component",attrs:{slot:"content",options:"listbox"===t.type?t.options:[]},slot:"content",model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"customItem.value"}},[n("ui-button",{attrs:{slot:"additions:right"},slot:"additions:right"},[e._v("\n                "+e._s(t.description)+"\n            ")])],1)],1)}))],2)},s=[];n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}))},1741:function(e,t,n){"use strict";n.r(t);var a=n(1742),s=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t.default=s.a},1742:function(e,t,n){"use strict";var a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(n(2)),r=a(n(17)),l=a(n(15)),i=a(n(16)),o=n(1479),u=n(1442),c=n(1478),d=n(1554),p=a(n(2620)),f=a(n(1548));function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O,_,g,h,I={beforeRouteEnter:(h=(0,i.default)(l.default.mark((function e(t,n,a){var s;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.getResellerOptions)();case 3:a(),e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(0),e.t0.route=t.path,!(s=e.t0.apiData.packages)||0!==s.length){e.next=13;break}return a(),e.abrupt("return");case 13:a(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,6]])}))),function(e,t,n){return h.apply(this,arguments)}),api:[{command:o.getResellerOptions,bind:"options"}],commands:{validateUsername:u.validateUsername,validatePassword:u.validatePassword,validateDomain:u.validateDomain,validateEmail:u.validateEmail.extend({params:{check_domain:!1}})},components:{EditResellerMessageDialog:p.default,ResellerPackage:f.default},data:function(){return{username:"",passwd:"",email:"",notify:!0,domain:"",packageName:"",ip:"shared",customize:!1,packageData:{}}},computed:{options:function(){return this.$api.options},hasPackages:function(){return 0!==Object.keys(this.options.packages||{}).length},licenseLimitReached:function(){var e=Number(this.$state.app.tokens.LICENSE_NRESELLERS_MAX)||1/0,t=Number(this.$state.app.tokens.ADMINRESELLERS);return e>0&&t>=e}},created:function(){var e=this.options.packages||[],t=(0,r.default)(e,1);this.packageName=t[0]},methods:{loadPackage:(g=(0,i.default)(l.default.mark((function e(){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.getPackage)({package:this.packageName||null});case 2:this.customize=!0;case 3:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)}),editResellerMessage:(_=(0,i.default)(l.default.mark((function e(){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.getMessage)({level:"reseller"});case 2:this.$dialog("EDIT_RESELLER_MESSAGE_DIALOG").open();case 3:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)}),createReseller:(O=(0,i.default)(l.default.mark((function e(){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.createReseller)(v({username:this.username,email:this.email,passwd:this.passwd,passwd2:this.passwd,notify:this.notify,package:this.customize?null:this.packageName,ip:this.ip,domain:this.domain},this.packageData));case 2:e.sent&&this.$router.push({name:"admin/users/resellers"});case 4:case"end":return e.stop()}}),e,this)}))),function(){return O.apply(this,arguments)})}};t.default=I},1743:function(e,t,n){"use strict";n.r(t);var a=n(1744),s=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t.default=s.a},1744:function(e,t,n){"use strict";var a=n(10),s=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,l=s(n(15)),i=s(n(16)),o=a(n(1554)),u={api:[{command:o.getMessage,bind:"message"}],data:function(){return{message:"",subject:""}},methods:{loadData:function(){Object.assign(this,this.$api.message)},updateMessage:function(){o.updateMessage({level:"reseller",message:this.message,subject:this.subject})},resetMessage:(r=(0,i.default)(l.default.mark((function e(){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.resetMessage({level:"reseller"});case 2:return e.t0=Object,e.t1=this,e.next=6,o.getMessage({level:"reseller"});case 6:e.t2=e.sent,e.t0.assign.call(e.t0,e.t1,e.t2);case 8:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}};t.default=u},1745:function(e,t,n){var a=n(2622);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n(5).default)("1eae17f8",a,!0,{})},1746:function(e,t,n){var a=n(2624);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n(5).default)("01bc8cd7",a,!0,{})},2620:function(e,t,n){"use strict";n.r(t);var a=n(3195),s=n(1743);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);n(2621);var l=n(0),i=Object(l.a)(s.default,a.a,a.b,!1,null,"36bd1ccc",null);t.default=i.exports},2621:function(e,t,n){"use strict";var a=n(1745);n.n(a).a},2622:function(e,t,n){(e.exports=n(4)(!0)).push([e.i,"#EDIT_ADMIN_MESSAGE_DIALOG textarea[data-v-36bd1ccc]{min-height:20rem}","",{version:3,sources:["/home/evo/evolution/src/js/components/local/edit-reseller-message-dialog.vue"],names:[],mappings:"AAoFA,qDACe,gBAAiB,CAAA",file:"edit-reseller-message-dialog.vue?vue&type=style&index=0&id=36bd1ccc&lang=scss&scoped=true&",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#EDIT_ADMIN_MESSAGE_DIALOG {\n    textarea { min-height: 20rem; }\n}\n"],sourceRoot:""}])},2623:function(e,t,n){"use strict";var a=n(1746);n.n(a).a},2624:function(e,t,n){(e.exports=n(4)(!0)).push([e.i,".create-reseller .select[data-v-74b67cd4],.create-reseller input[type=text][data-v-74b67cd4]{min-width:240px}","",{version:3,sources:["/home/evo/evolution/src/js/pages/admin/users/resellers/create.vue"],names:[],mappings:"AA2SA,6FAGQ,eAAgB,CAAA",file:"create.vue?vue&type=style&index=0&id=74b67cd4&lang=scss&scoped=true&",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.create-reseller {\n    input[type='text'],\n    .select {\n        min-width: 240px;\n    }\n}\n"],sourceRoot:""}])},2625:function(e,t){},3071:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("app-page",{staticClass:"create-reseller",attrs:{disabled:e.licenseLimitReached}},[e.hasPackages?[n("ui-button",{attrs:{slot:"header:buttons",theme:"safe"},on:{click:e.editResellerMessage},slot:"header:buttons"},[n("translate",[e._v("Edit Reseller Message")])],1),e._v(" "),n("app-page-section",[n("ui-form-element",{attrs:{group:"createReseller",validators:{required:!0,api:e.$commands.validateUsername}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                    Username\n                ")]),e._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),e._v(" "),n("ui-form-element",{attrs:{group:"createReseller",validators:{required:!0,api:e.$commands.validateEmail}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                    E-mail\n                ")]),e._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e._v(" "),n("ui-form-element",{attrs:{group:"createReseller",validators:{required:!0,api:e.$commands.validatePassword}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                    Enter Password\n                ")]),e._v(" "),n("input-password",{attrs:{slot:"content","show-generator":""},slot:"content",model:{value:e.passwd,callback:function(t){e.passwd=t},expression:"passwd"}})],1),e._v(" "),n("ui-form-element",{attrs:{group:"createReseller",validators:{required:!0,regex:e.regexps.domain,api:e.$commands.validateDomain}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                    Domain\n                ")]),e._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:e.domain,callback:function(t){e.domain=t},expression:"domain"}}),e._v(" "),n("translate",{attrs:{slot:"error:regex"},slot:"error:regex"},[e._v("\n                    Should be valid domain\n                ")])],1),e._v(" "),e.customize?n("reseller-package",e._b({on:{update:function(t){e.packageData=t}}},"reseller-package",{package:e.packageName},!1)):n("ui-form-element",{attrs:{group:"createReseller"}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                    Package\n                ")]),e._v(" "),n("input-select",{attrs:{slot:"content",options:e.options.packages},slot:"content",model:{value:e.packageName,callback:function(t){e.packageName=t},expression:"packageName"}},[n("ui-button",{attrs:{slot:"additions:right",theme:"light",disabled:""},slot:"additions:right"},[n("translate",{attrs:{"translate-params":e.options,"translate-n":e.options.freeIPs,"translate-plural":"%{freeIPs} Free IPs."}},[e._v("\n                            %{freeIPs} Free IP\n                        ")])],1)],1)],1),e._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                    IP\n                ")]),e._v(" "),n("div",{directives:[{name:"flex",rawName:"v-flex"}],attrs:{slot:"content"},slot:"content"},[n("input-select",{attrs:{options:{shared:e.$gettext("Shared - Server"),sharedreseller:e.$gettext("Shared - Reseller's IP"),assigned:e.$gettext("Assigned")}},model:{value:e.ip,callback:function(t){e.ip=t},expression:"ip"}})],1)],1),e._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"}),e._v(" "),n("div",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center"},expression:"{ cross: 'center' }"}],attrs:{slot:"content"},slot:"content"},[n("input-checkbox",{model:{value:e.notify,callback:function(t){e.notify=t},expression:"notify"}},[n("translate",[e._v("Send E-mail Notification")])],1)],1)],1)],1),e._v(" "),n("template",{slot:"footer:buttons"},[e.customize?e._e():n("ui-button",{attrs:{theme:"primary"},on:{click:e.loadPackage}},[n("translate",[e._v("Customize")])],1),e._v(" "),n("ui-button",{attrs:{"validate-group":"createReseller",theme:"safe"},on:{click:e.createReseller}},[n("translate",[e._v("Create")])],1)],1),e._v(" "),n("edit-reseller-message-dialog")]:n("app-page-section",[n("translate",{attrs:{tag:"p"}},[e._v("\n            Sorry, it seems that there are no reseller packages created yet. Would you like to create one?\n        ")]),e._v(" "),n("ui-button-link",{directives:[{name:"margin",rawName:"v-margin",value:[1,0],expression:"[1, 0]"}],attrs:{name:"admin/reseller-packages/create",theme:"safe"}},[n("translate",[e._v("Create Reseller Package")])],1)],1),e._v(" "),n("translate",{attrs:{slot:"disabled-message"},slot:"disabled-message"},[e._v("\n        You have reached your license limits and could not create resellers anymore\n    ")])],2)},s=[];n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}))},3195:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-dialog",{attrs:{id:"EDIT_RESELLER_MESSAGE_DIALOG",size:"normal",noCloseBtn:""},on:{"dialog:open":e.loadData}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Edit E-mail Message")]),e._v(" "),n("template",{slot:"content"},[n("ui-form-element",{attrs:{vertical:"",group:"message",validators:{required:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Subject")]),e._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:e.subject,callback:function(t){e.subject=t},expression:"subject"}})],1),e._v(" "),n("ui-form-element",{attrs:{vertical:"",group:"message",validators:{required:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Message")]),e._v(" "),n("input-textarea",{attrs:{slot:"content",rows:"20"},slot:"content",model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1)],1),e._v(" "),n("ui-button",{attrs:{slot:"buttons",theme:"safe",validateGroup:"message"},on:{click:e.updateMessage},slot:"buttons"},[n("translate",[e._v("Save")])],1),e._v(" "),n("ui-button",{attrs:{slot:"buttons",theme:"danger"},on:{click:e.resetMessage},slot:"buttons"},[n("translate",[e._v("Reset")])],1)],2)},s=[];n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}))}}]);