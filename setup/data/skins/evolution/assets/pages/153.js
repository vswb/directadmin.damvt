(window.webpackJsonp=window.webpackJsonp||[]).push([[153],{1336:function(e,a,t){"use strict";t.r(a);var r=t(1775);for(var s in r)"default"!==s&&function(e){t.d(a,e,(function(){return r[e]}))}(s);var n=t(0),o=t(2641),u=t.n(o),d=Object(n.a)(r.default,void 0,void 0,!1,null,null,null);"function"==typeof u.a&&u()(d),a.default=d.exports},1460:function(e,a,t){"use strict";var r=t(10),s=t(1);Object.defineProperty(a,"__esModule",{value:!0}),a.getLoginPMAStatus=a.globalLoginPMA=a.loginPMA=a.setUserPrivs=a.getUserPrivs=a.changeUserPassword=a.assignUser=a.addUser=a.deleteAccessHost=a.addAccessHost=a.deleteUsers=a.getDatabase=a.uploadBackup=a.deleteDatabase=a.optimizeDatabase=a.checkDatabase=a.repairDatabase=a.getDatabases=a.createDatabase=a.getUsers=void 0;var n=s(t(30)),o=r(t(6)),u=n.default.get({id:"DB_USERS",url:"/CMD_DB_CREATE",domain:!0,mapResponse:{users:o.pipe(o.omit(["MAX_DB_LENGTH","MAX_DB_USER_LENGTH"]),o.values,o.filter((function(e){return"..."!==e.text})),o.map((function(e){return{value:e.value,label:e.text}}))),max_db_length:o.prop("MAX_DB_LENGTH"),max_db_user_length:o.prop("MAX_DB_USER_LENGTH")}});a.getUsers=u;var d=n.default.post({url:"/CMD_DB",params:{action:"create"},domain:!0,schema:{name:n.default.REQUIRED_STRING,user:n.default.REQUIRED_STRING,passwd:n.default.OPTIONAL_STRING,passwd2:n.default.OPTIONAL_STRING,userlist:n.default.OPTIONAL_STRING},after:function(e){return e.mapProp("result",e.convert.toAppHtml)},updateTokens:!0});a.createDatabase=d;var l=n.default.get({id:"DATABASES",url:"/CMD_DB",domain:!0,pagination:!0,after:function(e){return e.mapProps({databases:e.toTable(e.mapArrayProps({nusers:e.convert.toAppNumber,size:e.convert.toAppNumber})),HAVE_ONE_CLICK_PMA_LOGIN:e.convert.toAppBoolean,total_usage:e.convert.toAppNumber,dbs_select:e.toSelect})}});a.getDatabases=l;var i=n.default.select({url:"/CMD_DB",domain:!0,params:{json:!0}}),p=i.extend({params:{repair:!0}});a.repairDatabase=p;var c=i.extend({params:{check:!0}});a.checkDatabase=c;var f=i.extend({params:{optimize:!0}});a.optimizeDatabase=f;var _=i.extend({params:{delete_db:!0},updateTokens:!0});a.deleteDatabase=_;var R=n.default.post({url:"/CMD_DB",params:{action:"restore",method:"default"},domain:!0,schema:{name:n.default.REQUIRED_STRING,dbuser:n.default.REQUIRED_STRING,dbpass:n.default.REQUIRED_STRING,file:{type:File,required:!0}},before:function(e){return{file1:e.file,file:null}},transport:FormData,continous:!0});a.uploadBackup=R;var m=n.default.get({id:"DB_VIEW",url:"/CMD_DB_VIEW",params:{page:1,ipp:9999},domain:!0,schema:{name:n.default.REQUIRED_STRING},after:function(e){return e.flow(e.project({hosts:"access_hosts",users:"db_users",pmaLogin:"HAVE_ONE_CLICK_PMA_LOGIN"}),e.mapProps({users:e.flow(e.deleteProp("info"),e.toArray,e.mapArray(e.getProp("User"))),hosts:e.flow(e.deleteProp("info"),e.toArray,e.mapArray(e.getProp("Access Hosts"))),pmaLogin:e.convert.toAppBoolean}))}});a.getDatabase=m;var D=n.default.post({url:"/CMD_DB",method:"POST",params:{action:"deleteuser",delete:!0,json:!0},domain:!0,schema:{name:n.default.REQUIRED_STRING,select:n.default.ROWS}});a.deleteUsers=D;var E=n.default.post({url:"/CMD_DB_ACCESS",domain:!0,params:{add:!0,json:!0},schema:{name:n.default.REQUIRED_STRING,host:n.default.REQUIRED_STRING}});a.addAccessHost=E;var I=n.default.select({url:"/CMD_DB_ACCESS",domain:!0,params:{delete:!0,json:!0},schema:{name:n.default.REQUIRED_STRING}});a.deleteAccessHost=I;var S=n.default.post({url:"/CMD_DB",domain:!0,params:{action:"createuser",json:!0},schema:{name:n.default.REQUIRED_STRING,passwd:n.default.REQUIRED_STRING,passwd2:n.default.REQUIRED_STRING}});a.addUser=S;var v=n.default.post({url:"/CMD_DB",domain:!0,params:{action:"createuser",json:!0,passwd:"*****",passwd2:"*****"},schema:{name:n.default.REQUIRED_STRING,userlist:n.default.REQUIRED_STRING}});a.assignUser=v;var N=n.default.post({url:"/CMD_DB",domain:!0,params:{action:"modifyuser",json:!0},schema:{name:n.default.REQUIRED_STRING,user:n.default.REQUIRED_STRING,passwd:n.default.REQUIRED_STRING,passwd2:n.default.REQUIRED_STRING}});a.changeUserPassword=N;var A=n.default.get({id:"DB_USER_PRIVS",url:"/CMD_DB_USER_PRIVS",domain:!0,schema:{name:n.default.REQUIRED_STRING,user:n.default.REQUIRED_STRING},after:function(e){return e.mapValues(e.isEqual("Y"))}});a.getUserPrivs=A;var U=n.default.post({url:"/CMD_DB_USER_PRIVS",domain:!0,params:{action:"save "},body:{name:n.default.REQUIRED_STRING,user:n.default.REQUIRED_STRING}});a.setUserPrivs=U;var b=n.default.post({url:"/CMD_PMA_LOGIN",domain:!0,params:{json:!0},notifySuccess:!1,notifyError:!1,schema:{name:n.default.REQUIRED_STRING}});a.loginPMA=b;var T=n.default.post({url:"/CMD_PMA_LOGIN",params:{json:!0,name:"all",domain:""},notifySuccess:!1,notifyError:!1});a.globalLoginPMA=T;var P=n.default.get({url:"/CMD_DB",response:!1,mapResponse:function(e){return"yes"===e.HAVE_ONE_CLICK_PMA_LOGIN},notifyError:!1});a.getLoginPMAStatus=P},1775:function(e,a,t){"use strict";t.r(a);var r=t(1776),s=t.n(r);for(var n in r)"default"!==n&&function(e){t.d(a,e,(function(){return r[e]}))}(n);a.default=s.a},1776:function(e,a,t){"use strict";var r=t(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s,n=r(t(15)),o=r(t(16)),u=t(1460),d=t(11),l=t(7),i={render:function(){return null},beforeRouteEnter:(s=(0,o.default)(n.default.mark((function e(a,t,r){var s,o,i,p,c,f;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,d.State)("app.tokens"),e.next=3,(0,u.getLoginPMAStatus)();case 3:if(o=e.sent,i=o instanceof Error,!o||i){e.next=14;break}return e.next=8,(0,u.globalLoginPMA)();case 8:if((p=e.sent)instanceof Error){e.next=14;break}return c=p.token,f=p.url,(0,l.openInNewTab)("".concat(f,"?token=").concat(c)),r(!1),e.abrupt("return");case 14:s.PHPMYADMIN_PUBLIC&&(0,l.openInNewTab)("".concat(s.WEBAPPS_SSL,"://").concat(s.HOSTNAME,"/phpmyadmin")),r(!1);case 16:case"end":return e.stop()}}),e)}))),function(e,a,t){return s.apply(this,arguments)})};a.default=i},2641:function(e,a){}}]);