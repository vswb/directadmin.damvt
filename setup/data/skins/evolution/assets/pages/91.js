(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{1322:function(n,t,e){"use strict";e.r(t);var r=e(3061),o=e(1710);for(var s in o)"default"!==s&&function(n){e.d(t,n,(function(){return o[n]}))}(s);e(2596);var i=e(0),a=e(2598),c=e.n(a),l=Object(i.a)(o.default,r.a,r.b,!1,null,"36c5467f",null);"function"==typeof c.a&&c()(l),t.default=l.exports},1545:function(n,t,e){"use strict";var r=e(1);Object.defineProperty(t,"__esModule",{value:!0}),t.rebootServer=t.reload=t.restart=t.stop=t.start=t.getServices=void 0;var o=r(e(2)),s=r(e(30));function i(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}var a=["reload","restart","start","stop"],c=s.default.get({id:"SERVICES",url:"/CMD_SHOW_SERVICES",response:[],params:{bytes:!0},after:function(){return function(n){return Object.keys(n.status).map((function(t){return{service:t,memory:n.memory[t],pid:n.pids[t]||[],running:"on"===n.status[t],actions:a.reduce((function(e,r){return function(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?i(Object(e),!0).forEach((function(t){(0,o.default)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}({},e,(0,o.default)({},r,n.actions[t].includes(r)))}),{})}}))}}});t.getServices=c;var l=function(n){return s.default.post({url:"/CMD_SERVICE",params:{action:n},schema:{service:s.default.REQUIRED_STRING},notifySuccess:!1})},u=l("start");t.start=u;var d=l("stop");t.stop=d;var p=l("restart");t.restart=p;var f=l("reload");t.reload=f;var v=s.default.post({url:"/CMD_REBOOT",params:{json:!0},schema:{passwd:s.default.REQUIRED_STRING}});t.rebootServer=v},1710:function(n,t,e){"use strict";e.r(t);var r=e(1711),o=e.n(r);for(var s in r)"default"!==s&&function(n){e.d(t,n,(function(){return r[n]}))}(s);t.default=o.a},1711:function(n,t,e){"use strict";var r=e(10);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(e(1545)),s={preload:o.getServices,api:[{command:o.getServices,bind:{response:"services",isLoading:"loading"}}],data:function(){return{password:""}},computed:{notifications:function(){return{start:this.notify(this.$gettext("Service was started successfully")),stop:this.notify(this.$gettext("Service was stopped successfully")),restart:this.notify(this.$gettext("Service was restarted successfully")),reload:this.notify(this.$gettext("Service was reloaded successfully")),rebootServer:this.notify(this.$gettext("Server was successfully rebooted"))}}},methods:{reloadServices:function(){o.getServices()},toggle:function(n){"nowrap"===n.target.style["white-space"]?n.target.style["white-space"]="normal":n.target.style["white-space"]="nowrap"},notify:function(n){var t=this;return function(){return t.$notifications.success({title:n})}},doAction:function(n,t){o[n](t).then(this.notifications[n]).then(this.reloadServices)},start:function(n){this.doAction("start",n)},stop:function(n){this.doAction("stop",n)},restart:function(n){this.doAction("restart",n)},reload:function(n){this.doAction("reload",n)},handleReboot:function(){this.doAction("rebootServer",{passwd:this.password})}}};t.default=s},1712:function(n,t,e){var r=e(2597);"string"==typeof r&&(r=[[n.i,r,""]]),r.locals&&(n.exports=r.locals);(0,e(5).default)("2cab8ae6",r,!0,{})},2596:function(n,t,e){"use strict";var r=e(1712);e.n(r).a},2597:function(n,t,e){(n.exports=e(4)(!0)).push([n.i,".pids[data-v-36c5467f]{width:400px;-o-text-overflow:ellipsis;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;cursor:pointer}","",{version:3,sources:["/home/evo/evolution/src/js/pages/admin/services.vue"],names:[],mappings:"AAyLA,uBACI,YACA,0BAAA,uBACA,gBACA,mBACA,cAAe,CAAA",file:"services.vue?vue&type=style&index=0&id=36c5467f&lang=scss&scoped=true&",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.pids {\n    width: 400px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    cursor: pointer;\n}\n"],sourceRoot:""}])},2598:function(n,t){},3061:function(n,t,e){"use strict";var r=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("app-page",[e("template",{slot:"header:buttons"},[e("ui-button",{attrs:{theme:"primary"},on:{click:function(t){n.$dialog("REBOOT_DIALOG").open()}}},[e("translate",[n._v("Reboot")])],1)],1),n._v(" "),e("app-page-section",[e("ui-r-table",n._b({scopedSlots:n._u([{key:"col:running",fn:function(t){var r=t.running;return[e("ui-badge",{attrs:{theme:r?"safe":"danger"}},[n._v("\n                    "+n._s(r?n.$gettext("Running"):n.$gettext("Stopped"))+"\n                ")])]}},{key:"col:pid",fn:function(t){var r=t.pid;return[r.length?e("div",{staticClass:"pids",on:{click:n.toggle}},[n._v("\n                    "+n._s(r.join(" "))+"\n                ")]):e("span")]}},{key:"col:memory",fn:function(t){var r=t.memory;return[r?e("span",[n._v("\n                    "+n._s(n._f("humanReadableSize")(r))+"\n                ")]):n._e()]}},{key:"row:actions",fn:function(t){var r=t.item;return e("ui-actions",{attrs:{position:"left"}},[r.actions.start&&!r.pid.length?e("ui-link",{key:"start",on:{click:function(t){return n.start(r.service)}}},[e("translate",[n._v("Start")])],1):n._e(),n._v(" "),r.actions.stop&&r.pid.length?e("ui-link",{key:"stop",on:{click:function(t){return n.stop(r.service)}}},[e("translate",[n._v("Stop")])],1):n._e(),n._v(" "),r.actions.restart&&r.pid.length?e("ui-link",{key:"restart",on:{click:function(t){return n.restart(r.service)}}},[e("translate",[n._v("Restart")])],1):n._e(),n._v(" "),r.actions.reload&&r.pid.length?e("ui-link",{key:"reload",on:{click:function(t){return n.reload(r.service)}}},[e("translate",[n._v("Reload")])],1):n._e()],1)}}])},"ui-r-table",{columns:[{id:"service",label:n.$gettext("Service"),editable:!1},{id:"running",label:n.$gettext("Status")},{id:"pid",label:n.$gettext("PID(s)")},{id:"memory",label:n.$gettext("Memory Usage")}],rows:n.$api.services,isCheckable:!1,disablePagination:!0,verticalLayout:n.$_Client.isPhone},!1),[e("ui-button",{attrs:{slot:"buttons:before",size:"small",theme:"light",icon:n.$api.loading?"loader":"reload"},on:{click:n.reloadServices},slot:"buttons:before"},[e("translate",[n._v("\n                    Update Services List\n                ")])],1)],1)],1),n._v(" "),e("ui-dialog",{attrs:{id:"REBOOT_DIALOG",theme:"danger",size:"normal"}},[e("translate",{attrs:{slot:"title"},slot:"title"},[n._v("Reboot Server")]),n._v(" "),e("template",{slot:"content"},[e("translate",[n._v("Are you sure you want to reboot server?")]),n._v(" "),e("ui-form-element",{attrs:{vertical:""}},[e("translate",{attrs:{slot:"title"},slot:"title"},[n._v("Your Password:")]),n._v(" "),e("input-password",{attrs:{slot:"content"},slot:"content",model:{value:n.password,callback:function(t){n.password=t},expression:"password"}})],1)],1),n._v(" "),e("template",{slot:"buttons"},[e("ui-button",{attrs:{theme:"danger"},on:{click:n.handleReboot}},[e("translate",[n._v("Reboot")])],1)],1)],2)],2)},o=[];e.d(t,"a",(function(){return r})),e.d(t,"b",(function(){return o}))}}]);