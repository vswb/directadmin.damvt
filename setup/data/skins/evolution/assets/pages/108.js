(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{1431:function(n,e,t){"use strict";t.r(e);var a=t(3167),o=t(2287);for(var s in o)"default"!==s&&function(n){t.d(e,n,(function(){return o[n]}))}(s);t(2995);var i=t(0),r=t(2997),l=t.n(r),u=Object(i.a)(o.default,a.a,a.b,!1,null,"23f04e4a",null);"function"==typeof l.a&&l()(u),e.default=u.exports},1493:function(n,e,t){"use strict";var a=t(10),o=t(1);Object.defineProperty(e,"__esModule",{value:!0}),e.getDomainLog=e.updateDiskUsage=e.licenseVerify=e.setUserAwstats=e.setMultiple=e.setUserSkin=e.setUserEmail=e.setUserName=e.setUserStats=e.unsetPublicStats=e.setPublicStats=e.getWebalizerReport=e.getStatsStatus=e.getStats=void 0;var s=o(t(23)),i=o(t(2)),r=o(t(30)),l=t(603),u=a(t(6));function d(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,a)}return t}var c=r.default.get({id:"USER_STATS",url:"/CMD_USER_STATS",params:{bytes:!0},domain:!0,pagination:!0,after:function(n){return n.flow(n.project({domains:"domains",stats:"stats","addons.webalizer":"webalizer","addons.awstats":"awstats",limitNotice:"stats",customItems:"custom_items"}),n.mapProps({stats:n.flow(n.deleteProp("info"),n.toArray,n.filter((function(n){return!!n.usage})),n.transformObject((function(n){return(0,i.default)({},n.setting,{usage:n.usage||void 0,limit:n.max_usage||void 0})})),n.mapValues((function(n){return["ON","OFF"].includes(n.usage)?{usage:"ON"===n.usage}:"object"===(0,s.default)(n.usage)?function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?d(Object(t),!0).forEach((function(e){(0,i.default)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}({},n,{usage:Object.values(n.usage)}):n})),n.mapValues((function(e){return e.limit?n.toLimitedUsage(n.convert.toAppNumber)(e):e.usage})),n.mapProps({awstats:n.flow(n.toSelect,n.getProp("value"))})),domains:n.toTable(n.mapArray(n.flow((function(n){var e=n.subdomains||n.settings.subdomains||[];return void 0!==n.settings.subdomains&&delete n.settings.subdomains,n.subdomains=e,n}),n.mapProps({bandwidth:n.mapProp("usage",n.convert.toAppNumber),quota:n.convert.toAppNumber,log_usage:n.convert.toAppNumber,nsubdomains:n.convert.toAppNumber,suspended:n.convert.toAppBoolean,settings:n.mapValues(n.convert.toAppBoolean)})))),addons:n.flow(n.toArray,n.mapArray(n.isEqual("1")),n.reduce((function(n,e){return n||e}),!1)),limitNotice:function(e){var t=Object.values(e).find((function(n){return"send_usage_message"===n.setting}));return!!t&&{defaultValue:t.max_usage,value:n.toSelect(t.usage).value}},customItems:u.pipe(u.defaultTo({}),u.map(l.fromObject),u.filter((function(n){return n.value||"checkbox"===n.type})),u.values)}))}});e.getStats=c;var p=r.default.get({id:"STATS_STATUS",url:"/CMD_USER_STATS",domain:!0,after:function(n){return n.flow(n.project({awstats:"awstats",awstatsOptions:"domain_awstats",webalizer:"webalizer"}),n.mapProp("awstats",n.isEqual("1")),n.mapProp("webalizer",n.isEqual("1")))}});e.getStatsStatus=p;var m=r.default.get({id:"WEBALIZER_REPORT",url:"/CMD_FILE_MANAGER",response:!1,params:{action:"exists"},schema:{domain:r.default.DOMAIN,subdomain:r.default.OPTIONAL_STRING},before:function(n){var e=n.domain,t=n.subdomain;return{path:t?"/domains/".concat(e,"/stats/").concat(t,"/index.html"):"/domains/".concat(e,"/stats/index.html"),domain:null,subdomain:null}},after:function(){return function(n){return"1"===n.exists}}});e.getWebalizerReport=m;var f=r.default.select({url:"/CMD_PUBLIC_STATS",params:{action:"public",json:!0},domain:!0,schema:{path:r.default.REQUIRED_STRING}});e.setPublicStats=f;var A=r.default.select({url:"/CMD_PUBLIC_STATS",params:{action:"public",json:!0,unset:!0},schema:{path:r.default.REQUIRED_STRING}});e.unsetPublicStats=A;var g=r.default.post({url:"/CMD_CHANGE_INFO",params:{json:!0},domain:!0,schema:{evalue:r.default.OPTIONAL_STRING,nvalue:r.default.OPTIONAL_STRING,lvalue:r.default.OPTIONAL_STRING}});e.setUserStats=g;var v=r.default.post({url:"/CMD_CHANGE_INFO",domain:!0}),b=v.extend({params:{name:!0},schema:{nvalue:r.default.REQUIRED_STRING}});e.setUserName=b;var w=v.extend({params:{email:!0},schema:{evalue:r.default.REQUIRED_STRING}});e.setUserEmail=w;var h=v.extend({params:{skin:!0},schema:{skinvalue:r.default.REQUIRED_STRING}});e.setUserSkin=h;var _=v.extend({params:{set_multiple:!0,send_usage_message:!0},schema:{nvalue:r.default.OPTIONAL_STRING,evalue:r.default.OPTIONAL_STRING,skinvalue:r.default.OPTIONAL_STRING,lvalue:r.default.OPTIONAL_STRING,awstatsvalue:r.default.OPTIONAL_STRING,zvalue:r.default.OPTIONAL_STRING},before:function(n){return{name:!!n.nvalue||null,email:!!n.evalue||null,skin:!!n.skinvalue||null,language:!!n.lvalue||null,awstats:!!n.awstatsvalue||null,zoom:!!n.zvalue||null}}});e.setMultiple=_;var x=v.extend({params:{awstats:!0},schema:{awstatsvalue:r.default.REQUIRED_STRING}});e.setUserAwstats=x;var C=r.default.get({id:"LICENSE_VERIFY",url:"/CMD_LICENSE_VERIFY",notifySuccess:!0});e.licenseVerify=C;var y=r.default.post({url:"/CMD_CHANGE_INFO",params:{update:!0}});e.updateDiskUsage=y;var S=r.default.get({id:"DOMAIN_LOG",url:"/CMD_SHOW_LOG",params:{json:null},accepts:"text/plain",domain:!0,schema:{type:r.default.REQUIRED_STRING},after:function(n){return n.flow((function(n){return n.split("\n")}),(function(n){return n.slice(0,-1)}))}});e.getDomainLog=S},2287:function(n,e,t){"use strict";t.r(e);var a=t(2288),o=t.n(a);for(var s in a)"default"!==s&&function(n){t.d(e,n,(function(){return a[n]}))}(s);e.default=o.a},2288:function(n,e,t){"use strict";var a=t(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(1493),s={components:{InputTextEditor:a(t(1485)).default},preload:function(n){var e=n.domain,t=n.type;return(0,o.getDomainLog)({domain:e,type:"usage"===t?"log":"error",lines:"100"})},api:[{command:o.getDomainLog,bind:"log"}],props:{domain:{type:String,required:!0},type:{type:String,required:!0}},data:function(){return{lines:100,show:"lines"}},computed:{rawLink:function(){var n="usage"===this.type?"log":"error",e="/CMD_SHOW_LOG?domain=".concat(this.domain,"&type=").concat(n);return"lines"===this.show?"".concat(e,"&lines=").concat(this.lines):e},log:function(){return this.$api.log.join("\n")}},methods:{loadLog:function(){var n="usage"===this.type?"log":"error";(0,o.getDomainLog)({domain:this.domain,type:n,lines:"lines"===this.show?this.lines:null})}}};e.default=s},2289:function(n,e,t){var a=t(2996);"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);(0,t(5).default)("589113aa",a,!0,{})},2995:function(n,e,t){"use strict";var a=t(2289);t.n(a).a},2996:function(n,e,t){(n.exports=t(4)(!0)).push([n.i,"#domain-log h2.domain[data-v-23f04e4a]{color:#333;font-size:14px;background:#f7f7f7;text-align:left;padding:1rem;border-top-left-radius:4px;border-top-right-radius:4px;border:1px solid #ddd;border-bottom-width:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}#domain-log .log[data-v-23f04e4a],#domain-log h2.domain[data-v-23f04e4a]{margin:0;font-family:Consolas,Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,monospace,serif}#domain-log .log[data-v-23f04e4a]{list-style-type:decimal;list-style-position:outside;padding:2rem 0;background:#fff;padding:0 0 0 55px;border:1px solid #ddd;border-bottom-left-radius:4px;border-bottom-right-radius:4px;overflow-x:auto;color:#acacac}#domain-log .log .line[data-v-23f04e4a]{background:#fff;margin-left:-6px;white-space:nowrap;width:100%}#domain-log .log .line-content[data-v-23f04e4a]{color:#333;margin:0 0 0 -13px;border-left:1px solid #ddd;vertical-align:top;padding:0;position:relative;white-space:nowrap;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;height:100%;min-height:20px}","",{version:3,sources:["/home/evo/evolution/src/js/pages/user/stats/log.vue"],names:[],mappings:"AAoKA,uCAEQ,WACA,AAIA,eACA,mBACA,gBACA,aACA,2BACA,4BACA,sBACA,sBACA,oBAAA,oBAAA,aACA,yBAAA,sBAAA,8BACA,yBAAA,sBAAA,kBAAmB,CAjB3B,yEAGQ,SACA,0HAGA,CAPR,kCAoBQ,wBACA,4BACA,eACA,gBACA,AACA,mBACA,sBACA,8BACA,+BACA,gBACA,aACA,CA/BR,wCAmCY,gBACA,iBACA,mBACA,UAAW,CAtCvB,gDAwCgB,WACA,mBACA,2BACA,mBACA,UACA,kBACA,mBACA,2BAAA,2BAAA,oBACA,YACA,eAAgB,CAAA",file:"log.vue?vue&type=style&index=0&id=23f04e4a&lang=scss&scoped=true&",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#domain-log {\n    h2.domain {\n        color: #333;\n        margin: 0;\n        font-family: Consolas, Menlo, Monaco, 'Lucida Console',\n            'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono',\n            monospace, serif;\n        font-size: 14px;\n        background: #f7f7f7;\n        text-align: left;\n        padding: 1rem;\n        border-top-left-radius: 4px;\n        border-top-right-radius: 4px;\n        border: 1px solid #ddd;\n        border-bottom-width: 0;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n    }\n    .log {\n        list-style-type: decimal;\n        list-style-position: outside;\n        padding: 2rem 0;\n        background: #fff;\n        margin: 0;\n        padding: 0px 0px 0px 55px;\n        border: 1px solid #ddd;\n        border-bottom-left-radius: 4px;\n        border-bottom-right-radius: 4px;\n        overflow-x: auto;\n        color: #acacac;\n        font-family: Consolas, Menlo, Monaco, 'Lucida Console',\n            'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono',\n            monospace, serif;\n        .line {\n            background: white;\n            margin-left: -6px;\n            white-space: nowrap;\n            width: 100%;\n            &-content {\n                color: #333;\n                margin: 0 0 0 -13px;\n                border-left: 1px solid #ddd;\n                vertical-align: top;\n                padding: 0px;\n                position: relative;\n                white-space: nowrap;\n                display: inline-flex;\n                height: 100%;\n                min-height: 20px;\n            }\n        }\n    }\n}\n"],sourceRoot:""}])},2997:function(n,e){},3167:function(n,e,t){"use strict";var a=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("app-page",{attrs:{id:"domain-log"}},[t("template",{slot:"page:title"},["usage"===n.type?t("translate",{attrs:{"translate-params":{domain:n.domain}}},[n._v("\n            View Usage Log for %{ domain }\n        ")]):t("translate",{attrs:{"translate-params":{domain:n.domain}}},[n._v("\n            View Error Log for %{ domain }\n        ")])],1),n._v(" "),t("app-page-section",[t("div",{directives:[{name:"gutter",rawName:"v-gutter",value:1,expression:"1"}],staticClass:"filters"},[t("ui-form-element",{attrs:{underline:"lines"===n.show}},[t("translate",{attrs:{slot:"title"},slot:"title"},[n._v("\n                    Show\n                ")]),n._v(" "),t("div",{directives:[{name:"gutter",rawName:"v-gutter",value:[0,2],expression:"[0, 2]"}],attrs:{slot:"content"},slot:"content"},[t("input-check",{attrs:{type:"radio",value:"full"},on:{change:n.loadLog},model:{value:n.show,callback:function(e){n.show=e},expression:"show"}},[t("translate",[n._v("Full Log")])],1),n._v(" "),t("input-check",{attrs:{type:"radio",value:"lines"},on:{change:n.loadLog},model:{value:n.show,callback:function(e){n.show=e},expression:"show"}},[t("translate",[n._v("Tail")])],1)],1)],1),n._v(" "),t("transition",{attrs:{name:"fade"}},["lines"===n.show?t("ui-form-element",{attrs:{underline:!1}},[t("translate",{attrs:{slot:"title"},slot:"title"},[n._v("\n                        Number of lines to show\n                    ")]),n._v(" "),t("div",{attrs:{slot:"content"},slot:"content"},[t("input-text",{attrs:{number:""},on:{keyup:function(e){return!e.type.indexOf("key")&&n._k(e.keyCode,"enter",13,e.key,"Enter")?null:n.loadLog(e)}},model:{value:n.lines,callback:function(e){n.lines=e},expression:"lines"}}),n._v(" "),t("ui-button",{attrs:{theme:"safe",size:"normal",disabled:!Number(n.lines)},on:{click:n.loadLog}},[t("translate",[n._v("Reload Log")])],1)],1)],1):n._e()],1)],1),n._v(" "),t("input-text-editor",{attrs:{value:n.log,"read-only":"","disable-modes":""}},[t("div",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center",main:"between"},expression:"{\n                    cross: 'center',\n                    main: 'between',\n                }"}],attrs:{slot:"header"},slot:"header"},[n._v("\n                "+n._s(n.domain)+"\n                "),t("ui-button-link",{attrs:{size:"small",theme:"light",href:n.rawLink,target:"_blank"}},[t("translate",[n._v("raw")])],1)],1)])],1)],2)},o=[];t.d(e,"a",(function(){return a})),t.d(e,"b",(function(){return o}))}}]);