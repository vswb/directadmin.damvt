(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{1378:function(t,e,n){"use strict";n.r(e);var a=n(3114),i=n(2026);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n(2814);var s=n(0),r=n(2816),u=n.n(r),l=Object(s.a)(i.default,a.a,a.b,!1,null,null,null);"function"==typeof u.a&&u()(l),e.default=l.exports},1442:function(t,e,n){"use strict";var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.validateIPRangeList=e.validateDomain=e.validatePassword=e.validateSubdomain=e.validateUsername=e.validateDBUser=e.validateDatabase=e.validateDNSName=e.validateMXValue=e.validateDNSValue=e.validateFTP=e.validateEmail=e.validateForwarder=void 0;var i=a(n(30)),o=a(n(36)),s=a(n(1443)),r=i.default.get({url:"/CMD_JSON_VALIDATE",schema:{value:i.default.REQUIRED_STRING},response:{valid:!0,message:""},mapResponse:{valid:s.default.isValid,message:s.default.getMessage}}),u=r.extend({id:"VALIDATE_FORWARDER",params:{type:"forwarder",ignore_system_default:!0}});e.validateForwarder=u;var l=r.extend({id:"VALIDATE_EMAIL",params:{type:"email",check_mailing_list:!0},schema:{check_exists:{type:Boolean,required:!1,default:!0}}});e.validateEmail=l;var d=r.extend({id:"VALIDATE_FTP",params:{type:"ftp"},domain:!0});e.validateFTP=d;var c=r.extend({params:{type:"dns"},domain:!0,schema:{record:i.default.REQUIRED_STRING}}),p=c.extend({id:"VALIDATE_DNS_VALUE",params:{check:"value",name:!0},domain:!0,schema:{value:i.default.REQUIRED_STRING}});e.validateDNSValue=p;var m=p.extend({id:"VALIDATE_MX_VALUE",params:{record:"MX"},before:function(t){return{value:"10",mx_value:t.value}}});e.validateMXValue=m;var f=c.extend({id:"VALIDATE_DNS_NAME",params:{check:"name",value:!0,mx_value:!0},schema:{name:i.default.REQUIRED_STRING,value:null}});e.validateDNSName=f;var v=r.extend({id:"VALIDATE_DATABASE",params:{type:"dbname"}});e.validateDatabase=v;var _=r.extend({id:"VALIDATE_DATABASE_USER",params:{type:"dbusername"}});e.validateDBUser=_;var h=r.extend({id:"VALIDATE_USERNAME",params:{type:"username"}});e.validateUsername=h;var D=r.extend({id:"VALIDATE_SUBDOMAIN",domain:!0,params:{type:"subdomain"}});e.validateSubdomain=D;var b=r.extend({id:"VALIDATE_PASSWORD",params:{type:"password"}});e.validatePassword=b;var I=r.extend({id:"VALIDATE_DOMAIN",params:{type:"domain"},before:function(t){var e=t.value;return{value:o.default.toASCII(e)}}});e.validateDomain=I;var O=r.extend({id:"VALIDATE_IP_RANGE_LIST",params:{type:"ip_range_list"}});e.validateIPRangeList=O},1443:function(t,e,n){"use strict";n.r(e);var a=n(35);e.default={isValid:function(t){return void 0===t.error},getMessage:function(t){return Object(a.toAppHtml)(t.error||"")}}},1462:function(t,e,n){"use strict";var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.setDomainPHPVersions=e.getDomainPHPVersions=e.deleteDomainIps=e.getDomainIps=e.assignDomainIps=e.setDomainPrivateHtml=e.modifyDomain=e.renameDomain=e.createDomain=e.deleteDomains=e.changeDomainStatus=e.setDefaultDomain=e.getCustomItems=e.getDomain=e.getDomains=void 0;var i=a(n(2)),o=a(n(30)),s=a(n(1489));function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}var u=o.default.get({id:"GET_DOMAINS",url:"/CMD_ADDITIONAL_DOMAINS",params:{bytes:!0},response:[],mapResponse:s.default.getDomains});e.getDomains=u;var l=o.default.get({id:"GET_DOMAIN",url:"/CMD_ADDITIONAL_DOMAINS",params:{action:"view"},schema:{domain:o.default.DOMAIN},mapResponse:s.default.getDomain});e.getDomain=l;var d=o.default.get({id:"DOMAIN_CUSTOM_ITEMS",url:"/HTM_ADD_DOMAIN",mapResponse:s.default.getDomain.custom_items});e.getCustomItems=d;var c=o.default.select({url:"/CMD_DOMAIN"}),p=c.extend({params:{default:!0}});e.setDefaultDomain=p;var m=c.extend({params:{reason:"Other",suspend:!0}});e.changeDomainStatus=m;var f=c.extend({params:{delete:!0,confirmed:!0,delete_data_aware:!0},schema:{delete_data:o.default.REQUIRED_BOOL}});e.deleteDomains=f;var v=o.default.post({url:"/CMD_DOMAIN",params:{action:"create"},schema:{domain:o.default.REQUIRED_STRING,bandwidth:o.default.OPTIONAL_STRING,unbandwidth:o.default.OPTIONAL_STRING,quota:o.default.OPTIONAL_STRING,uquota:o.default.OPTIONAL_STRING,ssl:o.default.OPTIONAL_STRING,cgi:o.default.OPTIONAL_STRING,php:o.default.OPTIONAL_STRING},notifySuccess:!0,notifyError:!0});e.createDomain=v;var _=o.default.post({url:"/CMD_CHANGE_DOMAIN",params:{json:!0},schema:{old_domain:o.default.REQUIRED_STRING,new_domain:o.default.REQUIRED_STRING}});e.renameDomain=_;var h=o.default.post({url:"/CMD_DOMAIN",params:{action:"modify",form_version:"1.1"},body:{domain:o.default.DOMAIN,bandwidth:o.default.REQUIRED_STRING,ubandwidth:o.default.REQUIRED_STRING,quota:o.default.REQUIRED_STRING,uquota:o.default.REQUIRED_STRING,ssl:o.default.REQUIRED_STRING,php:o.default.REQUIRED_STRING,cgi:o.default.REQUIRED_STRING,www_pointers:o.default.OPTIONAL_STRING,force_redirect:o.default.REQUIRED_STRING}});e.modifyDomain=h;var D=o.default.post({url:"/CMD_DOMAIN",params:{action:"private_html"},schema:{domain:o.default.DOMAIN,val:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},o.default.REQUIRED_STRING,{validator:function(t){return["directory","symlink"].includes(t)}}),force_ssl:o.default.OPTIONAL_BOOL},notifySuccess:!1});e.setDomainPrivateHtml=D;var b=o.default.post({url:"/CMD_DOMAIN",params:{action:"multi_ip",add:!0},schema:{domain:o.default.DOMAIN,ip:o.default.REQUIRED_STRING,dns:o.default.OPTIONAL_BOOL}});e.assignDomainIps=b;var I=o.default.get({id:"DOMAIN_IPS",url:"/CMD_ADDITIONAL_DOMAINS",params:{action:"view",ips:!0},schema:{domain:o.default.DOMAIN},after:function(t){return t.flow(t.project({assigned:"assigned_ips",available:"available_ips"}),t.mapProp("assigned",t.mapArray((function(t){return{ip:t}}))))}});e.getDomainIps=I;var O=o.default.post({url:"/CMD_DOMAIN",params:{action:"multi_ip",delete:!0},schema:{domain:o.default.DOMAIN,select:o.default.ROWS,removedns:o.default.OPTIONAL_BOOL}});e.deleteDomainIps=O;var g=o.default.get({id:"DOMAIN_PHP_VERSIONS",url:"/CMD_ADDITIONAL_DOMAINS",params:{action:"view"},domain:!0,mapResponse:s.default.getPhpVersions});e.getDomainPHPVersions=g;var A=o.default.post({url:"/CMD_DOMAIN",method:"POST",params:{action:"php_selector",save:!0},domain:!0,schema:{php1_select:o.default.REQUIRED_STRING}});e.setDomainPHPVersions=A},1489:function(t,e,n){"use strict";n.r(e),n.d(e,"toDomain",(function(){return r})),n.d(e,"getDomainInfo",(function(){return u})),n.d(e,"processCheckbox",(function(){return l})),n.d(e,"processText",(function(){return d})),n.d(e,"processSelect",(function(){return c})),n.d(e,"getMap",(function(){return p})),n.d(e,"getCustomItems",(function(){return f})),n.d(e,"getPhpVersions",(function(){return v}));var a=n(6),i=n(35),o=function(){return(o=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},s=a.pipe(Number,Number.isFinite),r=function(t){return{domain:t.domain,active:Object(i.toBoolean)(t.active),defaultdomain:Object(i.toBoolean)(t.defaultdomain),subdomain:Object(i.toNumber)(t.subdomain),bandwidth:Object(i.toUsage)({usage:s(t.bandwidth)?t.bandwidth:"0",limit:t.bandwidth_limit}),quota:Object(i.toUsage)({usage:s(t.quota)?t.quota:"0",limit:t.quota_limit}),pointers:a.pipe(a.defaultTo({}),a.keys,a.map(String))(t.pointers)}},u=function(t){return{bandwidth:t.bandwidth,quota:t.quota,ssl:"ON"===t.ssl,cgi:"ON"===t.cgi,php:"ON"===t.php,show_ips:"yes"===t.has_multiple_ips,show_php:"yes"===t.has_php_selector,force_ssl:"yes"===t.force_ssl,private_html:"link"===t.private_html?"symlink":"directory",force_redirect:t.force_redirect||"none"}},l=function(t){return{type:"checkbox",value:"ON"===t.value||"yes"===t.checked,description:t.desc||"",label:t.string||"",api_only:"yes"===t.api_only,hidden:"yes"===t.hidden}},d=function(t){return{type:"text",description:t.desc||"",label:t.string||"",value:t.value||"",api_only:"yes"===t.api_only,hidden:"yes"===t.hidden}},c=function(t){var e=Object.keys(t).filter((function(t){return/^item\d+val*$/.test(t)})).reduce((function(e,n){var a;return o(o({},e),((a={})[t[n]]=t[n.replace("val","txt")]||"",a))}),{});return{type:"select",description:t.desc||"",label:t.string||"",value:t.value||t.default||"",options:e,api_only:"yes"===t.api_only,hidden:"yes"===t.hidden}},p=function(t){return t.split("&").reduce((function(t,e){var n,a=e.split("="),i=a[0],s=void 0===i?"":i,r=a[1],u=void 0===r?"":r;return o(o({},t),((n={})[s]=u,n))}),{})},m=function(t){switch(t.type){case"listbox":return c(t);case"checkbox":return l(t);default:return d(t)}},f=function(t){var e=a.mapObjIndexed(p,t.custom_domain_items||{}),n=a.pickAll(a.keys(e),t),i=a.mergeDeepLeft(a.mapObjIndexed((function(t){return{value:t}}),n),e);return a.mapObjIndexed(m,i)},v=function(t){if("yes"===t.has_php_selector){if("object"==typeof t.php1_select)return{enabled:!0,legacy:"2"===t.php_selector_count,versions:Object(i.toSelectData)(t.php1_select)};var e=a.pick(a.map((function(t){return"php"+t+"_select"}),a.range(1,5)),t.options);return{enabled:!0,versions:{value:t.php1_select,options:e},legacy:"2"===t.php_selector_count}}return{enabled:!1,legacy:!1,versions:{options:{},value:""}}};e.default={getDomains:function(t){return a.map(r,a.values(t))},getDomain:{domain:u,custom_items:f},getPhpVersions:v}},2026:function(t,e,n){"use strict";n.r(e);var a=n(2027),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e.default=i.a},2027:function(t,e,n){"use strict";var a=n(10),i=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(15)),s=i(n(16)),r=i(n(2)),u=n(1462),l=n(1442),d=a(n(6));function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){(0,r.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m,f={preload:u.getCustomItems,api:[{command:u.getCustomItems,bind:"customItems"}],commands:{validateDomain:l.validateDomain},data:function(){return{domain:"",bandwidth:"1000",ubandwidth:!0,quota:"0",uquota:!0,ssl:!0,cgi:!1,php:!0,custom:{}}},computed:{customItemsData:function(){var t=d.keys(d.filter((function(t){return!t.api_only}),this.$api.customItems));return d.map((function(t){return"boolean"==typeof t?t?"ON":"OFF":t}),d.pick(t,this.custom))},requestData:function(){return p({ssl:this.ssl?"ON":null,cgi:this.cgi?"ON":null,php:this.php?"ON":null,bandwidth:this.ubandwidth?null:this.bandwidth,quota:this.uquota?null:this.quota,ubandwidth:this.ubandwidth?"unlimited":null,uquota:this.uquota?"unlimited":null},this.customItemsData)},visibleCustomItems:function(){return d.filter(d.complement(d.prop("hidden")),this.$api.customItems)}},created:function(){var t=this;Object.keys(this.$api.customItems).forEach((function(e){return t.$set(t.custom,e,t.$api.customItems[e].value)}))},methods:{getComponent:function(t){return{text:"input-text",checkbox:"input-checkbox",select:"input-select"}[t.type]},createDomain:(m=(0,s.default)(o.default.mark((function t(){var e;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.$p6e.toA(this.domain),this.domain!==e&&this.$notifications.info({title:this.$gettext("Domain name punycoded"),content:this.$gettext("Domain name has been automatically converted to punycode format. Punycode is used to encode internationalized domain names (IDN) by converting Unicode characters to ASCII.")}),t.next=4,(0,u.createDomain)(p({},this.requestData,{domain:e}));case 4:if(!t.sent){t.next=9;break}return t.next=8,this.$store.dispatch("app/GET_TOKENS");case 8:this.$router.push({name:"user/domains"});case 9:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)}),checkQuota:function(){this.quota||(this.quota="0")},checkBandwidth:function(){this.bandwidth||(this.bandwidth="0")}}};e.default=f},2028:function(t,e,n){var a=n(2815);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(5).default)("119b92e2",a,!0,{})},2814:function(t,e,n){"use strict";var a=n(2028);n.n(a).a},2815:function(t,e,n){(t.exports=n(4)(!0)).push([t.i,"html.vue-app.mobile .grouped-input input[type=text]{width:1px}","",{version:3,sources:["/home/evo/evolution/src/js/pages/user/domains/add.vue"],names:[],mappings:"AAkQA,oDACI,SAAU,CAAA",file:"add.vue?vue&type=style&index=0&lang=scss&",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nhtml.vue-app.mobile .grouped-input input[type='text'] {\n    width: 1px;\n}\n"],sourceRoot:""}])},2816:function(t,e){},3114:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-page",[n("ui-button",{attrs:{slot:"footer:buttons",theme:"primary","validate-group":"createDomain"},on:{click:t.createDomain},slot:"footer:buttons"},[n("translate",[t._v("Create")])],1),t._v(" "),n("app-page-section",[n("ui-form-element",{attrs:{group:"createDomain",validators:{required:!0,api:t.$commands.validateDomain},vertical:t.$_Client.isPhone}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Domain:\n            ")]),t._v(" "),n("translate",{attrs:{slot:"tooltip"},slot:"tooltip"},[t._v("\n                Do not use CAPS, www, or http:// in your domain name\n            ")]),t._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.domain,callback:function(e){t.domain=e},expression:"domain"}})],1),t._v(" "),n("ui-form-element",{attrs:{vertical:t.$_Client.isPhone}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Bandwidth\n            ")]),t._v(" "),n("ui-input-group",{attrs:{slot:"content"},slot:"content"},[n("input-text",{staticClass:"grouped-input",style:{width:"1px"},attrs:{slot:"input",number:"",disabled:t.ubandwidth,suffix:"MB"},on:{blur:t.checkBandwidth},slot:"input",model:{value:t.bandwidth,callback:function(e){t.bandwidth=e},expression:"bandwidth"}}),t._v(" "),n("input-checkbox-button",{attrs:{slot:"additions:right"},slot:"additions:right",model:{value:t.ubandwidth,callback:function(e){t.ubandwidth=e},expression:"ubandwidth"}},[n("translate",{staticClass:"wrap:nowrap"},[t._v("\n                        Same as Main account\n                    ")])],1)],1)],1),t._v(" "),n("ui-form-element",{attrs:{vertical:t.$_Client.isPhone}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Disk Usage\n            ")]),t._v(" "),n("ui-input-group",{attrs:{slot:"content"},slot:"content"},[n("input-text",{staticClass:"grouped-input",style:{width:"1px"},attrs:{slot:"input",disabled:t.uquota,number:"",suffix:"MB"},on:{blur:t.checkQuota},slot:"input",model:{value:t.quota,callback:function(e){t.quota=e},expression:"quota"}}),t._v(" "),n("input-checkbox-button",{attrs:{slot:"additions:right"},slot:"additions:right",model:{value:t.uquota,callback:function(e){t.uquota=e},expression:"uquota"}},[n("translate",{staticClass:"wrap:nowrap"},[t._v("\n                        Same as Main account\n                    ")])],1)],1)],1),t._v(" "),n("ui-form-element",{attrs:{underline:!1}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Options\n            ")]),t._v(" "),n("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:t.$_Client.isMobile?"column":"row",cross:t.$_Client.isMobile?"start":"center"},expression:"{\n                    dir: $_Client.isMobile\n                        ? 'column'\n                        : 'row',\n                    cross: $_Client.isMobile\n                        ? 'start'\n                        : 'center'\n                }"},{name:"gutter",rawName:"v-gutter",value:1,expression:"1"}],attrs:{slot:"content"},slot:"content"},[n("input-check",{model:{value:t.ssl,callback:function(e){t.ssl=e},expression:"ssl"}},[n("translate",[t._v("Secure SSL")])],1),t._v(" "),n("input-check",{model:{value:t.cgi,callback:function(e){t.cgi=e},expression:"cgi"}},[n("translate",[t._v("CGI Access")])],1),t._v(" "),n("input-check",{model:{value:t.php,callback:function(e){t.php=e},expression:"php"}},[n("translate",[t._v("PHP Access")])],1)],1)],1)],1),t._v(" "),Object.keys(t.visibleCustomItems).length?n("app-page-section",[n("translate",{attrs:{slot:"section:title"},slot:"section:title"},[t._v("\n            Custom Items\n        ")]),t._v(" "),t._l(t.visibleCustomItems,(function(e,a){return n("ui-form-element",{key:a},[n("span",{attrs:{slot:"title"},domProps:{textContent:t._s(e.label)},slot:"title"}),t._v(" "),e.description?n("span",{attrs:{slot:"tooltip"},domProps:{textContent:t._s(e.description)},slot:"tooltip"}):t._e(),t._v(" "),n(t.getComponent(e),{tag:"component",attrs:{slot:"content",options:e.options||{},disabled:e.api_only},slot:"content",model:{value:t.custom[a],callback:function(e){t.$set(t.custom,a,e)},expression:"custom[id]"}})],1)}))],2):t._e()],1)},i=[];n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}))}}]);