(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{1316:function(e,n,t){"use strict";t.r(n);var a=t(3055),s=t(1694);for(var i in s)"default"!==i&&function(e){t.d(n,e,(function(){return s[e]}))}(i);t(2585);var r=t(0),o=t(2587),l=t.n(o),d=Object(r.a)(s.default,a.a,a.b,!1,null,null,null);"function"==typeof l.a&&l()(d),n.default=d.exports},1694:function(e,n,t){"use strict";t.r(n);var a=t(1695),s=t.n(a);for(var i in a)"default"!==i&&function(e){t.d(n,e,(function(){return a[e]}))}(i);n.default=s.a},1695:function(e,n,t){"use strict";var a=t(10);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=a(t(2584)),i={preload:s.getData,api:[{command:s.getData,bind:"data"}],commands:s,data:function(){return{select:[],safeMode:!1,openBaseDir:!1,filter:{column:"domain",value:"",type:"equals"}}},computed:{settings:function(){return this.$api.data}},created:function(){this.safeMode=this.settings.safemode,this.openBaseDir=this.settings.open_basedir},methods:{enableBasedir:function(){s.enableBasedir({select:this.select}).then(this.$reloadApiTable)},disableBasedir:function(){s.disableBasedir({select:this.select}).then(this.$reloadApiTable)},saveSettings:function(){s.safeDefaults({enabled:this.safeMode?"ON":"OFF",obdenabled:this.openBaseDir?"ON":"OFF"})}}};n.default=i},1696:function(e,n,t){var a=t(2586);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,t(5).default)("ea4fc624",a,!0,{})},2584:function(e,n,t){"use strict";var a=t(1);Object.defineProperty(n,"__esModule",{value:!0}),n.safeDefaults=n.disableBasedir=n.enableBasedir=n.getData=void 0;var s=a(t(30)),i=t(14),r="/CMD_PHP_SAFE_MODE",o=s.default.get({id:"PHP_SAFE_MODE_DATA",url:r,params:{sort1:2},pagination:!0,after:function(e){return e.flow(e.processTableInfo("domains"),e.moveProp("domains","rows"),e.mapProps({rows:e.flow(e.toArray,e.mapArray(e.flow(e.moveProp("checkbox","child"),e.mapProps({child:function(e){return void 0===e},php:e.isEqual("ON"),open_basedir:e.isEqual("ON")}))),(function(e){return i._.sortBy(e,["user","child"])})),have_openbasedir:e.isEqual("1"),have_safemode:e.isEqual("1"),open_basedir:e.isEqual("ON"),safemode:e.isEqual("ON")}))}});n.getData=o;var l=s.default.select({url:r,params:{action:"set",enable_obd:!0}});n.enableBasedir=l;var d=s.default.select({url:r,params:{action:"set",disable_obd:!0}});n.disableBasedir=d;var c=s.default.post({url:r,params:{action:"enabled"},schema:{enabled:s.default.REQUIRED_STRING,obdenabled:s.default.REQUIRED_STRING}});n.safeDefaults=c},2585:function(e,n,t){"use strict";var a=t(1696);t.n(a).a},2586:function(e,n,t){(e.exports=t(4)(!0)).push([e.i,"html.vue-app #php-safe-mode .child{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;font-size:11px}html.vue-app.dir\\:ltr #php-safe-mode .child{border-left:1px solid #e0e0e0;padding-left:1rem}html.vue-app.dir\\:rtl #php-safe-mode .child{border-right:1px solid #e0e0e0;padding-right:1rem}html.vue-app #php-safe-mode .search-type-select{min-width:12rem}","",{version:3,sources:["/home/evo/evolution/src/js/pages/admin/php-safe-mode.vue","/home/evo/evolution/src/sass/framework/_dir.scss"],names:[],mappings:"AAsMA,mCAGY,oBAAA,oBAAA,aACA,yBAAA,sBAAA,mBACA,YACA,cAAe,CAUlB,4CAPO,8BACA,iBAAkB,CCjM7B,4CDoMW,+BACA,kBAAmB,CAdnC,gDAkBY,eAAgB,CAAA",file:"php-safe-mode.vue?vue&type=style&index=0&lang=scss&",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import 'framework';\nhtml.vue-app {\n    #php-safe-mode {\n        .child {\n            display: flex;\n            align-items: center;\n            height: 100%;\n            font-size: 11px;\n\n            @include ltr {\n                border-left: $-input-border;\n                padding-left: 1rem;\n            }\n            @include rtl {\n                border-right: $-input-border;\n                padding-right: 1rem;\n            }\n        }\n        .search-type-select {\n            min-width: 12rem;\n        }\n    }\n}\n","@function -get-dir-selector($selector, $dir) {\n    $mobile: str-index($selector, 'html.vue-app.mobile');\n    @if $mobile {\n        @return 'html.vue-app.mobile.dir\\\\:#{$dir} ' + str-slice($selector, 20);\n    }\n    $desktop: str-index($selector, 'html.vue-app');\n    @if $desktop {\n        @return 'html.vue-app.dir\\\\:#{$dir} ' + str-slice($selector, 13);\n    }\n    @return 'html.vue-app.dir\\\\:#{$dir} ' + $selector;\n}\n\n@mixin ltr {\n    @at-root #{-get-dir-selector('#{&}', 'ltr')} {\n        @content;\n    }\n}\n@mixin rtl {\n    @at-root #{-get-dir-selector('#{&}', 'rtl')} {\n        @content;\n    }\n}"],sourceRoot:""}])},2587:function(e,n){},3055:function(e,n,t){"use strict";var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("app-page",{attrs:{id:"php-safe-mode"}},[t("app-page-section",[t("ui-form-element",{attrs:{underline:!1}},[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Show Domains that\n            ")]),e._v(" "),t("ui-input-group",{attrs:{slot:"content"},slot:"content"},[t("input-select",{staticClass:"search-type-select",attrs:{slot:"additions:left",options:{startswith:e.$gettext("Starts With"),contains:e.$gettext("Contains"),equals:e.$gettext("Equals")}},slot:"additions:left",model:{value:e.filter.type,callback:function(n){e.$set(e.filter,"type",n)},expression:"filter.type"}}),e._v(" "),t("input-text",{attrs:{slot:"input"},slot:"input",model:{value:e.filter.value,callback:function(n){e.$set(e.filter,"value",n)},expression:"filter.value"}}),e._v(" "),t("ui-button",{attrs:{slot:"additions:right",theme:"light",size:"normal",icon:"close",title:e.$gettext("Clear Search")},on:{click:function(n){e.filter.value=""}},slot:"additions:right"})],1)],1)],1),e._v(" "),t("app-page-section",[t("ui-api-table",e._b({on:{"action:enable":e.enableBasedir,"action:disable":e.disableBasedir},scopedSlots:e._u([{key:"col:domain",fn:function(n){var a=n.domain;return[n.child?t("span",{staticClass:"child"},[e._v(e._s(e._f("p6eUnicode")(a)))]):t("strong",[e._v(e._s(e._f("p6eUnicode")(a)))])]}},{key:"col:user",fn:function(n){var a=n.user;return t("ui-link",{attrs:{name:"reseller/users/view",params:{user:a}}},[e._v("\n                "+e._s(a)+"\n            ")])}},{key:"row:actions",fn:function(n){var a=n.php,s=n.open_basedir;return t("ui-grid",{attrs:{gutter:"small"}},[e.settings.have_safemode?t("ui-badge",{attrs:{theme:a?"safe":"danger",title:s?e.$gettext("Enabled"):e.$gettext("Disabled")}},[t("translate",[e._v("PHP")])],1):e._e(),e._v(" "),e.settings.have_openbasedir?t("ui-badge",{attrs:{theme:s?"safe":"danger",title:s?e.$gettext("Enabled"):e.$gettext("Disabled")}},[t("translate",[e._v("Open BaseDir")])],1):e._e()],1)}}]),model:{value:e.select,callback:function(n){e.select=n},expression:"select"}},"ui-api-table",{command:e.$commands.getData,rowID:"domain",columns:{domain:{label:e.$gettext("Domain"),grow:!0},user:e.$gettext("User")},actions:{enable:e.$gettext("Enable Open Basedir"),disable:e.$gettext("Disable Open Basedir")},filters:[e.filter],disableSelectFor:function(e){return e.child},editable:!1},!1))],1),e._v(" "),t("app-page-section",[t("ui-form-element",[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Defaults for new domains\n            ")]),e._v(" "),t("div",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center"},expression:"{ cross: 'center' }"}],attrs:{slot:"content"},slot:"content"},[t("input-checkbox",{model:{value:e.safeMode,callback:function(n){e.safeMode=n},expression:"safeMode"}},[t("translate",[e._v("Safe Mode")])],1),e._v(" "),t("input-checkbox",{directives:[{name:"margin",rawName:"v-margin",value:[0,1],expression:"[ 0, 1 ]"}],model:{value:e.openBaseDir,callback:function(n){e.openBaseDir=n},expression:"openBaseDir"}},[t("translate",[e._v("Open BaseDir")])],1)],1)],1)],1),e._v(" "),t("ui-button",{attrs:{slot:"footer:buttons",theme:"safe"},on:{click:e.saveSettings},slot:"footer:buttons"},[t("translate",[e._v("Save")])],1)],1)},s=[];t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return s}))}}]);