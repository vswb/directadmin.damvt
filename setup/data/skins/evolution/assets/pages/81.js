(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{1436:function(t,e,n){"use strict";n.r(e);var a=n(3172),r=n(2303);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);n(3011);var s=n(0),i=n(3013),u=n.n(i),c=Object(s.a)(r.default,a.a,a.b,!1,null,"a0c63510",null);"function"==typeof u.a&&u()(c),e.default=c.exports},1482:function(t,e,n){"use strict";var a=n(10),r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.getPhpDocrootOptions=e.phpOverride=e.docrootOverride=e.getSubdomainLog=e.deleteSubdomains=e.createSubdomain=e.getSubdomains=void 0;var o=r(n(2)),s=r(n(30));a(n(6));function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}var u=s.default.get({id:"GET_SUBDOMAINS",url:"/CMD_SUBDOMAIN",schema:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){(0,o.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({domain:s.default.DOMAIN},s.default.PAGINATION),after:function(t){return t.flow(t.moveProp("subdomains","rows"),t.moveProp("allow_subdomain_docroot_override","docroot"),t.processTableInfo("rows"),t.mapProps({awstats:t.isEqual("1"),webalizer:t.isEqual("1"),docroot:t.isEqual("1"),has_php_selector:t.isEqual("yes"),rows:t.flow(t.toArray,t.mapArray(t.moveProp("subdomain_docroot_override","docroot")),t.mapArrayProps({bandwidth:t.convert.toAppNumber,stats:t.mapProps({webalizer_only:t.convert.toAppBoolean}),docroot:function(e){if(e&&Object.keys(e).length){if(void 0!==e.php1_select){var n=t.toSelect(e.php1_select),a=n.options,r=n.value;return{public_html:e.public_html,private_html:e.private_html,php_labels:a,php1_select:r}}return e}return!1}}))}))}});e.getSubdomains=u;var c=s.default.post({url:"/CMD_SUBDOMAIN",params:{action:"create"},schema:{domain:s.default.DOMAIN,subdomain:s.default.REQUIRED_STRING}});e.createSubdomain=c;var l=s.default.select({url:"/CMD_SUBDOMAIN",params:{action:"delete"},domain:!0,body:{contents:s.default.REQUIRED_BOOL}});e.deleteSubdomains=l;var p=s.default.get({id:"GET_SUBDOMAIN_LOG",url:"/CMD_SHOW_LOG",params:{json:null},accept:"text/plain",schema:{domain:s.default.DOMAIN,type:s.default.REQUIRED_STRING,subdomain:s.default.REQUIRED_STRING,lines:s.default.OPTIONAL_STRING},after:function(t){return t.flow(t.convert.toLines,(function(t){return t.slice(0,-1)}))}});e.getSubdomainLog=p;var d=s.default.post({url:"/CMD_SUBDOMAIN",params:{action:"document_root_override"},domain:!0,schema:{subdomain:s.default.REQUIRED_STRING,private_html:s.default.OPTIONAL_STRING,public_html:s.default.OPTIONAL_STRING}});e.docrootOverride=d;var f=s.default.post({url:"/CMD_SUBDOMAIN",domain:!0,params:{action:"php_selector"},schema:{subdomain:s.default.REQUIRED_STRING,php1_select:s.default.REQUIRED_STRING}});e.phpOverride=f;var b=s.default.get({url:"/CMD_SUBDOMAIN",id:"SUBDOMAIN_DATA",domain:!0,params:{action:"show_docroot_override"},schema:{subdomain:s.default.REQUIRED_STRING},after:function(t){return t.flow(t.project({has_php_selector:"has_php_selector",http:"public_html",https:"private_html",php:"php1_select"}),t.mapProps({php:t.toSelect,has_php_selector:t.isEqual("yes")}))}});e.getPhpDocrootOptions=b},2303:function(t,e,n){"use strict";n.r(e);var a=n(2304),r=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e.default=r.a},2304:function(t,e,n){"use strict";var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(17)),o=a(n(2)),s=n(1482),i=n(3010),u=n(24),c=n(14),l=a(n(604));function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}var d={preload:[s.getSubdomains,i.getWebalizerStatus],api:[{command:s.getSubdomains,bind:"subdomains"},{command:i.getWebalizerStatus,bind:"webalizerStatus"}],mixins:[(0,u.$bindTab)({param:"tab",defaultTab:"webalizer"})],props:{subdomain:{type:String,required:!0}},data:function(){return{report:""}},computed:{awstats:function(){var t=this,e={January:this.$gettext("January"),February:this.$gettext("February"),March:this.$gettext("March"),April:this.$gettext("April"),May:this.$gettext("May"),June:this.$gettext("June"),July:this.$gettext("July"),August:this.$gettext("August"),September:this.$gettext("September"),October:this.$gettext("October"),November:this.$gettext("November"),December:this.$gettext("December")},n=new RegExp(Object.keys(e).join("|"));if(this.$api.subdomains.awstats){var a=c.fp.transformObject((function(a,r){return"has_dynamic"===r?{}:"present"===a?(0,o.default)({},r,t.$gettext("Present")):(0,o.default)({},r,function(t){return(0,l.default)(c.fp.convert.toAppDate(t),"MMMM yyyy",{awareOfUnicodeTokens:!0}).replace(n,(function(t){return e[t]}))}(a))})),r=this.$api.subdomains.subdomain_awstats[this.subdomain];return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){(0,o.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},"1"===r.has_dynamic?(0,o.default)({},"/CMD_AWSTATS/".concat(this.$domain,"/").concat(this.subdomain,"/awstats.pl"),this.$gettext("All Month(cgi)")):{},{},a(r))}return!1},webalizer:function(){return!(!this.$api.subdomains.webalizer||!this.$api.webalizerStatus)&&"/CMD_WEBALIZER/".concat(this.$domain,"/").concat(this.subdomain,"/index.html")}},created:function(){if(this.awstats){var t=Object.keys(this.awstats),e=(0,r.default)(t,1);this.report=e[0]}!this.webalizer&&this.awstats&&(this.tab="awstats")}};e.default=d},2305:function(t,e,n){var a=n(3012);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(5).default)("31b611f7",a,!0,{})},3010:function(t,e,n){"use strict";var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.getWebalizerStatus=void 0;var r=a(n(30)),o=r.default.get({id:"WEBALIZER_STATUS",url:"/CMD_FILE_MANAGER",response:!1,params:{action:"exists"},schema:{domain:r.default.DOMAIN,subdomain:r.default.OPTIONAL_STRING},before:function(t){var e=t.domain,n=t.subdomain;return{path:n?"/domains/".concat(e,"/stats/").concat(n,"/index.html"):"/domains/".concat(e,"/stats/index.html"),domain:null,subdomain:null}},after:function(){return function(t){return"1"===t.exists}}});e.getWebalizerStatus=o},3011:function(t,e,n){"use strict";var a=n(2305);n.n(a).a},3012:function(t,e,n){(t.exports=n(4)(!0)).push([t.i,"#subdomain-stats .report[data-v-a0c63510]{width:100%;height:80vh}","",{version:3,sources:["/home/evo/evolution/src/js/pages/user/subdomains/stats.vue"],names:[],mappings:"AA0JA,0CAEQ,WACA,WAAY,CAAA",file:"stats.vue?vue&type=style&index=0&id=a0c63510&lang=scss&scoped=true&",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#subdomain-stats {\n    .report {\n        width: 100%;\n        height: 80vh;\n    }\n}\n"],sourceRoot:""}])},3013:function(t,e){},3172:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-page",{attrs:{id:"subdomain-stats"}},[n("app-page-section",[n("ui-tabs",{attrs:{tabs:[t.webalizer?{id:"webalizer",label:t.$gettext("Webalizer")}:{},t.awstats?{id:"awstats",label:t.$gettext("AWstats")}:{}],"hide-single-tab":"",selected:t.tab},on:{"update:selected":function(e){t.tab=e}}},[n("template",{slot:"tab:webalizer"},[t.webalizer?n("iframe",{staticClass:"report",attrs:{src:t.webalizer,frameborder:"0"}}):n("app-page-section",[n("translate",{attrs:{slot:"section:title"},slot:"section:title"},[t._v("\n                        File does not exist\n                    ")]),t._v(" "),n("translate",[t._v("You must wait for the stats to be computed. This will only happen *after* logs exist (domain must resolve and be used).")])],1)],1),t._v(" "),n("template",{slot:"tab:awstats"},[n("ui-form-element",{attrs:{vertical:t.$_Client.isPhone}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                        Month\n                    ")]),t._v(" "),n("input-select",{attrs:{slot:"content",options:t.awstats},slot:"content",model:{value:t.report,callback:function(e){t.report=e},expression:"report"}})],1),t._v(" "),t.report?n("iframe",{staticClass:"report",attrs:{src:t.report,frameborder:"0"}}):t._e()],1)],2)],1)],1)},r=[];n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}))}}]);