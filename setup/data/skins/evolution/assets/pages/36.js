(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{1319:function(e,t,a){"use strict";a.r(t);var n=a(3058),o=a(1702);for(var r in o)"default"!==r&&function(e){a.d(t,e,(function(){return o[e]}))}(r);var u=a(0),l=a(2593),i=a.n(l),c=Object(u.a)(o.default,n.a,n.b,!1,null,null,null);"function"==typeof i.a&&i()(c),t.default=c.exports},1478:function(e,t,a){"use strict";var n=a(10),o=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.doPackageAction=t.updatePackage=t.getPackage=t.importPackages=t.exportPackages=t.deletePackages=t.getPackages=void 0;var r=o(a(2)),u=o(a(30));n(a(6));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c="/CMD_MANAGE_RESELLER_PACKAGES",s=u.default.get({id:"RESELLER_PACKAGES",url:c,params:{bytes:!0},pagination:!0,after:function(e){return e.toTable(e.mapArrayProps({bandwidth:e.convert.toAppLimit,quota:e.convert.toAppLimit,ips:function(t){return e.convert.toAppNumber(t||"0")}}))}});t.getPackages=s;var d=u.default.post({url:c,schema:{select:u.default.ROWS},before:function(e){return e.select.reduce((function(e,t,a){return i({},e,(0,r.default)({},"delete".concat(a),t))}),{delete:!0})}});t.deletePackages=d;var f=u.default.post({url:c,params:{export:!0},schema:{select:u.default.ROWS}});t.exportPackages=f;var O=u.default.post({url:c,params:{action:"import"},schema:{import:u.default.REQUIRED_STRING}});t.importPackages=O;var p=u.default.get({url:"/CMD_SHOW_RESELLER_PACKAGE",id:"RESELLER_PACKAGE",params:{bytes:!0},query:{package:u.default.REQUIRED_STRING},after:function(e){return e.flow((function(e){return{data:e}}),e.moveProp({"data.ips":"ips","data.custom_items":"customItems","data.have_inode":"haveInode","data.dns":"dns","data.ip":"ip","data.create_user_home_override":"homeOverride"}),e.mapProps({homeOverride:e.flow((function(e){return e||{}}),e.toSelect),customItems:e.flow(e.toArray,e.mapArray((function(t){var a={type:t.type,description:t.desc,label:t.string,name:t.name};switch(t.type){case"checkbox":return i({},a,{value:"yes"===t.checked});case"text":return i({},a,{value:t.value});case"listbox":return i({},a,{value:Object.values(t.select).find((function(e){return e.selected})).value,options:e.reduce((function(e,t){return i({},e,(0,r.default)({},t.value,t.text))}))(t.select)});default:return!1}})),(function(e){return e.filter((function(e){return!!e}))})),haveInode:e.convert.toAppBoolean,dns:e.getProp("value"),ip:e.getProp("value"),ips:e.convert.toAppNumber,features:e.feedWith(1,e.flow(e.getProp("data"),e.filter(e.flow(e.getProp("type"),e.isEqual("checkbox"))),e.mapValues(e.flow(e.getProp("checked"),e.convert.toAppBoolean)))),limits:e.feedWith(1,e.flow(e.getProp("data"),e.filter(e.flow(e.getProp("type"),e.isEqual("unlimited"))),e.mapValues((function(t){var a=e.convert.toAppLimit(t.value)===1/0;return{value:a?"":t.value,unlimited:a}}))))}),e.deleteProp("data"))}});t.getPackage=p;var m=u.default.post({url:c,params:{add:!0},schema:{bandwidth:u.default.OPTIONAL_STRING,ubandwidth:u.default.OPTIONAL_BOOL,quota:u.default.OPTIONAL_STRING,uquota:u.default.OPTIONAL_BOOL,inode:u.default.OPTIONAL_STRING,uinode:u.default.OPTIONAL_BOOL,vdomains:u.default.OPTIONAL_STRING,uvdomains:u.default.OPTIONAL_BOOL,nsubdomains:u.default.OPTIONAL_STRING,unsubdomains:u.default.OPTIONAL_BOOL,nemails:u.default.OPTIONAL_STRING,unemails:u.default.OPTIONAL_BOOL,nemailf:u.default.OPTIONAL_STRING,unemailf:u.default.OPTIONAL_BOOL,nemailml:u.default.OPTIONAL_STRING,unemailml:u.default.OPTIONAL_BOOL,nemailr:u.default.OPTIONAL_STRING,unemailr:u.default.OPTIONAL_BOOL,mysql:u.default.OPTIONAL_STRING,umysql:u.default.OPTIONAL_BOOL,domainptr:u.default.OPTIONAL_STRING,udomainptr:u.default.OPTIONAL_BOOL,ftp:u.default.OPTIONAL_STRING,uftp:u.default.OPTIONAL_BOOL,aftp:u.default.OPTIONAL_STRING,cgi:u.default.OPTIONAL_STRING,php:u.default.OPTIONAL_STRING,spam:u.default.OPTIONAL_STRING,catchall:u.default.OPTIONAL_STRING,ssl:u.default.OPTIONAL_STRING,ssh:u.default.OPTIONAL_STRING,userssh:u.default.OPTIONAL_STRING,oversell:u.default.OPTIONAL_STRING,cron:u.default.OPTIONAL_STRING,sysinfo:u.default.OPTIONAL_STRING,login_keys:u.default.OPTIONAL_STRING,dnscontrol:u.default.OPTIONAL_STRING,dns:u.default.REQUIRED_STRING,serverip:u.default.OPTIONAL_STRING,packagename:u.default.OPTIONAL_STRING,create_user_home_override:u.default.OPTIONAL_STRING,nusers:u.default.OPTIONAL_STRING,unusers:u.default.OPTIONAL_BOOL}});t.updatePackage=m;var _=u.default.post({url:c,schema:{action:u.default.REQUIRED_STRING,from:u.default.REQUIRED_STRING,to:u.default.REQUIRED_STRING},before:function(e){return{from:null,to:null,old_package:e.from,new_package:e.to}}});t.doPackageAction=_},1486:function(e,t,a){"use strict";var n=a(10),o=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.doPackageAction=t.importPackages=t.exportPackages=t.deletePackages=t.updatePackage=t.getPackage=t.getPackages=void 0;var r=o(a(2)),u=o(a(30)),l=n(a(1547)),i=n(a(6));function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var s=u.default.get({id:"USER_PACKAGES",url:"/CMD_MANAGE_USER_PACKAGES",params:{bytes:!0},pagination:!0,after:function(e){return e.toTable(e.mapArrayProps({bandwidth:e.convert.toAppLimit,quota:e.convert.toAppLimit}))}});t.getPackages=s;var d=u.default.get({id:"USER_PACKAGE",url:"/CMD_SHOW_USER_PACKAGE",params:{bytes:!0},schema:{package:u.default.OPTIONAL_STRING},mapResponse:{features:l.getFeatures,limits:l.getLimits,homeOverride:l.getHomeOverride,language:l.getLanguage,skin:l.getSkin,customItems:l.getCustomItems,featureSets:l.getFeatureSets,email_daily_limit:function(e){var t=e.email_daily_limit;return void 0!==t&&{disabled:"yes"===t.disabled,unlimited:"unlimited"===t.value,value:"unlimited"===t.value?"":t.value}},pluginRules:i.prop("plugins")}});t.getPackage=d;var f=u.default.post({url:"/CMD_MANAGE_USER_PACKAGES",params:{add:!0},schema:{bandwidth:u.default.OPTIONAL_STRING,ubandwidth:u.default.OPTIONAL_BOOL,quota:u.default.OPTIONAL_STRING,uquota:u.default.OPTIONAL_BOOL,inode:u.default.OPTIONAL_STRING,uinode:u.default.OPTIONAL_BOOL,vdomains:u.default.OPTIONAL_STRING,uvdomains:u.default.OPTIONAL_BOOL,nsubdomains:u.default.OPTIONAL_STRING,unsubdomains:u.default.OPTIONAL_BOOL,nemails:u.default.OPTIONAL_STRING,unemails:u.default.OPTIONAL_BOOL,nemailf:u.default.OPTIONAL_STRING,unemailf:u.default.OPTIONAL_BOOL,nemailml:u.default.OPTIONAL_STRING,unemailml:u.default.OPTIONAL_BOOL,nemailr:u.default.OPTIONAL_STRING,unemailr:u.default.OPTIONAL_BOOL,mysql:u.default.OPTIONAL_STRING,umysql:u.default.OPTIONAL_BOOL,domainptr:u.default.OPTIONAL_STRING,udomainptr:u.default.OPTIONAL_BOOL,ftp:u.default.OPTIONAL_STRING,uftp:u.default.OPTIONAL_BOOL,aftp:u.default.OPTIONAL_STRING,cgi:u.default.OPTIONAL_STRING,php:u.default.OPTIONAL_STRING,spam:u.default.OPTIONAL_STRING,catchall:u.default.OPTIONAL_STRING,ssl:u.default.OPTIONAL_STRING,ssh:u.default.OPTIONAL_STRING,cron:u.default.OPTIONAL_STRING,sysinfo:u.default.OPTIONAL_STRING,login_keys:u.default.OPTIONAL_STRING,dnscontrol:u.default.OPTIONAL_STRING,suspend_at_limit:u.default.OPTIONAL_STRING,language:u.default.OPTIONAL_STRING,skin:u.default.OPTIONAL_STRING,packagename:u.default.OPTIONAL_STRING}});t.updatePackage=f;var O=u.default.post({url:"/CMD_MANAGE_USER_PACKAGES",before:function(e){return e.select.reduce((function(e,t,a){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,(0,r.default)({},"delete".concat(a),t))}),{delete:!0})},schema:{select:u.default.ROWS}});t.deletePackages=O;var p=u.default.post({url:"/CMD_MANAGE_USER_PACKAGES",schema:{select:u.default.ROWS},params:{export:!0}});t.exportPackages=p;var m=u.default.post({url:"/CMD_MANAGE_USER_PACKAGES",schema:{import:u.default.REQUIRED_STRING},params:{action:"import"}});t.importPackages=m;var _=u.default.post({url:"/CMD_MANAGE_USER_PACKAGES",schema:{action:u.default.REQUIRED_STRING,from:u.default.REQUIRED_STRING,to:u.default.REQUIRED_STRING},before:function(e){return{from:null,to:null,old_package:e.from,new_package:e.to}}});t.doPackageAction=_},1507:function(e,t,a){"use strict";a.r(t);var n=a(1508),o=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,(function(){return n[e]}))}(r);t.default=o.a},1508:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={data:function(){return{text:""}}}},1509:function(e,t,a){"use strict";a.r(t);var n=a(1510),o=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,(function(){return n[e]}))}(r);t.default=o.a},1510:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(1486);var n={props:{pkgListId:{type:String,required:!0}},data:function(){return{from:"",to:"",type:"rename"}},computed:{packageList:function(){var e=this.$state.commands[this.pkgListId].response;return e?e.rows.map((function(e){return e.package})):[]}},methods:{submit:function(){this.$valid("package-action")&&(this.$emit("action",{action:this.type,from:this.from,to:this.to}),this.$dialog("PACKAGE_ACTION_DIALOG").close())},validateName:function(e){return!e||!this.packageList.includes(e)},setData:function(e){Object.assign(this,e)}}};t.default=n},1547:function(e,t,a){"use strict";a.r(t),a.d(t,"getCustomItems",(function(){return r})),a.d(t,"getHomeOverride",(function(){return u})),a.d(t,"getFeatures",(function(){return l})),a.d(t,"toPackageLimit",(function(){return c})),a.d(t,"getLimits",(function(){return s})),a.d(t,"getSkin",(function(){return d})),a.d(t,"getLanguage",(function(){return f})),a.d(t,"getFeatureSets",(function(){return O}));var n=a(6),o=a(35),r=function(e){return n.values(e.custom_items||{}).map(o.customItems.fromObject)},u=function(e){return Object(o.toSelectData)(e.create_user_home_override||{})},l=function(e){var t;return{aftp:Object(o.toBoolean)(e.aftp.checked),catchall:Object(o.toBoolean)(e.catchall.checked),cgi:Object(o.toBoolean)(e.cgi.checked),cron:Object(o.toBoolean)(e.cron.checked),dnscontrol:Object(o.toBoolean)(e.dnscontrol.checked),login_keys:Object(o.toBoolean)(e.login_keys.checked),php:Object(o.toBoolean)(e.php.checked),spam:Object(o.toBoolean)(e.spam.checked),ssh:Object(o.toBoolean)(e.ssh.checked),ssl:Object(o.toBoolean)(e.ssl.checked),suspend_at_limit:Object(o.toBoolean)(e.suspend_at_limit.checked),sysinfo:Object(o.toBoolean)(e.sysinfo.checked),jail:Object(o.toBoolean)((null===(t=e.jail)||void 0===t?void 0:t.checked)||"no")}},i=n.pipe(Number,n.complement(Number.isFinite)),c=function(e){var t=e.value;return{unlimited:i(t),value:i(t)?"":t}},s=n.pipe(n.pick(["bandwidth","domainptr","ftp","inode","mysql","nemailf","nemailml","nemailr","nemails","nsubdomains","quota","vdomains"]),n.mapObjIndexed(c)),d=function(e){var t=e.skin;return Object(o.toSelectData)(t)},f=function(e){var t=e.language;return Object(o.toSelectData)(t)},O=function(e){var t=e.feature_sets;return{options:n.map(n.prop("name"),t),values:n.keys(n.filter(n.propEq("checked","yes"),t))}}},1702:function(e,t,a){"use strict";a.r(t);var n=a(1703),o=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,(function(){return n[e]}))}(r);t.default=o.a},1703:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(1478),r=n(a(1704)),u=n(a(1705)),l={preload:o.getPackages,commands:{getPackages:o.getPackages},components:{ImportPackagesDialog:r.default,PackageActionDialog:u.default},data:function(){return{select:[]}},methods:{deleteItems:function(){(0,o.deletePackages)({select:this.select}).then(this.$reloadApiTable)},exportPackages:function(){(0,o.exportPackages)({select:this.select})},importPackages:function(e){(0,o.importPackages)({import:e}).then(this.$reloadApiTable)},rowClick:function(e){var t=e.item;this.$router.push({name:"admin/reseller-packages/view",params:{package:t.package}})},openActionDialog:function(e,t){this.$dialog("PACKAGE_ACTION_DIALOG").open(),this.$refs.actionDialog.setData({type:e,from:t.package,to:""})},doPackageAction:function(e){(0,o.doPackageAction)(e).then(this.$reloadApiTable)}}};t.default=l},1704:function(e,t,a){"use strict";a.r(t);var n=a(2316),o=a(1507);for(var r in o)"default"!==r&&function(e){a.d(t,e,(function(){return o[e]}))}(r);var u=a(0),l=Object(u.a)(o.default,n.a,n.b,!1,null,null,null);t.default=l.exports},1705:function(e,t,a){"use strict";a.r(t);var n=a(2317),o=a(1509);for(var r in o)"default"!==r&&function(e){a.d(t,e,(function(){return o[e]}))}(r);var u=a(0),l=Object(u.a)(o.default,n.a,n.b,!1,null,null,null);t.default=l.exports},2316:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ui-dialog",{attrs:{id:"IMPORT_PACKAGES_DIALOG",size:"normal"}},[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n        Import packages\n    ")]),e._v(" "),a("input-textarea",{staticClass:"width:100%",attrs:{slot:"content"},slot:"content",model:{value:e.text,callback:function(t){e.text=t},expression:"text"}}),e._v(" "),a("ui-button",{attrs:{slot:"buttons",theme:"primary",disabled:!e.text},on:{click:function(t){return e.$emit("import",e.text)}},slot:"buttons"},[a("translate",[e._v("Import")])],1)],1)},o=[];a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return o}))},2317:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ui-dialog",{attrs:{id:"PACKAGE_ACTION_DIALOG"}},[a("template",{slot:"title"},[e._v("\n        "+e._s("rename"===e.type?e.$gettext("Rename Package"):e.$gettext("Copy Package"))+"\n    ")]),e._v(" "),a("template",{slot:"content"},[a("ui-form-element",{attrs:{vertical:""}},[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Old Package Name\n            ")]),e._v(" "),a("input-text",{attrs:{slot:"content",value:e.from,disabled:""},slot:"content"})],1),e._v(" "),a("ui-form-element",{attrs:{group:"package-action",vertical:"",validators:{required:!0,validateName:e.validateName,regex:/^[a-zA-Z0-9\-\_]+$/,maxLength:20}}},[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                New Package Name\n            ")]),e._v(" "),a("input-text",{attrs:{slot:"content",autofocus:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}},slot:"content",model:{value:e.to,callback:function(t){e.to=t},expression:"to"}}),e._v(" "),a("translate",{attrs:{slot:"error:regex"},slot:"error:regex"},[e._v("\n                Package name should not contain special characters\n            ")]),e._v(" "),a("translate",{attrs:{slot:"error:validateName"},slot:"error:validateName"},[e._v("\n                Package already exists\n            ")])],1)],1),e._v(" "),a("ui-button",{attrs:{slot:"buttons",theme:"primary","validate-group":"package-action"},on:{click:e.submit},slot:"buttons"},[a("translate",[e._v("Rename")])],1)],2)},o=[];a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return o}))},2593:function(e,t){},3058:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("app-page",[a("ui-button-link",{attrs:{slot:"header:buttons",name:"admin/reseller-packages/create",theme:"primary"},slot:"header:buttons"},[a("translate",[e._v("Create")])],1),e._v(" "),a("app-page-section",[a("ui-api-table",e._b({on:{"action:del":function(t){e.$dialog("DELETE_ITEMS_DIALOG").open()},"action:export":e.exportPackages,"table:rowClick":e.rowClick},scopedSlots:e._u([{key:"col:package",fn:function(t){var n=t.item;return a("ui-link",{attrs:{name:"admin/reseller-packages/view",params:n}},[e._v("\n                "+e._s(n.package)+"\n            ")])}},{key:"col:bandwidth",fn:function(t){var n=t.bandwidth;return[n===1/0?a("translate",[e._v("\n                    Unlimited\n                ")]):[e._v("\n                    "+e._s(e._f("humanReadableSize")(n))+"\n                ")]]}},{key:"col:quota",fn:function(t){var n=t.quota;return[n===1/0?a("translate",[e._v("\n                    Unlimited\n                ")]):[e._v("\n                    "+e._s(e._f("humanReadableSize")(n))+"\n                ")]]}},{key:"row:actions",fn:function(t){var n=t.item;return a("ui-actions",{},[a("ui-link",{on:{click:function(t){return e.openActionDialog("rename",n)}}},[a("translate",[e._v("Rename")])],1),e._v(" "),a("ui-link",{on:{click:function(t){return e.openActionDialog("copy",n)}}},[a("translate",[e._v("Copy")])],1)],1)}}]),model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},"ui-api-table",{command:e.$commands.getPackages,rowID:"package",columns:{package:{label:e.$gettext("Package"),grow:!0,width:"30%"},bandwidth:e.$gettext("Bandwidth"),quota:e.$gettext("Disk Usage"),ips:e.$gettext("IP(s)")},actions:{del:e.$gettext("Delete"),export:e.$gettext("Export")},updateOn:["DELETE_RESELLER_PACKAGES"],verticalLayout:e.$_Client.isPhone},!1))],1),e._v(" "),a("ui-dialog-delete-items",{attrs:{subject:e.$ngettext("package","packages",e.select.length)},on:{"click:confirm":e.deleteItems}}),e._v(" "),a("import-packages-dialog",{on:{import:e.importPackages}}),e._v(" "),a("package-action-dialog",{ref:"actionDialog",attrs:{"pkg-list-id":"RESELLER_PACKAGES"},on:{action:e.doPackageAction}}),e._v(" "),a("ui-link",{attrs:{slot:"bottom:links",bullet:""},on:{click:function(t){e.$dialog("IMPORT_PACKAGES_DIALOG").open()}},slot:"bottom:links"},[a("translate",[e._v("Import Packages")])],1)],1)},o=[];a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return o}))}}]);