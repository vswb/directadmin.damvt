(window.webpackJsonp=window.webpackJsonp||[]).push([[150],{1428:function(e,t,a){"use strict";a.r(t);var r=a(3164),n=a(2273);for(var c in n)"default"!==c&&function(e){a.d(t,e,(function(){return n[e]}))}(c);var s=a(0),o=a(2985),l=a.n(o),i=Object(s.a)(n.default,r.a,r.b,!1,null,null,null);"function"==typeof l.a&&l()(i),t.default=i.exports},1481:function(e,t,a){"use strict";var r=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.disableSSL=t.enableSSL=t.updateForceRedirect=t.saveCA=t.getCA=t.pasteSSLCert=t.disableLetsencryptAutoRenew=t.requestLetsencrypt=t.useServersCert=t.submitRequest=t.getOptions=void 0;var n=r(a(2)),c=r(a(30)),s=r(a(36)),o=c.default.get({id:"SSL_OPTIONS",url:"/CMD_SSL",domain:!0,after:function(e){return e.flow(e.project({"hashTypes.current":"hash_select","hashTypes.all":"hash_types",keySizes:"keysize_select",enabled:"SSL_ON","tab.server":"SERVERCHECKED","tab.paste":"PASTECHECKED","letsEncrypt.domains":"LETSENCRYPT_OPTIONS","letsEncrypt.selected":"LETSENCRYPT_OPTIONS","letsEncrypt.wc.enabled":"WILDCARD","letsEncrypt.wc.domains":"LETSENCRYPT_WC_OPTIONS","letsEncrypt.wc.selected":"LETSENCRYPT_WC_OPTIONS","letsEncrypt.enabled":"LETSENCRYPT","letsEncrypt.showOptions":"LETSENCRYPT","letsEncrypt.maxRequests":"LETSENCRYPT_MAX_REQUESTS","letsEncrypt.renewalDays":"LETSENCRYPT_RENEWAL_DAYS",cert:"CERTIFICATE",certHosts:"CERTIFICATE_HOSTS",certExpiry:"NOT_AFTER",key:"KEY","values.province":"PROVINCE","values.city":"CITY","values.company":"COMPANY","values.division":"DIVISION","values.email":"EMAIL","values.name":"NAME","values.country":"COUNTRY","options.forceRedirect":"FORCE_SSL_CHECKED"}),e.mapProps({key:e.convert.toAppText,cert:e.convert.toAppText,hashTypes:e.mapProp("all",e.transformObject((function(e,t){return(0,n.default)({},e,t)}))),tab:function(e){return Object.keys(e).find((function(t){return e[t]}))},keySizes:e.flow(e.toSelect,e.project({all:"options",current:"value"})),enabled:e.convert.toAppBoolean,options:e.mapProp("forceRedirect",(function(e){return!!e})),letsEncrypt:e.mapProps({enabled:function(e){return"0"!==e},showOptions:e.isEqual("1"),maxRequests:function(t){return e.convert.toAppNumber(t||0)},domains:e.flow(e.setDefault({}),Object.keys,e.mapArray(s.default.toUnicode)),selected:e.flow(e.setDefault({}),e.filter(e.notEmpty),Object.keys),wc:e.mapProps({enabled:e.isEqual("1"),selected:e.flow(e.setDefault({}),e.filter(e.notEmpty),Object.keys),domains:e.flow(e.setDefault({}),Object.keys,e.mapArray(s.default.toUnicode))})})}))}});t.getOptions=o;var l=c.default.post({url:"/CMD_SSL",params:{action:"save"},domain:!0,schema:{type:c.default.REQUIRED_STRING,request:{required:!0}}}),i=l.extend({id:"SSL_REQUEST",params:{type:"create"},schema:{country:c.default.REQUIRED_STRING,province:c.default.REQUIRED_STRING,city:c.default.REQUIRED_STRING,company:c.default.REQUIRED_STRING,division:c.default.REQUIRED_STRING,name:c.default.REQUIRED_STRING,email:c.default.REQUIRED_STRING,keysize:c.default.REQUIRED_STRING,encryption:c.default.REQUIRED_STRING},after:function(e){return e.mapProp("request",e.flow((function(e){return e||""}),e.convert.toAppString,e.convert.toAppText))}});t.submitRequest=i;var u=l.extend({params:{type:"server",request:!1}});t.useServersCert=u;var p=l.extend({params:{type:"create",request:"letsencrypt",background:"auto"},schema:{name:c.default.REQUIRED_STRING,keysize:c.default.REQUIRED_STRING,encryption:c.default.REQUIRED_STRING,wildcard:c.default.OPTIONAL_BOOL,le_select:{type:Array,required:!1},le_wc_select:{type:Array,required:!1}}});t.requestLetsencrypt=p;var d=c.default.post({url:"/CMD_SSL",params:{disable_letsencrypt_autorenew:!0,json:!0},domain:!0});t.disableLetsencryptAutoRenew=d;var f=c.default.post({url:"/CMD_SSL",params:{action:"save",type:"paste"},domain:!0,body:{certificate:c.default.REQUIRED_STRING},before:function(e){return{certificate:e.certificate.replace(/\r\n/g,"\n")}}});t.pasteSSLCert=f;var E=c.default.get({id:"CA",url:"/CMD_SSL",params:{view:"cacert"},domain:!0,after:function(e){return e.flow(e.moveProp("CHECKED","active"),e.moveProp("CACERT","cacert"),e.mapProps({active:e.convert.toAppBoolean,cacert:function(e){return e.replace(/(\\n)/gm,"\n")}}))}});t.getCA=E;var v=c.default.post({url:"/CMD_SSL",params:{action:"save",type:"cacert"},domain:!0,schema:{active:c.default.REQUIRED_BOOL,cacert:c.default.REQUIRED_STRING},before:function(e){return{cacert:e.cacert.replace(/\r\n/g,"\n")}}});t.saveCA=v;var m=c.default.post({url:"/CMD_DOMAIN",params:{action:"private_html"},domain:!0,schema:{force_ssl:c.default.REQUIRED_BOOL}});t.updateForceRedirect=m;var R=c.default.post({url:"/CMD_DOMAIN",params:{action:"modify",only_affect:"ssl",ssl:"ON"},domain:!0});t.enableSSL=R;var S=R.extend({params:{ssl:null}});t.disableSSL=S},2273:function(e,t,a){"use strict";a.r(t);var r=a(2274),n=a.n(r);for(var c in r)"default"!==c&&function(e){a.d(t,e,(function(){return r[e]}))}(c);t.default=n.a},2274:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(1481),n={preload:r.getCA,api:[{command:r.getCA,bind:"ca"}],data:function(){return{cacert:"",active:!1}},created:function(){this.active=this.$api.ca.active,this.cacert=this.$api.ca.cacert},methods:{submit:function(){(0,r.saveCA)({cacert:this.cacert,active:this.active})},copyToClipboard:function(){this.$refs.cacert.select(),document.execCommand("copy")}}};t.default=n},2985:function(e,t){},3164:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("app-page",[a("ui-button",{attrs:{slot:"header:buttons",theme:"primary"},on:{click:e.copyToClipboard},slot:"header:buttons"},[a("translate",[e._v("Copy to clipboard")])],1),e._v(" "),a("app-page-section",[a("ui-form-element",{attrs:{vertical:""}},[a("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:"column",cross:"start"},expression:"{ dir: 'column', cross: 'start' }"},{name:"gutter",rawName:"v-gutter",value:[1,null],expression:"[1, null]"}],attrs:{slot:"content"},slot:"content"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.cacert,expression:"cacert"}],ref:"cacert",staticClass:"pageSsl-keyArea width:100%",attrs:{rows:"10"},domProps:{value:e.cacert},on:{input:function(t){t.target.composing||(e.cacert=t.target.value)}}})])]),e._v(" "),a("ui-form-element",{attrs:{vertical:""}},[a("input-checkbox",{attrs:{slot:"content"},slot:"content",model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("translate",[e._v("Use a CA Cert")])],1)],1)],1),e._v(" "),a("ui-button",{attrs:{slot:"footer:buttons",theme:"safe",disabled:!e.cacert},on:{click:e.submit},slot:"footer:buttons"},[a("translate",[e._v("Save")])],1)],1)},n=[];a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return n}))}}]);