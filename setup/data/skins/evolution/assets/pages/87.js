(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{1312:function(n,e,t){"use strict";t.r(e);var i=t(3051),o=t(1683);for(var a in o)"default"!==a&&function(n){t.d(e,n,(function(){return o[n]}))}(a);t(2573);var r=t(0),l=t(2575),s=t.n(l),u=Object(r.a)(o.default,i.a,i.b,!1,null,"956c31aa",null);"function"==typeof s.a&&s()(u),e.default=u.exports},1683:function(n,e,t){"use strict";t.r(e);var i=t(1684),o=t.n(i);for(var a in i)"default"!==a&&function(n){t.d(e,n,(function(){return i[n]}))}(a);e.default=o.a},1684:function(n,e,t){"use strict";var i=t(10),o=t(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,r=o(t(15)),l=o(t(16)),s=i(t(2572)),u=o(t(1485)),d={preload:s.getData,data:function(){return{dataFile:"",showEntireFile:!1,linesCount:"0",grep:"",showLog:!1,grepOptions:[]}},components:{InputTextEditor:u.default},api:[{command:s.getData,bind:"data"},{command:s.getLogfile,bind:"logfile"}],computed:{file:function(){return this.$route.query.file},defaultLinesCount:function(){return this.$api.data.lines},log:function(){return this.$api.logfile.join("\n")},rawLink:function(){var n;return n={lines:this.showEntireFile?"0":this.linesCount,grep:this.grep,invert_grep:this.invertGrep?"yes":"",ignore_case:this.ignoreCase?"yes":"",type:"raw",file:this.file},"/CMD_LOG_VIEWER?".concat(Object.keys(n).map((function(e){return[e,n[e]].map(encodeURIComponent).join("=")})).join("&"))}},created:function(){this.linesCount=this.defaultLinesCount,this.dataFile=this.file},watch:{dataFile:function(n){this.showLog=!1,this.$router.replace({name:"admin/log-viewer",query:{file:n}})}},methods:{loadLog:(a=(0,l.default)(r.default.mark((function n(){return r.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.getLogfile({lines:this.showEntireFile?"0":this.linesCount,grep:this.grep,invert_grep:this.grepOptions.includes("invert"),ignore_case:this.grepOptions.includes("ignore"),file:this.dataFile});case 2:this.showLog=!0;case 3:case"end":return n.stop()}}),n,this)}))),function(){return a.apply(this,arguments)})}};e.default=d},1685:function(n,e,t){var i=t(2574);"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,t(5).default)("c67f146e",i,!0,{})},2572:function(n,e,t){"use strict";var i=t(1);Object.defineProperty(e,"__esModule",{value:!0}),e.getLogfile=e.getData=void 0;var o=i(t(20)),a=i(t(2)),r=i(t(30));function l(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,i)}return t}function s(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?l(Object(t),!0).forEach((function(e){(0,a.default)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var u=r.default.get({id:"LOG_VIEWER_DATA",url:"/CMD_LOG_VIEWER",after:function(n){return n.mapProp("files",n.flow(n.mapValues((function(n,e){return s({},n,{file:e})})),n.toArray,n.sortBy(["name"]),(function(n){var e=n.filter((function(n){return"0"===n.size}));return[].concat((0,o.default)(n.filter((function(n){return!e.includes(n)}))),(0,o.default)(e))}),n.mapArray(n.mapProp("size",n.convert.toAppNumber))))}});e.getData=u;var d=r.default.get({id:"LOG_VIEWER_LOGFILE",url:"/CMD_LOG_VIEWER",params:{type:"textarea",json:!0},schema:{file:r.default.REQUIRED_STRING,lines:s({},r.default.REQUIRED_STRING,{default:"50"})},after:function(n){return n.flow(n.getProp("LOGDATA"),n.convert.toLines)}});e.getLogfile=d},2573:function(n,e,t){"use strict";var i=t(1685);t.n(i).a},2574:function(n,e,t){(n.exports=t(4)(!0)).push([n.i,"#view-log h2.filename[data-v-956c31aa]{color:#333;font-size:14px;background:#f7f7f7;text-align:left;padding:1rem;border-top-left-radius:4px;border-top-right-radius:4px;border:1px solid #ddd;border-bottom-width:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}#view-log .log[data-v-956c31aa],#view-log h2.filename[data-v-956c31aa]{margin:0;font-family:Consolas,Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,monospace,serif}#view-log .log[data-v-956c31aa]{list-style-type:decimal;list-style-position:outside;padding:2rem 0;background:#fff;padding:0 0 0 55px;border:1px solid #ddd;border-bottom-left-radius:4px;border-bottom-right-radius:4px;overflow-x:auto;color:#acacac}#view-log .log .line[data-v-956c31aa]{background:#fff;margin-left:-6px;white-space:nowrap;width:100%}#view-log .log .line-content[data-v-956c31aa]{color:#333;margin:0 0 0 -13px;border-left:1px solid #ddd;vertical-align:top;padding:0;position:relative;white-space:nowrap;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;height:100%}","",{version:3,sources:["/home/evo/evolution/src/js/pages/admin/log-viewer/index.vue"],names:[],mappings:"AAsNA,uCAEQ,WACA,AAEA,eACA,mBACA,gBACA,aACA,2BACA,4BACA,sBACA,sBACA,oBAAA,oBAAA,aACA,yBAAA,sBAAA,8BACA,yBAAA,sBAAA,kBAAmB,CAf3B,uEAGQ,SACA,0HACA,CALR,gCAkBQ,wBACA,4BACA,eACA,gBACA,AACA,mBACA,sBACA,8BACA,+BACA,gBACA,aACA,CA7BR,sCA+BY,gBACA,iBACA,mBACA,UAAW,CAlCvB,8CAoCgB,WACA,mBACA,2BACA,mBACA,UACA,kBACA,mBACA,2BAAA,2BAAA,oBACA,WAAY,CAAA",file:"index.vue?vue&type=style&index=0&id=956c31aa&lang=scss&scoped=true&",sourcesContent:['\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#view-log {\n    h2.filename {\n        color: #333;\n        margin:0;\n        font-family: Consolas, Menlo, Monaco, "Lucida Console","Liberation Mono", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", monospace, serif;\n        font-size: 14px;\n        background: #F7F7F7;\n        text-align: left;\n        padding: 1rem;\n        border-top-left-radius: 4px;\n        border-top-right-radius: 4px;\n        border: 1px solid #ddd;\n        border-bottom-width: 0;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n    }\n    .log {\n        list-style-type: decimal;\n        list-style-position: outside;\n        padding: 2rem 0;\n        background: #FFF;\n        margin: 0;\n        padding: 0px 0px 0px 55px;\n        border: 1px solid #ddd;\n        border-bottom-left-radius: 4px;\n        border-bottom-right-radius: 4px;\n        overflow-x: auto;\n        color: #ACACAC;\n        font-family: Consolas, Menlo, Monaco, "Lucida Console","Liberation Mono", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", monospace, serif;\n        .line {\n            background: white;\n            margin-left: -6px;\n            white-space:nowrap;\n            width: 100%;\n            &-content {\n                color: #333;\n                margin: 0 0 0 -13px;\n                border-left: 1px solid #ddd;\n                vertical-align: top;\n                padding: 0px;\n                position: relative;\n                white-space: nowrap;\n                display:inline-flex;\n                height: 100%;\n            }\n\n        }\n    }\n}\n'],sourceRoot:""}])},2575:function(n,e){},3051:function(n,e,t){"use strict";var i=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("app-page",{attrs:{id:"view-log"}},[n.file?t("translate",{attrs:{slot:"page:title","translate-params":{log:n.file}},slot:"page:title"},[n._v("\n        View Log: %{ log }\n    ")]):t("translate",{attrs:{slot:"page:title"},slot:"page:title"},[n._v("\n        Select log file to view\n    ")]),n._v(" "),t("app-page-section",[t("ui-table",{attrs:{items:n.$api.data.files}},[t("ui-column",{attrs:{id:"text",label:n.$gettext("Label"),fit:""},scopedSlots:n._u([{key:"default",fn:function(e){return[t("input-check",{attrs:{type:"radio",value:e.file},model:{value:n.dataFile,callback:function(e){n.dataFile=e},expression:"dataFile"}},[n._v("\n                        "+n._s(e.text)+"\n                    ")])]}}])}),n._v(" "),t("ui-column",{attrs:{id:"file",label:n.$gettext("File")}}),n._v(" "),t("ui-column",{attrs:{id:"size",label:n.$gettext("Size")},scopedSlots:n._u([{key:"default",fn:function(e){return[n._v("\n                    "+n._s(n._f("humanReadableSize")(e.size))+"\n                ")]}}])})],1)],1),n._v(" "),n.file?t("app-page-section",[t("ui-form-element",{attrs:{group:"logViewer",validators:{required:!0},underline:!1}},[t("translate",{attrs:{slot:"title"},slot:"title"},[n._v("Number of lines from the end")]),n._v(" "),t("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:"column"},expression:"{\n                    dir: 'column'\n                }"}],attrs:{slot:"content"},slot:"content"},[t("input-text",{attrs:{number:"",disabled:n.showEntireFile},model:{value:n.linesCount,callback:function(e){n.linesCount=e},expression:"linesCount"}}),n._v(" "),t("input-checkbox",{directives:[{name:"margin",rawName:"v-margin",value:[1,0],expression:"[1, 0]"}],model:{value:n.showEntireFile,callback:function(e){n.showEntireFile=e},expression:"showEntireFile"}},[t("translate",[n._v("Show entire file")])],1)],1)],1),n._v(" "),t("ui-form-element",{attrs:{underline:!1}},[t("translate",{attrs:{slot:"title"},slot:"title"},[n._v("Grep")]),n._v(" "),t("translate",{attrs:{slot:"tooltip"},slot:"tooltip"},[n._v("Use the | charter for separation.")]),n._v(" "),t("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:"column"},expression:"{ dir: 'column' }"}],attrs:{slot:"content"},slot:"content"},[t("input-text",{directives:[{name:"margin",rawName:"v-margin",value:[,,"1rem"],expression:"[,,'1rem',]"}],model:{value:n.grep,callback:function(e){n.grep=e},expression:"grep"}}),n._v(" "),t("div",[t("input-checkbox",{model:{value:n.grepOptions.invert,callback:function(e){n.$set(n.grepOptions,"invert",e)},expression:"grepOptions.invert"}},[t("translate",[n._v("Invert")])],1),n._v(" "),t("input-checkbox",{directives:[{name:"margin",rawName:"v-margin",value:1,expression:"1"}],model:{value:n.grepOptions.ignore,callback:function(e){n.$set(n.grepOptions,"ignore",e)},expression:"grepOptions.ignore"}},[t("translate",[n._v("Ignore Case")])],1)],1)],1)],1),n._v(" "),t("div",{directives:[{name:"flex",rawName:"v-flex",value:{main:"end"},expression:"{ main: 'end' }"},{name:"margin",rawName:"v-margin",value:[1,0],expression:"[1, 0]"}]},[n.showLog?t("ui-button",{attrs:{theme:"safe",size:"normal",validateGroup:"logViewer"},on:{click:function(e){return n.loadLog(n.file)}}},[t("translate",[n._v("Reload Log")])],1):t("ui-button",{attrs:{theme:"safe",size:"normal",validateGroup:"logViewer"},on:{click:function(e){return n.loadLog(n.file)}}},[t("translate",[n._v("Load Log")])],1),n._v(" "),t("ui-button-link",{directives:[{name:"margin",rawName:"v-margin",value:[,,,"1rem"],expression:"[,,,'1rem']"}],attrs:{size:"normal",theme:"light",href:n.rawLink,target:"_blank"}},[t("translate",[n._v("View RAW")])],1)],1)],1):n._e(),n._v(" "),n.showLog?t("app-page-section",[t("input-text-editor",{attrs:{value:n.log,disableModes:""}},[t("template",{slot:"header"},[n._v("\n                "+n._s(n.file)+"\n            ")])],2)],1):n._e()],1)},o=[];t.d(e,"a",(function(){return i})),t.d(e,"b",(function(){return o}))}}]);