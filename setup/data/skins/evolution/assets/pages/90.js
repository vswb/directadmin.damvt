(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{1318:function(n,t,e){"use strict";e.r(t);var o=e(3057),a=e(1699);for(var r in a)"default"!==r&&function(n){e.d(t,n,(function(){return a[n]}))}(r);e(2590);var s=e(0),i=e(2592),l=e.n(i),d=Object(s.a)(a.default,o.a,o.b,!1,null,null,null);"function"==typeof l.a&&l()(d),t.default=d.exports},1699:function(n,t,e){"use strict";e.r(t);var o=e(1700),a=e.n(o);for(var r in o)"default"!==r&&function(n){e.d(t,n,(function(){return o[n]}))}(r);t.default=a.a},1700:function(n,t,e){"use strict";var o=e(10),a=e(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,s,i=a(e(15)),l=a(e(16)),d=o(e(2589)),c={preload:[d.getProcesses,d.getDefaults],api:[{command:d.getProcesses,bind:{"response.info":"info",isLoading:"loading"}},{command:d.getDefaults,bind:"defaults"}],commands:d,data:function(){return{reloadInfo:{enabled:!1,delay:"15",left:0,timer:null},rootpass:""}},methods:{reload:function(){return this.$refs.table.reloadTable()},loadInfoManually:(s=(0,l.default)(i.default.mark((function n(){return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.clearTimer(),n.next=3,this.reload();case 3:this.reloadInfo.enabled&&this.startReload();case 4:case"end":return n.stop()}}),n,this)}))),function(){return s.apply(this,arguments)}),toggleReload:function(){this.reloadInfo.enabled=!this.reloadInfo.enabled,this.clearTimer(),this.reloadInfo.enabled&&this.startReload()},clearTimer:function(){this.reloadInfo.left=0,this.reloadInfo.timer&&clearTimeout(this.reloadInfo.timer)},startReload:(r=(0,l.default)(i.default.mark((function n(){return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.reloadInfo.left=this.reloadInfo.left?this.reloadInfo.left-1:parseInt(this.reloadInfo.delay,10),this.reloadInfo.left){n.next=5;break}return n.next=4,this.reload();case 4:this.reloadInfo.left=parseInt(this.reloadInfo.delay,10);case 5:this.reloadInfo.timer=setTimeout(this.startReload,1e3);case 6:case"end":return n.stop()}}),n,this)}))),function(){return r.apply(this,arguments)}),authRootUser:function(){d.authenticate({rootpass:this.rootpass}).then(d.getDefaults)},removeAuth:function(){d.removeAuth().then(d.getDefaults)},sendSignal:function(n,t){d.sendSignal({select:[n],value:t}).then(this.reload)}}};t.default=c},1701:function(n,t,e){var o=e(2591);"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);(0,e(5).default)("2fea1f24",o,!0,{})},2589:function(n,t,e){"use strict";var o=e(1);Object.defineProperty(t,"__esModule",{value:!0}),t.sendSignal=t.removeAuth=t.authenticate=t.getDefaults=t.getProcesses=void 0;var a=o(e(2)),r=o(e(20)),s=o(e(30)),i="/CMD_PROCESS_MONITOR",l=s.default.get({id:"PROCESS_MONITOR",url:i,params:{sor1:9,sort1dir:-1},pagination:!0,after:function(n){return n.flow(n.project({rows:"processes",info:"info"}),n.processTableInfo("rows"),n.mapProp("rows",n.toArray),n.mapProp("info",n.flow(n.convert.toLines,n.filter(n.notEmpty),(function(n){return n[0].startsWith("top")?{type:"linux",top:n[0].slice(6),tasks:n[1].slice(7),cpus:n[2].slice(9),mem:n[3].slice(11),swap:n[4].slice(11)}:{type:"bsd",pid:(n=[].concat((0,r.default)(n[0].split(";")),(0,r.default)(n.slice(1))).map((function(n){return n.trim()})).filter(Boolean))[0].slice(10),load:n[1].slice(16),processes:n[2].split(":").pop().trim(),mem:n[3].slice(5),swap:n[4].slice(6)}}))))}});t.getProcesses=l;var d=s.default.get({id:"PROCESS_MONITOR_DEFAULTS",url:i,after:function(n){return n.flow(n.project({requireAuth:"require_root_auth",signals:"value",defaultSignal:"value",columns:"processes.info.columns"}),n.mapProps({requireAuth:n.isEqual("yes"),signals:n.transformObject((function(n){var t=n.value,e=n.text;return(0,a.default)({},t,e)})),defaultSignal:n.flow(n.find(n.getProp("selected")),n.getProp("value"))}))}});t.getDefaults=d;var c=s.default.post({url:i,params:{authenticate:!0},schema:{rootpass:s.default.REQUIRED_STRING}});t.authenticate=c;var u=s.default.post({url:i,params:{authenticate:!1}});t.removeAuth=u;var p=s.default.post({url:i,params:{signal:!0},schema:{select:s.default.ROWS,value:s.default.REQUIRED_STRING}});t.sendSignal=p},2590:function(n,t,e){"use strict";var o=e(1701);e.n(o).a},2591:function(n,t,e){(n.exports=e(4)(!0)).push([n.i,'html.vue-app.dir\\:rtl #process-monitor .top-controls .reload-counter{padding-left:.5rem}#process-monitor .top-controls{color:#333;margin:0;font-family:Consolas,Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,monospace,serif;font-size:14px;background:#f7f7f7;text-align:left;padding:1rem;border-top-left-radius:4px;border-top-right-radius:4px;border:1px solid #ddd;border-bottom-width:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:1.2rem;font-weight:600}#process-monitor .top-controls .reload-counter{padding-right:.5rem}@media (max-width:767px){#process-monitor .top-controls{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch}#process-monitor .top-controls .reloadButton{margin-top:.5rem}#process-monitor .top-controls .reload-counter{text-align:center;margin:.25rem 0;padding-right:0}}#process-monitor .topInfo{display:grid;grid-template-areas:"label value";grid-template-columns:-webkit-min-content 1fr;grid-template-columns:min-content 1fr;border:1px solid #ddd;border-bottom-left-radius:4px;border-bottom-right-radius:4px;font-family:Consolas,Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,monospace,serif}#process-monitor .topInfo>ul{margin:0;padding:0;list-style-type:none;white-space:nowrap}#process-monitor .topInfo>ul.label{grid-area:label;background:#f1f0f0;color:#acacac;text-align:right;padding-right:.5rem;font-weight:600}#process-monitor .topInfo>ul.value{grid-area:value;color:#333;border-left:1px solid #ddd;overflow-x:auto;padding:0 .5rem;margin-right:.5rem}#process-monitor .top{margin:0;list-style-type:none;border:1px solid #ddd;font-family:Consolas,Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,monospace,serif}#process-monitor .top .line{background:#fff;white-space:nowrap;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex}#process-monitor .top .line .label{background:#f1f0f0;color:#acacac;width:100px;text-align:right;padding-right:3px}#process-monitor .top .line .content{color:#333;border-left:1px solid #ddd;vertical-align:top;padding:0;position:relative;white-space:nowrap;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;height:100%}#process-monitor .table thead{background-color:#f1f0f0}#process-monitor .table .table-elem{border:1px solid #ddd;border-top-width:0}',"",{version:3,sources:["/home/evo/evolution/src/js/pages/admin/process-monitor.vue"],names:[],mappings:"AA8TA,qEACI,kBAAoB,CACvB,+BAGO,WACA,SACA,2HAGA,eACA,mBACA,gBACA,aACA,2BACA,4BACA,sBACA,sBACA,oBAAA,oBAAA,aACA,yBAAA,sBAAA,8BACA,yBAAA,sBAAA,mBACA,iBACA,eAAgB,CAnBxB,+CAsBY,mBAAqB,CACxB,yBAvBT,+BAyBY,4BAAA,6BAAA,0BAAA,sBACA,0BAAA,uBAAA,mBAAoB,CA1BhC,6CA4BgB,gBAAkB,CA5BlC,+CA+BgB,kBACA,gBACA,eAAgB,CACnB,CAlCb,0BAsCQ,aACA,kCACA,8CAAA,sCACA,sBACA,8BACA,+BACA,0HAEoB,CA9C5B,6BAgDY,SACA,UACA,qBACA,kBAAmB,CAnD/B,mCAsDY,gBACA,mBACA,cACA,iBACA,oBACA,eAAgB,CA3D5B,mCA8DY,gBACA,WACA,2BACA,gBACA,gBACA,kBAAoB,CAnEhC,sBAuEQ,SACA,qBACA,sBACA,0HAEoB,CA5E5B,4BA8EY,gBACA,mBACA,WACA,oBAAA,oBAAA,YAAa,CAjFzB,mCAmFgB,mBACA,cACA,YACA,iBACA,iBAAkB,CAvFlC,qCA0FgB,WACA,2BACA,mBACA,UACA,kBACA,mBACA,2BAAA,2BAAA,oBACA,WAAY,CAjG5B,8BAuGY,wBAAyB,CAvGrC,oCA0GY,sBACA,kBAAqB,CAAA",file:"process-monitor.vue?vue&type=style&index=0&lang=scss&",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import 'framework';\n\nhtml.vue-app.dir\\:rtl #process-monitor .top-controls .reload-counter {\n    padding-left: 0.5rem;\n}\n#process-monitor {\n    .top-controls {\n        color: #333;\n        margin: 0;\n        font-family: Consolas, Menlo, Monaco, 'Lucida Console',\n            'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono',\n            monospace, serif;\n        font-size: 14px;\n        background: #f7f7f7;\n        text-align: left;\n        padding: 1rem;\n        border-top-left-radius: 4px;\n        border-top-right-radius: 4px;\n        border: 1px solid #ddd;\n        border-bottom-width: 0;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        font-size: 1.2rem;\n        font-weight: 600;\n\n        .reload-counter {\n            padding-right: 0.5rem;\n        }\n        @include phone {\n            flex-direction: column;\n            align-items: stretch;\n            .reloadButton {\n                margin-top: 0.5rem;\n            }\n            .reload-counter {\n                text-align: center;\n                margin: 0.25rem 0;\n                padding-right: 0;\n            }\n        }\n    }\n    .topInfo {\n        display: grid;\n        grid-template-areas: 'label value';\n        grid-template-columns: min-content 1fr;\n        border: 1px solid #ddd;\n        border-bottom-left-radius: 4px;\n        border-bottom-right-radius: 4px;\n        font-family: Consolas, Menlo, Monaco, 'Lucida Console',\n            'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono',\n            monospace, serif;\n        & > ul {\n            margin: 0;\n            padding: 0;\n            list-style-type: none;\n            white-space: nowrap;\n        }\n        & > ul.label {\n            grid-area: label;\n            background: #f1f0f0;\n            color: #acacac;\n            text-align: right;\n            padding-right: 0.5rem;\n            font-weight: 600;\n        }\n        & > ul.value {\n            grid-area: value;\n            color: #333;\n            border-left: 1px solid #ddd;\n            overflow-x: auto;\n            padding: 0 0.5rem;\n            margin-right: 0.5rem;\n        }\n    }\n    .top {\n        margin: 0;\n        list-style-type: none;\n        border: 1px solid #ddd;\n        font-family: Consolas, Menlo, Monaco, 'Lucida Console',\n            'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono',\n            monospace, serif;\n        .line {\n            background: #fff;\n            white-space: nowrap;\n            width: 100%;\n            display: flex;\n            .label {\n                background: #f1f0f0;\n                color: #acacac;\n                width: 100px;\n                text-align: right;\n                padding-right: 3px;\n            }\n            .content {\n                color: #333;\n                border-left: 1px solid #ddd;\n                vertical-align: top;\n                padding: 0px;\n                position: relative;\n                white-space: nowrap;\n                display: inline-flex;\n                height: 100%;\n            }\n        }\n    }\n    .table {\n        thead {\n            background-color: #f1f0f0;\n        }\n        .table-elem {\n            border: 1px solid #ddd;\n            border-top-width: 0px;\n        }\n    }\n}\n"],sourceRoot:""}])},2592:function(n,t){},3057:function(n,t,e){"use strict";var o=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("app-page",{attrs:{id:"process-monitor"}},[n.$api.defaults.requireAuth?e("ui-button",{attrs:{slot:"header:buttons",theme:"primary"},on:{click:function(t){n.$dialog("AUTHENTICATE_DIALOG").open()}},slot:"header:buttons"},[e("translate",[n._v("Authenticate to send signals")])],1):e("ui-button",{attrs:{slot:"header:buttons",theme:"danger"},on:{click:n.removeAuth},slot:"header:buttons"},[e("translate",[n._v("Remove Authentication")])],1),n._v(" "),e("app-page-section",[e("div",{staticClass:"top-controls"},[e("ui-input-group",{attrs:{grow:n.$_Client.isPhone}},[e("ui-button",{attrs:{slot:"additions:left"},on:{click:n.toggleReload},slot:"additions:left"},[e("input-checkbox",{model:{value:n.reloadInfo.enabled,callback:function(t){n.$set(n.reloadInfo,"enabled",t)},expression:"reloadInfo.enabled"}},[e("translate",[n._v("Reload every")])],1)],1),n._v(" "),e("input-select",{attrs:{slot:"input",options:["1","2","3","4","5","10","15","30","60"]},on:{change:function(t){n.reloadInfo.left=parseInt(t)}},slot:"input",model:{value:n.reloadInfo.delay,callback:function(t){n.$set(n.reloadInfo,"delay",t)},expression:"reloadInfo.delay"}}),n._v(" "),e("ui-button",{attrs:{slot:"additions:right",disabled:""},slot:"additions:right"},[e("translate",[n._v("seconds")])],1)],1),n._v(" "),e("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:n.$_Client.isPhone?"column":"row",cross:n.$_Client.isPhone?"stretch":"center"},expression:"{\n                    dir: $_Client.isPhone\n                        ? 'column'\n                        : 'row',\n                    cross: $_Client.isPhone\n                        ? 'stretch'\n                        : 'center'\n                }"}]},[n.reloadInfo.enabled?e("span",{staticClass:"reload-counter"},[n.reloadInfo.left?e("translate",{key:"reloadDelayMessage",attrs:{"translate-params":{delay:n.reloadInfo.left}}},[n._v("\n                        reload in %{delay} seconds\n                    ")]):e("translate",{key:"reloadMessage"},[n._v("\n                        reloading...\n                    ")])],1):n._e(),n._v(" "),e("ui-button",{staticClass:"reloadButton",attrs:{size:n.$_Client.isPhone?"normal":"small",theme:"light",disabled:n.$api.loading},on:{click:n.loadInfoManually}},[e("translate",[n._v("Now")])],1)],1)],1),n._v(" "),"linux"===n.$api.info.type?e("div",{staticClass:"topInfo"},[e("ul",{staticClass:"label"},[e("translate",{attrs:{tag:"li"}},[n._v("\n                    Top:\n                ")]),n._v(" "),e("translate",{attrs:{tag:"li"}},[n._v("\n                    Tasks:\n                ")]),n._v(" "),e("translate",{attrs:{tag:"li"}},[n._v("\n                    CPU(s):\n                ")]),n._v(" "),e("translate",{attrs:{tag:"li"}},[n._v("\n                    KiB Mem:\n                ")]),n._v(" "),e("translate",{attrs:{tag:"li"}},[n._v("\n                    KiB Swap:\n                ")])],1),n._v(" "),e("ul",{staticClass:"value"},[e("li",{domProps:{textContent:n._s(n.$api.info.top)}}),n._v(" "),e("li",{domProps:{textContent:n._s(n.$api.info.tasks)}}),n._v(" "),e("li",{domProps:{textContent:n._s(n.$api.info.cpus)}}),n._v(" "),e("li",{domProps:{textContent:n._s(n.$api.info.mem)}}),n._v(" "),e("li",{domProps:{textContent:n._s(n.$api.info.swap)}})])]):e("div",{staticClass:"topInfo"},[e("ul",{staticClass:"label"},[e("translate",{attrs:{tag:"li"}},[n._v("\n                    Last PID:\n                ")]),n._v(" "),e("translate",{attrs:{tag:"li"}},[n._v("\n                    Load Average:\n                ")]),n._v(" "),e("translate",{attrs:{tag:"li"}},[n._v("\n                    Processes:\n                ")]),n._v(" "),e("translate",{attrs:{tag:"li"}},[n._v("\n                    Mem:\n                ")]),n._v(" "),e("translate",{attrs:{tag:"li"}},[n._v("\n                    Swap:\n                ")])],1),n._v(" "),e("ul",{staticClass:"value"},[e("li",{domProps:{textContent:n._s(n.$api.info.pid)}}),n._v(" "),e("li",{domProps:{textContent:n._s(n.$api.info.load)}}),n._v(" "),e("li",{domProps:{textContent:n._s(n.$api.info.processes)}}),n._v(" "),e("li",{domProps:{textContent:n._s(n.$api.info.mem)}}),n._v(" "),e("li",{domProps:{textContent:n._s(n.$api.info.swap)}})])]),n._v(" "),e("ui-api-table",{directives:[{name:"margin",rawName:"v-margin",value:[3,,,],expression:"[3,,,]"}],ref:"table",attrs:{command:n.$commands.getProcesses,columns:{signal:{hide:n.$api.defaults.requireAuth},PID:{label:"PID",editable:!1},USER:"USER",PR:"PR",NI:"NI",VIRT:"VIRT",RES:"RES",SHR:"SHR",S:"S","%CPU":"%CPU","%MEM":"%MEM","TIME+":"TIME+",COMMAND:{label:"COMMAND",grow:!0}},"initial-sort":{key:"%CPU",order:"ASC"},"vertical-layout":n.$_Client.isPhone,"disable-select":""},scopedSlots:n._u([{key:"col:signal",fn:function(t){var o=t.PID;return e("ui-actions",{attrs:{position:"right"}},n._l(n.$api.defaults.signals,(function(t,a){return e("ui-link",{key:t,on:{click:function(t){return n.sendSignal(o,a)}}},[n._v("\n                    "+n._s(t)+"\n                ")])})),1)}}])})],1),n._v(" "),n.$api.defaults.requireAuth?e("ui-dialog",{attrs:{id:"AUTHENTICATE_DIALOG"}},[e("translate",{attrs:{slot:"title"},slot:"title"},[n._v("\n            Authenticate to send signals\n        ")]),n._v(" "),e("ui-form-element",{attrs:{slot:"content",vertical:"",group:"authenticateRoot",validators:{required:!0}},slot:"content"},[e("translate",{attrs:{slot:"title"},slot:"title"},[n._v("\n                Root Password\n            ")]),n._v(" "),e("input-password",{attrs:{slot:"content"},slot:"content",model:{value:n.rootpass,callback:function(t){n.rootpass=t},expression:"rootpass"}})],1),n._v(" "),e("ui-button",{attrs:{slot:"buttons","validate-group":"authenticateRoot",theme:"safe"},on:{click:n.authRootUser},slot:"buttons"},[e("translate",[n._v("Authenticate")])],1)],1):n._e()],1)},a=[];e.d(t,"a",(function(){return o})),e.d(t,"b",(function(){return a}))}}]);