(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{1331:function(e,t,a){"use strict";a.r(t);var s=a(3070),n=a(1739);for(var r in n)"default"!==r&&function(e){a.d(t,e,(function(){return n[e]}))}(r);var l=a(0),o=a(2619),i=a.n(o),u=Object(l.a)(n.default,s.a,s.b,!1,null,null,null);"function"==typeof i.a&&i()(u),t.default=u.exports},1442:function(e,t,a){"use strict";var s=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.validateIPRangeList=t.validateDomain=t.validatePassword=t.validateSubdomain=t.validateUsername=t.validateDBUser=t.validateDatabase=t.validateDNSName=t.validateMXValue=t.validateDNSValue=t.validateFTP=t.validateEmail=t.validateForwarder=void 0;var n=s(a(30)),r=s(a(36)),l=s(a(1443)),o=n.default.get({url:"/CMD_JSON_VALIDATE",schema:{value:n.default.REQUIRED_STRING},response:{valid:!0,message:""},mapResponse:{valid:l.default.isValid,message:l.default.getMessage}}),i=o.extend({id:"VALIDATE_FORWARDER",params:{type:"forwarder",ignore_system_default:!0}});t.validateForwarder=i;var u=o.extend({id:"VALIDATE_EMAIL",params:{type:"email",check_mailing_list:!0},schema:{check_exists:{type:Boolean,required:!1,default:!0}}});t.validateEmail=u;var d=o.extend({id:"VALIDATE_FTP",params:{type:"ftp"},domain:!0});t.validateFTP=d;var c=o.extend({params:{type:"dns"},domain:!0,schema:{record:n.default.REQUIRED_STRING}}),f=c.extend({id:"VALIDATE_DNS_VALUE",params:{check:"value",name:!0},domain:!0,schema:{value:n.default.REQUIRED_STRING}});t.validateDNSValue=f;var p=f.extend({id:"VALIDATE_MX_VALUE",params:{record:"MX"},before:function(e){return{value:"10",mx_value:e.value}}});t.validateMXValue=p;var m=c.extend({id:"VALIDATE_DNS_NAME",params:{check:"name",value:!0,mx_value:!0},schema:{name:n.default.REQUIRED_STRING,value:null}});t.validateDNSName=m;var _=o.extend({id:"VALIDATE_DATABASE",params:{type:"dbname"}});t.validateDatabase=_;var v=o.extend({id:"VALIDATE_DATABASE_USER",params:{type:"dbusername"}});t.validateDBUser=v;var E=o.extend({id:"VALIDATE_USERNAME",params:{type:"username"}});t.validateUsername=E;var g=o.extend({id:"VALIDATE_SUBDOMAIN",domain:!0,params:{type:"subdomain"}});t.validateSubdomain=g;var O=o.extend({id:"VALIDATE_PASSWORD",params:{type:"password"}});t.validatePassword=O;var R=o.extend({id:"VALIDATE_DOMAIN",params:{type:"domain"},before:function(e){var t=e.value;return{value:r.default.toASCII(t)}}});t.validateDomain=R;var I=o.extend({id:"VALIDATE_IP_RANGE_LIST",params:{type:"ip_range_list"}});t.validateIPRangeList=I},1443:function(e,t,a){"use strict";a.r(t);var s=a(35);t.default={isValid:function(e){return void 0===e.error},getMessage:function(e){return Object(s.toAppHtml)(e.error||"")}}},1444:function(e,t,a){"use strict";a.r(t);var s=a(1445),n=a.n(s);for(var r in s)"default"!==r&&function(e){a.d(t,e,(function(){return s[e]}))}(r);t.default=n.a},1445:function(e,t,a){"use strict";var s=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(1463)),r={commands:{validatePassword:a(1442).validatePassword},data:function(){return{username:"",password:""}},computed:{requestData:function(){return{username:this.username,passwd:this.password,passwd2:this.password}}},methods:{show:function(e){this.$reset(),this.username=e,this.$dialog("CHANGE_USER_PASSWORD_DIALOG").open()},changePassword:function(){(0,n.default)(this.requestData)}}};t.default=r},1449:function(e,t,a){"use strict";a.r(t);var s=a(1450),n=a.n(s);for(var r in s)"default"!==r&&function(e){a.d(t,e,(function(){return s[e]}))}(r);t.default=n.a},1450:function(e,t,a){"use strict";var s=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.reasons=l,t.default=void 0;var n=s(a(2));function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function l(){var e={none:this.$gettext("None"),abuse:this.$gettext("Abuse"),billing:this.$gettext("Billing Issue"),inactive:this.$gettext("Inactive"),other:this.$gettext("Other"),spam:this.$gettext("Spam"),user_bandwidth:this.$gettext("User Bandwidth"),user_quota:this.$gettext("User Quota")};return"admin"===this.$state.app.user.accessLevel?function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{reseller_bandwidth:this.$gettext("Reseller Bandwidth"),reseller_quota:this.$gettext("Reseller Quota")}):e}var o={$exports:{reasons:l},data:function(){return{reason:"none",details:""}},computed:{reasons:l}};t.default=o},1453:function(e,t,a){"use strict";var s=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.getSystemStatus=t.updateActiveStatus=t.getActiveStatus=t.updateEmailSetting=t.getEmailSetting=t.getTicketDefaults=t.replyTicket=t.createTicket=t.markTicketsRead=t.openTicket=t.closeTickets=t.getMessages=t.getTickets=t.sendMessageMultiple=void 0;var n=s(a(2)),r=s(a(30)),l=s(a(602));function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u=r.default.post({url:"/CMD_TICKET_CREATE",params:{action:"create",type:"message",user:"multiple"},schema:{users:r.default.ROWS,priority:{type:String,default:"10",validator:function(e){return["10","20","30"].includes(e)}},subject:r.default.REQUIRED_STRING,message:r.default.REQUIRED_STRING,emailOnly:i({},r.default.OPTIONAL_BOOL,{default:!1}),all_email_accounts:r.default.OPTIONAL_BOOL}});t.sendMessageMultiple=u;var d=i({},r.default.OPTIONAL_BOOL,{default:!0}),c=r.default.get({id:"TICKETS",url:"/CMD_TICKET_MANAGE",response:{tickets:[],info:{columns:[],pagination:{},tickets:{}}},pagination:!0,schema:{show_open:d,show_hold:d,show_closed:d},after:function(e){return e.flow(e.wrap("rows"),e.moveProp({"rows.info.new_all":"filters.all.new","rows.info.num_all":"filters.all.total","rows.info.new_hold":"filters.hold.new","rows.info.num_hold":"filters.hold.total","rows.info.new_open":"filters.open.new","rows.info.num_open":"filters.open.total","rows.info.new_closed":"filters.closed.new","rows.info.num_closed":"filters.closed.total","rows.info.active":"enabled","rows.info.html":"message"}),e.processTableInfo("rows"),e.mapProps({rows:e.flow(e.toArray,e.mapArrayProps({new:e.convert.toAppBoolean,priority:e.convert.toAppNumber,replies:e.convert.toAppNumber,last_message:e.convert.toAppDate,subject:e.convert.toAppString,user:e.convert.toAppString})),filters:e.mapValues(e.mapProps({new:e.convert.toAppNumber,total:e.convert.toAppNumber})),enabled:e.convert.toAppBoolean,message:e.convert.toAppHtml}))}});t.getTickets=c;var f=r.default.get({id:"TICKET_MESSAGES",url:"/CMD_TICKET_MANAGE",response:[],params:{action:"view",type:"ticket"},schema:{number:r.default.REQUIRED_STRING},after:function(e){return e.flow(e.deleteProp("info"),e.toArray,(function(e){return e.reverse()}),e.mapArrayProps({message:e.convert.toAppHtml,time:function(t){return(0,l.default)(Date.now(),e.convert.toAppDate(t))}}))}});t.getMessages=f;var p=r.default.select({url:"/CMD_TICKET_MANAGE",params:{close:!0}});t.closeTickets=p;var m=r.default.post({url:"/CMD_TICKET_MANAGE",params:{action:"status",status:"open"},schema:{number:r.default.REQUIRED_STRING}});t.openTicket=m;var _=r.default.select({url:"/CMD_TICKET_MANAGE",params:{read:!0}});t.markTicketsRead=_;var v=r.default.post({url:"/CMD_TICKET_CREATE",params:{action:"create",type:"request"},before:function(e){return{encoding:e.email_only?"utf-8":null}},schema:{user:r.default.REQUIRED_STRING,priority:i({},r.default.REQUIRED_STRING,{validator:function(e){return["10","20","30"].includes(e)}}),subject:r.default.REQUIRED_STRING,message:r.default.REQUIRED_STRING,email_only:r.default.OPTIONAL_BOOL}});t.createTicket=v;var E=r.default.post({url:"/CMD_TICKET_MANAGE",params:{action:"reply",type:"reply",priority:"none"},schema:{number:r.default.REQUIRED_STRING,user:r.default.REQUIRED_STRING,subject:r.default.REQUIRED_STRING,status:{type:String,required:!1,default:"open",validator:function(e){return["open","closed"].includes(e)}},message:r.default.REQUIRED_STRING}});t.replyTicket=E;var g=r.default.get({id:"TICKET_DEFAULTS",url:"/CMD_TICKET_CREATE",after:function(e){return e.flow(e.moveProp("EML_ONLY_CHEKCED","email.set"),e.moveProp("SHOW_EML_ONLY","email.show"),e.moveProp("TCKTTO","to"),e.moveProp("TCKTTYPE","type"),(function(e){return i({},e,{selected:Object.values(e.to).find((function(e){return!!e.selected}))})}),e.mapProps({email:e.mapProps({set:e.convert.toAppBoolean,show:e.convert.toAppBoolean}),to:function(e){return Object.values(e).map((function(e){return{label:e.text,value:e.value}}))},selected:function(e){return{label:e.text,value:e.value}}}))}});t.getTicketDefaults=g;var O=r.default.get({id:"TICKETS_EMAIL_SETTING",url:"/CMD_TICKET",after:function(e){return e.flow(e.project({email:"settings.EMAIL",checked:"settings.EMAILCHECKED"}),e.mapProps({featureEnabled:e.feedWith(1,(function(e){return void 0!==e.checked})),email:e.setDefault(""),checked:e.flow(e.setDefault("no"),e.convert.toAppBoolean)}))}});t.getEmailSetting=O;var R=r.default.post({url:"/CMD_TICKET_MANAGE",params:{action:"email"},schema:{email:r.default.REQUIRED_STRING,ON:r.default.REQUIRED_BOOL}});t.updateEmailSetting=R;var I=r.default.get({id:"TICKETS_ACTIVE_STATUS",url:"/CMD_TICKET_MANAGE",response:{html:"",active:!1},after:function(e){return function(t){return{html:t.info.html,active:e.convert.toAppBoolean(t.info.active)}}}});t.getActiveStatus=I;var T=r.default.post({url:"/CMD_TICKET_MANAGE",params:{action:"active"},schema:{active:r.default.REQUIRED_BOOL,html:r.default.REQUIRED_STRING}});t.updateActiveStatus=T;var S=r.default.get({id:"TICKET_SYSTEM_STATUS",url:"/CMD_TICKET_CREATE",params:{type:"Ticket"},notifyError:!1});t.getSystemStatus=S},1458:function(e,t,a){"use strict";a.r(t);var s=a(1459),n=a.n(s);for(var r in s)"default"!==r&&function(e){a.d(t,e,(function(){return s[e]}))}(r);t.default=n.a},1459:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(1453),n={props:{users:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{priority:"20",subject:"",message:"",emailOnly:!1,allEmailAccounts:!1}},computed:{priorityOptions:function(){return{10:this.$gettext("Low"),20:this.$gettext("Medium"),30:this.$gettext("High")}}},methods:{sendMessage:function(){(0,s.sendMessageMultiple)({users:this.users,priority:this.priority.value,subject:this.subject,message:this.message,emailOnly:this.emailOnly,email_only:this.emailOnly,all_email_accounts:this.emailOnly&&this.allEmailAccounts})}}};t.default=n},1463:function(e,t,a){"use strict";var s=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(30)),r=n.default.post({url:"/CMD_USER_PASSWD",params:{action:"create",referer:"CMD_API_USER_PASSWD"},schema:{username:n.default.REQUIRED_STRING,passwd:n.default.REQUIRED_STRING},before:function(e){return{passwd2:e.passwd}}});t.default=r},1476:function(e,t,a){"use strict";a.r(t);var s=a(1477),n=a(1444);for(var r in n)"default"!==r&&function(e){a.d(t,e,(function(){return n[e]}))}(r);var l=a(0),o=Object(l.a)(n.default,s.a,s.b,!1,null,null,null);t.default=o.exports},1477:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ui-dialog",{attrs:{id:"CHANGE_USER_PASSWORD_DIALOG"}},[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n        Change Password\n    ")]),e._v(" "),a("template",{slot:"content"},[a("ui-form-element",{attrs:{slot:"content",vertical:""},slot:"content"},[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Username\n            ")]),e._v(" "),a("input-text",{attrs:{slot:"content",disabled:""},slot:"content",model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),e._v(" "),a("ui-form-element",{attrs:{slot:"content",vertical:"",group:"change-user-password",validators:{required:!0,api:e.$commands.validatePassword}},slot:"content"},[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                New Password\n            ")]),e._v(" "),a("input-password",{attrs:{slot:"content","show-generator":""},slot:"content",model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),e._v(" "),a("ui-button",{attrs:{slot:"buttons","validate-group":"change-user-password",theme:"safe"},on:{click:e.changePassword},slot:"buttons"},[a("translate",[e._v("Change Pasword")])],1)],2)},n=[];a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return n}))},1479:function(e,t,a){"use strict";var s=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.increaseBandwidth=t.setPackageData=t.setPackage=t.getReseller=t.getUsers=t.getStats=t.getResellers=t.createReseller=t.getResellerOptions=void 0;var n=s(a(2)),r=s(a(17)),l=s(a(30)),o=l.default.post({id:"RESELLER_OPTIONS",url:"/CMD_ACCOUNT_RESELLER",notifySuccess:!1,blocking:!1,after:function(e){return e.flow(e.moveProp("free_ips","freeIPs"),e.mapProp("freeIPs",e.convert.toAppNumber))}});t.getResellerOptions=o;var i=l.default.post({url:"/CMD_ACCOUNT_RESELLER",params:{action:"create",add:!0},schema:{username:l.default.REQUIRED_STRING,email:l.default.REQUIRED_STRING,passwd:l.default.REQUIRED_STRING,passwd2:l.default.REQUIRED_STRING,domain:l.default.REQUIRED_STRING,package:l.default.OPTIONAL_STRING,notify:l.default.REQUIRED_BOOL,ip:l.default.REQUIRED_STRING}});t.createReseller=i;var u=l.default.get({id:"RESELLERS",url:"/CMD_RESELLER_SHOW",pagination:!0,params:{bytes:!0},after:function(e){return e.flow(e.deleteProp("reasons"),e.toTable(e.mapArray((function(t){if("string"==typeof t.bandwidth)return{username:t.username,valid:!1};var a=t.nusers.split("/"),s=(0,r.default)(a,2),n=s[0],l=s[1];return{username:t.username,nusers:n,nuserslimit:e.convert.toAppLimit(l),suspended:"no:"!==t.suspended.value,reason:t.suspended.reason||"none",vdomains:e.toLimitedUsage()(t.vdomains),bandwidth:e.toLimitedUsage()(t.bandwidth),quota:e.toLimitedUsage()(t.quota),valid:!0}}))))}});t.getResellers=u;var d=l.default.get({id:"RESELLER_STATS",url:"/CMD_SHOW_RESELLER",params:{bytes:!0},schema:{user:l.default.REQUIRED_STRING},after:function(e){return e.flow(e.project({comments:"comments",info:"stats",usage:"stats",stats:"stats",users:"users",deleted_user_bandwidth:"stats",additional_bandwidth:"stats"}),e.mapProps({usage:e.flow(e.deleteProp("info"),e.filter(e.getProp("max_usage")),e.transformObject((function(e){var t=e.setting,a=e.usage,s=e.allocated,r=e.max_usage;return(0,n.default)({},t,{usage:a,allocated:s,limit:r})})),e.mapValues(e.mapProps({usage:e.convert.toAppNumber,limit:e.convert.toAppLimit,allocated:e.convert.toAppLimit}))),stats:e.flow(e.deleteProp("info"),e.filter(e.flow(e.getProp("usage"),(function(e){return["ON","OFF"].includes(e)}))),e.transformObject((function(e){var t=e.setting,a=e.usage;return(0,n.default)({},t,a)})),e.mapValues(e.convert.toAppBoolean)),info:e.flow(e.deleteProp("info"),e.filter((function(e){return!e.max_usage&&!["ON","OFF"].includes(e.usage)})),e.transformObject((function(e){var t=e.setting,a=e.usage;return(0,n.default)({},t,a)}))),comments:e.flow(e.convert.toAppString,e.convert.toAppText),users:e.toTable(e.mapArrayProps({bandwidth:e.toLimitedUsage(),quota:e.toLimitedUsage(),vdomains:e.toLimitedUsage(),suspended:e.flow(e.isEqual("No"),e.not)})),skinInfo:e.feedWith(1,e.flow(e.project({custom:"is_reseller_skin",path:"reseller_skin",owner:"reseller_skin_owner"}),e.mapProp("custom",e.isEqual("1")))),deleted_user_bandwidth:e.flow(e.deleteProp("info"),Object.values,(function(e){return e.find((function(e){return"deleted_user_bandwidth"===e.setting}))}),(function(t){return void 0!==t&&e.mapProps({usage:e.convert.toAppNumber,limit:e.convert.toAppLimit,allocated:e.convert.toAppLimit})(t)})),additional_bandwidth:e.flow(e.deleteProp("info"),Object.values,(function(e){return e.find((function(e){return"additional_bandwidth"===e.setting}))||{usage:!1}}),(function(e){return e.usage}))}))}});t.getStats=d;var c=l.default.get({id:"RESELLER_USERS",url:"/CMD_SHOW_RESELLER",params:{bytes:!0},pagination:!0,schema:{user:l.default.REQUIRED_STRING},after:function(e){return e.flow(e.getProp("users"),e.toTable(e.mapArrayProps({bandwidth:e.toLimitedUsage(),quota:e.toLimitedUsage(),vdomains:e.toLimitedUsage(),suspended:e.flow(e.isEqual("No"),e.not)})))}});t.getUsers=c;var f=l.default.get({id:"RESELLER_DATA",url:"/CMD_MODIFY_RESELLER",params:{bytes:!0},schema:{user:l.default.REQUIRED_STRING},after:function(e){return e.flow((function(e){return{packageData:e,packages:e.packages,package:e.packages,custom:e.custom_items,haveInode:e.have_inode}}),e.mapProps({haveInode:e.isEqual("yes"),package:e.flow(e.find(e.getProp("selected")),e.getProp("value")),packages:e.flow(e.transformObject((function(e){var t=e.value,a=e.text;return(0,n.default)({},t,a)})),e.filter((function(e,t){return!!t}))),custom:e.flow(e.toArray,e.mapArray((function(t){var a={type:t.type,description:t.desc,label:t.string,name:t.name};switch(t.type){case"checkbox":return Object.assign(a,{value:e.isEqual("yes")(t.checked)});case"text":return Object.assign(a,{value:t.value});case"listbox":return Object.assign(a,{value:e.flow(e.find(e.getProp("selected")),e.getProp("value"))(t.select),options:e.transformObject((function(e){var t=e.value,a=e.text;return(0,n.default)({},t,a)}))(t.select)});default:return!1}})),e.filter(e.notEmpty)),packageData:e.flow(e.deleteProps(["packages","have_inode","custom_items"]),e.transformObject((function(t,a){if("unlimited"===t.type){var s=e.convert.toAppLimit(t.value)===1/0,r=s?"":t.value;return{limits:(0,n.default)({},a,{value:r,unlimited:s})}}return"checkbox"===t.type?{features:(0,n.default)({},a,"yes"===t.checked)}:(0,n.default)({},a,t)})))}))}});t.getReseller=f;var p=l.default.post({url:"/CMD_MODIFY_RESELLER",params:{action:"package"},schema:{user:l.default.REQUIRED_STRING,package:l.default.REQUIRED_STRING}});t.setPackage=p;var m=l.default.post({url:"/CMD_MODIFY_RESELLER",params:{action:"customize",bytes:!0},schema:{user:l.default.REQUIRED_STRING,bandwidth:l.default.OPTIONAL_STRING,ubandwidth:l.default.OPTIONAL_BOOL,quota:l.default.OPTIONAL_STRING,uquota:l.default.OPTIONAL_BOOL,inode:l.default.OPTIONAL_STRING,uinode:l.default.OPTIONAL_BOOL,vdomains:l.default.OPTIONAL_STRING,uvdomains:l.default.OPTIONAL_BOOL,nsubdomains:l.default.OPTIONAL_STRING,unsubdomains:l.default.OPTIONAL_BOOL,nemails:l.default.OPTIONAL_STRING,unemails:l.default.OPTIONAL_BOOL,nemailf:l.default.OPTIONAL_STRING,unemailf:l.default.OPTIONAL_BOOL,nemailml:l.default.OPTIONAL_STRING,unemailml:l.default.OPTIONAL_BOOL,nemailr:l.default.OPTIONAL_STRING,unemailr:l.default.OPTIONAL_BOOL,mysql:l.default.OPTIONAL_STRING,umysql:l.default.OPTIONAL_BOOL,domainptr:l.default.OPTIONAL_STRING,udomainptr:l.default.OPTIONAL_BOOL,ftp:l.default.OPTIONAL_STRING,uftp:l.default.OPTIONAL_BOOL,aftp:l.default.OPTIONAL_STRING,cgi:l.default.OPTIONAL_STRING,php:l.default.OPTIONAL_STRING,spam:l.default.OPTIONAL_STRING,catchall:l.default.OPTIONAL_STRING,ssl:l.default.OPTIONAL_STRING,ssh:l.default.OPTIONAL_STRING,userssh:l.default.OPTIONAL_STRING,oversell:l.default.OPTIONAL_STRING,cron:l.default.OPTIONAL_STRING,sysinfo:l.default.OPTIONAL_STRING,login_keys:l.default.OPTIONAL_STRING,dnscontrol:l.default.OPTIONAL_STRING}});t.setPackageData=m;var _=l.default.post({url:"/CMD_MODIFY_RESELLER",params:{additional_bw:!0,action:"single",json:null},schema:{user:l.default.REQUIRED_STRING,additional_bandwidth:l.default.REQUIRED_STRING}});t.increaseBandwidth=_},1487:function(e,t,a){"use strict";var s=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.saveComments=t.createAdmin=t.deleteUsers=t.unsuspendUsers=t.suspendUsers=void 0;var n=s(a(30)),r=n.default.post({url:"/CMD_SELECT_USERS",notifySuccess:!0,params:{location:"CMD_ALL_USER_SHOW"},schema:{select:n.default.ROWS},blocking:!0}),l=r.extend({params:{dosuspend:!0},schema:{reason:n.default.REQUIRED_STRING},blocking:!0});t.suspendUsers=l;var o=r.extend({params:{dounsuspend:!0},blocking:!0});t.unsuspendUsers=o;var i=r.extend({params:{delete:!0,confirmed:!0},schema:{leave_dns:n.default.OPTIONAL_BOOL},blocking:!0});t.deleteUsers=i;var u=n.default.post({url:"/CMD_ACCOUNT_ADMIN",params:{action:"create"},schema:{username:n.default.REQUIRED_STRING,email:n.default.REQUIRED_STRING,passwd:n.default.REQUIRED_STRING,passwd2:n.default.REQUIRED_STRING,notify:n.default.REQUIRED_BOOL}});t.createAdmin=u;var d=n.default.post({url:"/CMD_COMMENTS",params:{location:"CMD_SHOW_RESELLER"},schema:{user:n.default.REQUIRED_STRING,comments:n.default.REQUIRED_STRING}});t.saveComments=d},1488:function(e,t,a){"use strict";a.r(t);var s=a(1492),n=a(1449);for(var r in n)"default"!==r&&function(e){a.d(t,e,(function(){return n[e]}))}(r);var l=a(0),o=Object(l.a)(n.default,s.a,s.b,!1,null,null,null);t.default=o.exports},1492:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ui-dialog",{attrs:{id:"SUSPEND_USER_DIALOG"}},[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Suspend user")]),e._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},[a("ui-form-element",{attrs:{vertical:""}},[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Reason")]),e._v(" "),a("input-select",{attrs:{slot:"content",options:e.reasons},slot:"content",model:{value:e.reason,callback:function(t){e.reason=t},expression:"reason"}})],1),e._v(" "),a("ui-form-element",{attrs:{vertical:""}},[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Details")]),e._v(" "),a("input-textarea",{attrs:{slot:"content",rows:"3"},slot:"content",model:{value:e.details,callback:function(t){e.details=t},expression:"details"}})],1)],1),e._v(" "),a("ui-button",{attrs:{slot:"buttons",theme:"safe"},on:{click:function(t){return e.$emit("suspend",{reason:e.reason,details:e.details})}},slot:"buttons"},[a("translate",[e._v("Suspend")])],1)],1)},n=[];a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return n}))},1511:function(e,t,a){"use strict";a.r(t);var s=a(1532),n=a(1458);for(var r in n)"default"!==r&&function(e){a.d(t,e,(function(){return n[e]}))}(r);var l=a(0),o=Object(l.a)(n.default,s.a,s.b,!1,null,null,null);t.default=o.exports},1532:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ui-dialog",{attrs:{id:"CREATE_MESSAGE_DIALOG",size:"normal"},on:{"dialog:close":e.$reset}},[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n        Send a Message\n    ")]),e._v(" "),a("template",{slot:"content"},[a("ui-form-element",[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                To:\n            ")]),e._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},[a("ui-grid",{attrs:{wrap:""}},e._l(e.users,(function(t){return a("ui-badge",{key:t,attrs:{theme:"neutral",size:"big",icon:"person"}},[e._v("\n                        "+e._s(t)+"\n                    ")])})),1)],1)],1),e._v(" "),a("ui-form-element",{attrs:{group:"message",validators:{required:!0}}},[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Priority:\n            ")]),e._v(" "),a("input-select",{attrs:{slot:"content",options:e.priorityOptions},slot:"content",model:{value:e.priority,callback:function(t){e.priority=t},expression:"priority"}})],1),e._v(" "),a("ui-form-element",{attrs:{group:"message",validators:{required:!0}}},[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Subject:\n            ")]),e._v(" "),a("input-text",{attrs:{slot:"content"},slot:"content",model:{value:e.subject,callback:function(t){e.subject=t},expression:"subject"}})],1),e._v(" "),a("ui-form-element",{attrs:{group:"message",validators:{required:!0}}},[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Message:\n            ")]),e._v(" "),a("input-textarea",{attrs:{slot:"content",rows:"10"},slot:"content",model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1),e._v(" "),a("ui-form-element",{attrs:{underline:!1}},[a("span",{attrs:{slot:"title"},slot:"title"}),e._v(" "),a("div",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center"},expression:"{ cross: 'center' }"},{name:"gutter",rawName:"v-gutter",value:1,expression:"1"}],attrs:{slot:"content"},slot:"content"},[a("input-checkbox",{model:{value:e.emailOnly,callback:function(t){e.emailOnly=t},expression:"emailOnly"}},[a("translate",[e._v("E-mail Only")])],1),e._v(" "),e.emailOnly?a("input-checkbox",{model:{value:e.allEmailAccounts,callback:function(t){e.allEmailAccounts=t},expression:"allEmailAccounts"}},[a("translate",[e._v("All Email Accounts")]),e._v(" "),a("ui-tooltip",[a("translate",[e._v("Message will be delivered to all User/Reseller accounts that were selected plus all E-Mail accounts that exist under domains for selected User accounts.")])],1)],1):e._e()],1)])],1),e._v(" "),a("ui-button",{attrs:{slot:"buttons",theme:"primary","validate-group":"message"},on:{click:e.sendMessage},slot:"buttons"},[e._v("\n        Send Message\n    ")])],2)},n=[];a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return n}))},1739:function(e,t,a){"use strict";a.r(t);var s=a(1740),n=a.n(s);for(var r in s)"default"!==r&&function(e){a.d(t,e,(function(){return s[e]}))}(r);t.default=n.a},1740:function(e,t,a){"use strict";var s=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(2)),r=a(1479),l=a(1487),o=s(a(1511)),i=s(a(1488)),u=s(a(1476));function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}var c={preload:r.getResellers,commands:{getResellers:r.getResellers},components:{CreateMessageDialog:o.default,SuspendUserDialog:i.default,ChangePasswordDialog:u.default},data:function(){return{select:[]}},computed:{reasons:i.default.$exports.reasons},methods:{deleteResellers:function(){(0,l.deleteUsers)({select:this.select,location:"CMD_RESELLER_SHOW"}).then(this.$reloadApiTable)},suspendResellers:function(e){(0,l.suspendUsers)(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({select:this.select},e,{location:"CMD_RESELLER_SHOW"})).then(this.$reloadApiTable)},unsuspendResellers:function(){(0,l.unsuspendUsers)({select:this.select,location:"CMD_RESELLER_SHOW"}).then(this.$reloadApiTable)},loginAs:function(e){this.$store.dispatch("app/LOGIN_AS",{user:e,path:this.$route.path,router:this.$router})},changePassword:function(e){this.$refs.cpd.show(e)}}};t.default=c},2619:function(e,t){},3070:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("app-page",[a("ui-button-link",{attrs:{slot:"header:buttons",theme:"primary",name:"admin/users/resellers/create"},slot:"header:buttons"},[a("translate",[e._v("Create Reseller")])],1),e._v(" "),a("app-page-section",[a("ui-api-table",e._b({on:{"action:message":function(t){e.$dialog("CREATE_MESSAGE_DIALOG").open()},"action:suspend":function(t){e.$dialog("SUSPEND_USER_DIALOG").open()},"action:unsuspend":e.unsuspendResellers,"action:remove":function(t){e.$dialog("DELETE_ITEMS_DIALOG").open()}},scopedSlots:e._u([{key:"col:username",fn:function(t){var s=t.username,n=t.suspended,r=t.reason,l=t.valid;return[l?a("ui-link",{attrs:{name:"admin/users/resellers/view",params:{user:s}}},[e._v("\n                    "+e._s(s)+"\n                ")]):a("span",[e._v(e._s(s))]),e._v(" "),n?a("ui-tooltip",{attrs:{theme:"danger",icon:"warning"}},[a("translate",{attrs:{"translate-params":{reason:e.reasons[r]}}},[e._v("\n                        Suspended: %{ reason }\n                    ")])],1):e._e(),e._v(" "),l?e._e():a("ui-tooltip",{key:"corrupted",attrs:{theme:"danger",icon:"warning"}},[a("translate",[e._v("Error reading file")])],1)]}},{key:"col:bandwidth",fn:function(t){var s=t.bandwidth;return t.valid?a("ui-limited-usage",e._b({},"ui-limited-usage",s,!1)):e._e()}},{key:"col:quota",fn:function(t){var s=t.quota;return t.valid?a("ui-limited-usage",e._b({},"ui-limited-usage",s,!1)):e._e()}},{key:"col:vdomains",fn:function(t){var s=t.vdomains;return t.valid?a("ui-limited-usage",e._b({attrs:{plain:""}},"ui-limited-usage",s,!1)):e._e()}},{key:"col:nusers",fn:function(t){var s=t.nusers,n=t.nuserslimit;return t.valid?a("ui-limited-usage",{attrs:{plain:"",usage:s,limit:n}}):e._e()}},{key:"row:actions",fn:function(t){var s=t.username,n=t.suspended;return a("ui-actions",{},[a("ui-link",{on:{click:function(t){e.select=[s],e.$dialog("CREATE_MESSAGE_DIALOG").open()}}},[a("translate",[e._v("Send a Message")])],1),e._v(" "),n?e._e():a("ui-link",{on:{click:function(t){e.select=[s],e.$dialog("SUSPEND_USER_DIALOG").open()}}},[a("translate",[e._v("Suspend")])],1),e._v(" "),n?a("ui-link",{on:{click:function(t){e.select=[s],e.unsuspendResellers()}}},[a("translate",[e._v("Unsuspend")])],1):e._e(),e._v(" "),a("ui-link",{on:{click:function(t){return e.loginAs(s)}}},[a("translate",{attrs:{"translate-params":{username:s}}},[e._v("\n                        Login as %{ username }\n                    ")])],1),e._v(" "),a("ui-link",{on:{click:function(t){return e.changePassword(s)}}},[a("translate",{attrs:{"translate-params":{username:s}}},[e._v("\n                        Change %{ username }'s password\n                    ")])],1),e._v(" "),a("ui-link",{on:{click:function(t){e.select=[s],e.$dialog("DELETE_ITEMS_DIALOG").open()}}},[a("translate",[e._v("Remove")])],1)],1)}}],null,!0),model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},"ui-api-table",{command:e.$commands.getResellers,rowID:"username",columns:{username:{label:e.$gettext("Name"),grow:!0,searchable:!0},bandwidth:{label:e.$gettext("Bandwidth"),getClass:function(e){return e.valid&&e.bandwidth.status?"--usage:"+e.bandwidth.status:""},width:"20%"},quota:{label:e.$gettext("Disk Usage"),getClass:function(e){return e.valid&&e.bandwidth.status?"--usage:"+e.quota.status:""},width:"20%"},nusers:e.$gettext("# of Users"),vdomains:e.$gettext("# of domains"),suspended:{label:e.$gettext("Suspended"),hide:!0,searchable:{type:"select",comparison:"contains",options:{"yes:":e.$gettext("Yes"),"no:":e.$gettext("No")}}}},actions:{message:e.$gettext("Send a Message"),suspend:e.$gettext("Suspend"),unsuspend:e.$gettext("Unsuspend"),remove:e.$gettext("Delete")},verticalLayout:e.$_Client.isPhone},!1))],1),e._v(" "),a("create-message-dialog",{attrs:{users:e.select}}),e._v(" "),a("ui-dialog-delete-items",{attrs:{subject:e.$ngettext("reseller","resellers",e.select.length)},on:{"click:confirm":e.deleteResellers}}),e._v(" "),a("suspend-user-dialog",{on:{suspend:e.suspendResellers}}),e._v(" "),a("change-password-dialog",{ref:"cpd"})],1)},n=[];a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return n}))}}]);