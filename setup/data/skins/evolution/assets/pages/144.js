(window.webpackJsonp=window.webpackJsonp||[]).push([[144],{1416:function(e,t,n){"use strict";n.r(t);var i=n(3152),s=n(2219);for(var o in s)"default"!==o&&function(e){n.d(t,e,(function(){return s[e]}))}(o);var a=n(0),l=n(2952),r=n.n(l),d=Object(a.a)(s.default,i.a,i.b,!1,null,null,null);"function"==typeof r.a&&r()(d),t.default=d.exports},2219:function(e,t,n){"use strict";n.r(t);var i=n(2220),s=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t.default=s.a},2220:function(e,t,n){"use strict";var i=n(10),s=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(n(17)),a=i(n(2221)),l={preload:a.getMimetypes,api:[{command:a.getMimetypes,bind:"mimetypes"}],commands:a,data:function(){return{select:[],add:{name:"",extension:""},del:{extension:""}}},computed:{checkedExtensions:function(){var e=this;return this.$api.mimetypes.rows.filter((function(t){var n=t.mimetype;return e.select.includes(n)})).map((function(e){return e.extensions.split(" ")})).reduce((function(e,t){return e.concat(t)}),[])}},methods:{reloadTable:function(){this.$reloadApiTable(),this.$reset()},addMimeType:function(){a.createMimetype({name:this.add.name,extension:this.add.extension}).then(this.reloadTable)},deleteMimeTypes:function(){a.deleteMimetypes({select:this.select}).then(this.reloadTable)},deleteExtension:function(){a.deleteMimetypeExtension({select:this.select,extension:this.del.extension}).then(this.reloadTable)},initDel:function(){var e=(0,o.default)(this.checkedExtensions,1);this.del.extension=e[0]}}};t.default=l},2221:function(e,t,n){"use strict";var i=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.deleteMimetypeExtension=t.deleteMimetypes=t.createMimetype=t.getSystemMimetypes=t.getMimetypes=void 0;var s=i(n(30)),o=s.default.get({id:"MIMETYPES",url:"/CMD_MIME_TYPES",domain:!0,pagination:!0,after:function(e){return e.flow((function(e){return{rows:e}}),e.processTableInfo("rows"),e.mapProps({rows:e.toArray}))}});t.getMimetypes=o;var a=o.extend({id:"SYSTEM_MIMETYPES",params:{action:"system"}});t.getSystemMimetypes=a;var l=s.default.post({url:"/CMD_MIME_TYPES",params:{action:"add"},domain:!0,schema:{name:s.default.REQUIRED_STRING,extension:s.default.REQUIRED_STRING}});t.createMimetype=l;var r=s.default.select({url:"/CMD_MIME_TYPES",params:{action:"multiple",button:"type"},domain:!0});t.deleteMimetypes=r;var d=r.extend({params:{button:"extension"},schema:{extension:s.default.REQUIRED_STRING}});t.deleteMimetypeExtension=d},2952:function(e,t){},3152:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("app-page",[n("ui-button",{attrs:{slot:"header:buttons",theme:"primary"},on:{click:function(t){e.$dialog("ADD_MIMETYPE_DIALOG").open()}},slot:"header:buttons"},[n("translate",[e._v("Add Mime Type")])],1),e._v(" "),n("app-page-section",[n("ui-api-table",e._b({ref:"table",attrs:{equalWidthLayout:""},on:{"action:deleteMimetype":function(t){e.$dialog("DELETE_MIMETYPES_DIALOG").open()},"action:deleteExtension":function(t){e.$dialog("DELETE_EXTENSION_DIALOG").open()}},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},"ui-api-table",{command:e.$commands.getMimetypes,rowID:"mimetype",columns:{mimetype:e.$gettext("Mime Type"),extensions:e.$gettext("Extensions")},actions:{deleteMimetype:e.$gettext("Delete Mime Type"),deleteExtension:e.$gettext("Delete Extension")}},!1))],1),e._v(" "),n("ui-link",{attrs:{slot:"bottom:links",name:"user/mimetypes/system"},slot:"bottom:links"},[n("translate",[e._v("System Mime Types")])],1),e._v(" "),n("ui-dialog",{attrs:{id:"ADD_MIMETYPE_DIALOG",theme:"safe"}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Add New Mime Type")]),e._v(" "),n("template",{slot:"content"},[n("ui-form-element",{attrs:{group:"addMimeType",validators:{required:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Name")]),e._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:e.add.name,callback:function(t){e.$set(e.add,"name",t)},expression:"add.name"}})],1),e._v(" "),n("ui-form-element",{attrs:{group:"addMimeType",validators:{required:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Extension")]),e._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:e.add.extension,callback:function(t){e.$set(e.add,"extension",t)},expression:"add.extension"}})],1)],1),e._v(" "),n("ui-button",{attrs:{slot:"buttons",theme:"safe",validateGroup:"addMimeType"},on:{click:e.addMimeType},slot:"buttons"},[n("translate",[e._v("Add")])],1)],2),e._v(" "),n("ui-dialog-delete-items",{attrs:{id:"DELETE_MIMETYPES_DIALOG",subject:e.$ngettext("Mime Type","Mime Types",e.select.length)},on:{"click:confirm":e.deleteMimeTypes}}),e._v(" "),n("ui-dialog",{attrs:{id:"DELETE_EXTENSION_DIALOG",theme:"danger"},on:{"dialog:open":e.initDel}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Delete Extension")]),e._v(" "),n("ui-form-element",{attrs:{slot:"content"},slot:"content"},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Extension:")]),e._v(" "),n("input-select",{attrs:{slot:"content",options:e.checkedExtensions},slot:"content",model:{value:e.del.extension,callback:function(t){e.$set(e.del,"extension",t)},expression:"del.extension"}})],1),e._v(" "),n("ui-button",{attrs:{slot:"buttons",theme:"danger"},on:{click:e.deleteExtension},slot:"buttons"},[n("translate",[e._v("Delete")])],1)],1)],1)},s=[];n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}))}}]);