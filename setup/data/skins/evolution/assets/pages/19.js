(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1371:function(e,t,n){"use strict";n.r(t);var a=n(3107),s=n(1994);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);var i=n(0),o=n(2800),l=n.n(o),u=Object(i.a)(s.default,a.a,a.b,!1,null,null,null);"function"==typeof l.a&&l()(u),t.default=u.exports},1442:function(e,t,n){"use strict";var a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.validateIPRangeList=t.validateDomain=t.validatePassword=t.validateSubdomain=t.validateUsername=t.validateDBUser=t.validateDatabase=t.validateDNSName=t.validateMXValue=t.validateDNSValue=t.validateFTP=t.validateEmail=t.validateForwarder=void 0;var s=a(n(30)),r=a(n(36)),i=a(n(1443)),o=s.default.get({url:"/CMD_JSON_VALIDATE",schema:{value:s.default.REQUIRED_STRING},response:{valid:!0,message:""},mapResponse:{valid:i.default.isValid,message:i.default.getMessage}}),l=o.extend({id:"VALIDATE_FORWARDER",params:{type:"forwarder",ignore_system_default:!0}});t.validateForwarder=l;var u=o.extend({id:"VALIDATE_EMAIL",params:{type:"email",check_mailing_list:!0},schema:{check_exists:{type:Boolean,required:!1,default:!0}}});t.validateEmail=u;var c=o.extend({id:"VALIDATE_FTP",params:{type:"ftp"},domain:!0});t.validateFTP=c;var d=o.extend({params:{type:"dns"},domain:!0,schema:{record:s.default.REQUIRED_STRING}}),p=d.extend({id:"VALIDATE_DNS_VALUE",params:{check:"value",name:!0},domain:!0,schema:{value:s.default.REQUIRED_STRING}});t.validateDNSValue=p;var v=p.extend({id:"VALIDATE_MX_VALUE",params:{record:"MX"},before:function(e){return{value:"10",mx_value:e.value}}});t.validateMXValue=v;var f=d.extend({id:"VALIDATE_DNS_NAME",params:{check:"name",value:!0,mx_value:!0},schema:{name:s.default.REQUIRED_STRING,value:null}});t.validateDNSName=f;var _=o.extend({id:"VALIDATE_DATABASE",params:{type:"dbname"}});t.validateDatabase=_;var m=o.extend({id:"VALIDATE_DATABASE_USER",params:{type:"dbusername"}});t.validateDBUser=m;var g=o.extend({id:"VALIDATE_USERNAME",params:{type:"username"}});t.validateUsername=g;var h=o.extend({id:"VALIDATE_SUBDOMAIN",domain:!0,params:{type:"subdomain"}});t.validateSubdomain=h;var b=o.extend({id:"VALIDATE_PASSWORD",params:{type:"password"}});t.validatePassword=b;var D=o.extend({id:"VALIDATE_DOMAIN",params:{type:"domain"},before:function(e){var t=e.value;return{value:r.default.toASCII(t)}}});t.validateDomain=D;var A=o.extend({id:"VALIDATE_IP_RANGE_LIST",params:{type:"ip_range_list"}});t.validateIPRangeList=A},1443:function(e,t,n){"use strict";n.r(t);var a=n(35);t.default={isValid:function(e){return void 0===e.error},getMessage:function(e){return Object(a.toAppHtml)(e.error||"")}}},1460:function(e,t,n){"use strict";var a=n(10),s=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.getLoginPMAStatus=t.globalLoginPMA=t.loginPMA=t.setUserPrivs=t.getUserPrivs=t.changeUserPassword=t.assignUser=t.addUser=t.deleteAccessHost=t.addAccessHost=t.deleteUsers=t.getDatabase=t.uploadBackup=t.deleteDatabase=t.optimizeDatabase=t.checkDatabase=t.repairDatabase=t.getDatabases=t.createDatabase=t.getUsers=void 0;var r=s(n(30)),i=a(n(6)),o=r.default.get({id:"DB_USERS",url:"/CMD_DB_CREATE",domain:!0,mapResponse:{users:i.pipe(i.omit(["MAX_DB_LENGTH","MAX_DB_USER_LENGTH"]),i.values,i.filter((function(e){return"..."!==e.text})),i.map((function(e){return{value:e.value,label:e.text}}))),max_db_length:i.prop("MAX_DB_LENGTH"),max_db_user_length:i.prop("MAX_DB_USER_LENGTH")}});t.getUsers=o;var l=r.default.post({url:"/CMD_DB",params:{action:"create"},domain:!0,schema:{name:r.default.REQUIRED_STRING,user:r.default.REQUIRED_STRING,passwd:r.default.OPTIONAL_STRING,passwd2:r.default.OPTIONAL_STRING,userlist:r.default.OPTIONAL_STRING},after:function(e){return e.mapProp("result",e.convert.toAppHtml)},updateTokens:!0});t.createDatabase=l;var u=r.default.get({id:"DATABASES",url:"/CMD_DB",domain:!0,pagination:!0,after:function(e){return e.mapProps({databases:e.toTable(e.mapArrayProps({nusers:e.convert.toAppNumber,size:e.convert.toAppNumber})),HAVE_ONE_CLICK_PMA_LOGIN:e.convert.toAppBoolean,total_usage:e.convert.toAppNumber,dbs_select:e.toSelect})}});t.getDatabases=u;var c=r.default.select({url:"/CMD_DB",domain:!0,params:{json:!0}}),d=c.extend({params:{repair:!0}});t.repairDatabase=d;var p=c.extend({params:{check:!0}});t.checkDatabase=p;var v=c.extend({params:{optimize:!0}});t.optimizeDatabase=v;var f=c.extend({params:{delete_db:!0},updateTokens:!0});t.deleteDatabase=f;var _=r.default.post({url:"/CMD_DB",params:{action:"restore",method:"default"},domain:!0,schema:{name:r.default.REQUIRED_STRING,dbuser:r.default.REQUIRED_STRING,dbpass:r.default.REQUIRED_STRING,file:{type:File,required:!0}},before:function(e){return{file1:e.file,file:null}},transport:FormData,continous:!0});t.uploadBackup=_;var m=r.default.get({id:"DB_VIEW",url:"/CMD_DB_VIEW",params:{page:1,ipp:9999},domain:!0,schema:{name:r.default.REQUIRED_STRING},after:function(e){return e.flow(e.project({hosts:"access_hosts",users:"db_users",pmaLogin:"HAVE_ONE_CLICK_PMA_LOGIN"}),e.mapProps({users:e.flow(e.deleteProp("info"),e.toArray,e.mapArray(e.getProp("User"))),hosts:e.flow(e.deleteProp("info"),e.toArray,e.mapArray(e.getProp("Access Hosts"))),pmaLogin:e.convert.toAppBoolean}))}});t.getDatabase=m;var g=r.default.post({url:"/CMD_DB",method:"POST",params:{action:"deleteuser",delete:!0,json:!0},domain:!0,schema:{name:r.default.REQUIRED_STRING,select:r.default.ROWS}});t.deleteUsers=g;var h=r.default.post({url:"/CMD_DB_ACCESS",domain:!0,params:{add:!0,json:!0},schema:{name:r.default.REQUIRED_STRING,host:r.default.REQUIRED_STRING}});t.addAccessHost=h;var b=r.default.select({url:"/CMD_DB_ACCESS",domain:!0,params:{delete:!0,json:!0},schema:{name:r.default.REQUIRED_STRING}});t.deleteAccessHost=b;var D=r.default.post({url:"/CMD_DB",domain:!0,params:{action:"createuser",json:!0},schema:{name:r.default.REQUIRED_STRING,passwd:r.default.REQUIRED_STRING,passwd2:r.default.REQUIRED_STRING}});t.addUser=D;var A=r.default.post({url:"/CMD_DB",domain:!0,params:{action:"createuser",json:!0,passwd:"*****",passwd2:"*****"},schema:{name:r.default.REQUIRED_STRING,userlist:r.default.REQUIRED_STRING}});t.assignUser=A;var E=r.default.post({url:"/CMD_DB",domain:!0,params:{action:"modifyuser",json:!0},schema:{name:r.default.REQUIRED_STRING,user:r.default.REQUIRED_STRING,passwd:r.default.REQUIRED_STRING,passwd2:r.default.REQUIRED_STRING}});t.changeUserPassword=E;var w=r.default.get({id:"DB_USER_PRIVS",url:"/CMD_DB_USER_PRIVS",domain:!0,schema:{name:r.default.REQUIRED_STRING,user:r.default.REQUIRED_STRING},after:function(e){return e.mapValues(e.isEqual("Y"))}});t.getUserPrivs=w;var R=r.default.post({url:"/CMD_DB_USER_PRIVS",domain:!0,params:{action:"save "},body:{name:r.default.REQUIRED_STRING,user:r.default.REQUIRED_STRING}});t.setUserPrivs=R;var x=r.default.post({url:"/CMD_PMA_LOGIN",domain:!0,params:{json:!0},notifySuccess:!1,notifyError:!1,schema:{name:r.default.REQUIRED_STRING}});t.loginPMA=x;var I=r.default.post({url:"/CMD_PMA_LOGIN",params:{json:!0,name:"all",domain:""},notifySuccess:!1,notifyError:!1});t.globalLoginPMA=I;var U=r.default.get({url:"/CMD_DB",response:!1,mapResponse:function(e){return"yes"===e.HAVE_ONE_CLICK_PMA_LOGIN},notifyError:!1});t.getLoginPMAStatus=U},1994:function(e,t,n){"use strict";n.r(t);var a=n(1995),s=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t.default=s.a},1995:function(e,t,n){"use strict";var a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,r,i,o,l,u=a(n(15)),c=a(n(16)),d=n(1460),p=a(n(2792)),v=a(n(2795)),f=a(n(2796)),_=a(n(2797)),m={preload:[function(e){var t=e.database;return(0,d.getDatabase)({name:t})},d.getUsers],api:[{command:d.getDatabase,bind:"db"},{command:d.getUsers,bind:{"response.users":"users"}}],components:{CreateDbUserDialog:p.default,ExistingDbUserDialog:v.default,ChangeDbUserPassDialog:f.default,ChangeDbUserPrivsDialog:_.default},props:{database:{type:String,required:!0}},data:function(){return{checkedUserRows:[],checkedHostRows:[],host:"",currentUser:""}},computed:{users:function(){return this.$api.db.users.map((function(e){return{user:e}}))},hosts:function(){return this.$api.db.hosts.map((function(e){return{host:e}}))},checkedUsers:function(){return this.checkedUserRows.map((function(e){return e.user}))},checkedHosts:function(){return this.checkedHostRows.map((function(e){return e.host}))},notAssignedUsers:function(){var e=this,t=this.$state.app.user.name;return this.$api.users.map((function(e){return e.value})).filter((function(n){return!e.$api.db.users.includes("".concat(t,"_").concat(n))}))}},watch:{$domain:function(){this.reload()}},methods:{deleteHosts:(l=(0,c.default)(u.default.mark((function e(){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.deleteAccessHost)({name:this.database,select:this.checkedHosts});case 2:e.sent&&(this.reload(),this.checkedHostRows=[]);case 4:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)}),deleteUsers:(o=(0,c.default)(u.default.mark((function e(){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.deleteUsers)({name:this.database,select:this.checkedUsers});case 2:e.sent&&(this.reload(),this.checkedUserRows=[]);case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)}),addNewAccessHost:(i=(0,c.default)(u.default.mark((function e(){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.addAccessHost)({name:this.database,host:this.host});case 2:e.sent&&this.reload();case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)}),reload:function(){(0,d.getDatabase)({name:this.database})},changePasswordDialog:function(e){this.currentUser=e,this.$dialog("CHANGE_DB_USER_PASS_DIALOG").open()},changePrivilegesDialog:(r=(0,c.default)(u.default.mark((function e(t){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.currentUser=t,this.$dialog("CHANGE_DB_USER_PRIVS_DIALOG").open();case 2:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)}),loginPMA:(s=(0,c.default)(u.default.mark((function e(){var t,n,a;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.loginPMA)({name:this.database});case 2:"yes"===e.sent.success&&((t=window.document.createElement("form")).action="/CMD_PMA_LOGIN",t.method="POST",t.target="_blank",(n=window.document.createElement("input")).type="hidden",n.name="domain",n.value=this.$domainUnicode,t.appendChild(n),(a=window.document.createElement("input")).type="hidden",a.name="name",a.value=this.database,t.appendChild(a),window.document.body.appendChild(t),t.submit());case 4:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})}};t.default=m},1996:function(e,t,n){"use strict";n.r(t);var a=n(1997),s=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t.default=s.a},1997:function(e,t,n){"use strict";var a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,r=a(n(15)),i=a(n(16)),o=n(1442),l=n(1460),u={commands:{validateDBUser:o.validateDBUser,validatePassword:o.validatePassword},props:{database:{type:String,required:!0}},data:function(){return{user:"",passwd:""}},computed:{prefix:function(){return"".concat(this.$state.app.user.name,"_")}},methods:{submit:(s=(0,i.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.addUser)({name:this.database,user:this.user,passwd:this.passwd,passwd2:this.passwd});case 2:e.sent&&this.$emit("userAdded");case 4:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})}};t.default=u},1998:function(e,t,n){var a=n(2794);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n(5).default)("1047bec6",a,!0,{})},1999:function(e,t,n){"use strict";n.r(t);var a=n(2e3),s=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t.default=s.a},2e3:function(e,t,n){"use strict";var a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,r=a(n(15)),i=a(n(16)),o=n(1460),l={props:{database:{type:String,required:!0},users:{type:Array,required:!0}},data:function(){return{user:""}},methods:{submit:(s=(0,i.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.assignUser)({name:this.database,userlist:this.user});case 2:e.sent&&this.$emit("userAssigned");case 4:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})}};t.default=l},2001:function(e,t,n){"use strict";n.r(t);var a=n(2002),s=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t.default=s.a},2002:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(1442),s=n(1460),r={commands:{validatePassword:a.validatePassword},props:{database:{type:String,required:!0},user:{type:String,required:!0}},data:function(){return{passwd:""}},methods:{submit:function(){(0,s.changeUserPassword)({name:this.database,user:this.user,passwd:this.passwd,passwd2:this.passwd})}}};t.default=r},2003:function(e,t,n){"use strict";n.r(t);var a=n(2004),s=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t.default=s.a},2004:function(e,t,n){"use strict";var a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(n(15)),r=a(n(16)),i=a(n(2)),o=n(14),l=n(1460);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var c,d={props:{database:{type:String,required:!0},user:{type:String,required:!0}},data:function(){return{privileges:{alter:!1,alter_routine_priv:!1,create:!1,create_routine_priv:!1,create_view_priv:!1,delete:!1,drop:!1,event_priv:!1,execute_priv:!1,grant:!1,index:!1,insert:!1,lock_table:!1,reference:!1,select:!1,show_view_priv:!1,tmp_table:!1,trigger_priv:!1,update:!1}}},computed:{requestData:function(){var e=o._.mapValues(this.privileges,(function(e){return e?"Y":"N"}));return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:this.database,user:this.user},e)}},methods:{loadUserPrivs:(c=(0,r.default)(s.default.mark((function e(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object,e.t1=this.privileges,e.next=4,(0,l.getUserPrivs)({name:this.database,user:this.user});case 4:e.t2=e.sent,this.privileges=e.t0.assign.call(e.t0,e.t1,e.t2);case 6:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)}),submit:function(){(0,l.setUserPrivs)(this.requestData)}}};t.default=d},2005:function(e,t,n){var a=n(2799);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n(5).default)("9d1d3a58",a,!0,{})},2792:function(e,t,n){"use strict";n.r(t);var a=n(3231),s=n(1996);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);n(2793);var i=n(0),o=Object(i.a)(s.default,a.a,a.b,!1,null,"be916686",null);t.default=o.exports},2793:function(e,t,n){"use strict";var a=n(1998);n.n(a).a},2794:function(e,t,n){(e.exports=n(4)(!0)).push([e.i,"#CREATE_DB_USER_DIALOG input[type=text][data-v-be916686]{width:24rem}.inputGroup #CREATE_DB_USER_DIALOG input[type=text][data-v-be916686]{width:unset}","",{version:3,sources:["/home/evo/evolution/src/js/pages/user/database/_dialogs/create-db-user-dialog.vue"],names:[],mappings:"AA4FA,yDAEQ,WAAY,CACZ,qEACI,WAAY,CAAA",file:"create-db-user-dialog.vue?vue&type=style&index=0&id=be916686&lang=scss&scoped=true&",sourcesContent:['\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#CREATE_DB_USER_DIALOG {\n    input[type="text"] {\n        width: 24rem;\n        .inputGroup & {\n            width: unset;\n        }\n    }\n}\n'],sourceRoot:""}])},2795:function(e,t,n){"use strict";n.r(t);var a=n(3232),s=n(1999);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);var i=n(0),o=Object(i.a)(s.default,a.a,a.b,!1,null,null,null);t.default=o.exports},2796:function(e,t,n){"use strict";n.r(t);var a=n(3233),s=n(2001);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);var i=n(0),o=Object(i.a)(s.default,a.a,a.b,!1,null,null,null);t.default=o.exports},2797:function(e,t,n){"use strict";n.r(t);var a=n(3234),s=n(2003);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);n(2798);var i=n(0),o=Object(i.a)(s.default,a.a,a.b,!1,null,"7f5fbd9c",null);t.default=o.exports},2798:function(e,t,n){"use strict";var a=n(2005);n.n(a).a},2799:function(e,t,n){(e.exports=n(4)(!0)).push([e.i,".privs-flex[data-v-7f5fbd9c]{-ms-flex-wrap:wrap;flex-wrap:wrap}.privs-flex>[data-v-7f5fbd9c]{width:50%}","",{version:3,sources:["/home/evo/evolution/src/js/pages/user/database/_dialogs/change-db-user-privs-dialog.vue"],names:[],mappings:"AAuNA,6BACI,mBAAA,cAAe,CADnB,8BAGQ,SAAU,CAAA",file:"change-db-user-privs-dialog.vue?vue&type=style&index=0&id=7f5fbd9c&lang=scss&scoped=true&",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.privs-flex {\n    flex-wrap: wrap;\n    & > * {\n        width: 50%;\n    }\n}\n"],sourceRoot:""}])},2800:function(e,t){},3107:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("app-page",[e.$api.db.pmaLogin?n("ui-button",{attrs:{slot:"header:buttons",theme:"light",size:"big",title:e.$gettext("Login to phpMyAdmin")},on:{click:e.loginPMA},slot:"header:buttons"},[n("img",{attrs:{src:e.$store.getters["themes/iconsPath"]+"#phpmyadmin",height:"50"}})]):e._e(),e._v(" "),n("app-page-section",[n("translate",{attrs:{slot:"section:title"},slot:"section:title"},[e._v("\n            Users\n        ")]),e._v(" "),n("ui-r-table",e._b({on:{"update:checkedRows":function(t){e.checkedUserRows=t}},scopedSlots:e._u([{key:"col:priv",fn:function(t){var a=t.user;return n("ui-link",{on:{click:function(t){return e.changePrivilegesDialog(a)}}},[e.$_Client.isPhone?n("translate",[e._v("\n                    Modify\n                ")]):n("translate",[e._v("\n                    Modify Privileges\n                ")])],1)}},{key:"col:password",fn:function(t){var a=t.user;return n("ui-link",{on:{click:function(t){return e.changePasswordDialog(a)}}},[e.$_Client.isPhone?n("translate",[e._v("\n                    Change\n                ")]):n("translate",[e._v("\n                    Change Password\n                ")])],1)}}])},"ui-r-table",{columns:[{id:"user",label:e.$gettext("User")},{id:"password",label:e.$gettext("Password")},{id:"priv",label:e.$gettext("Privileges")}],rows:e.users,checkedRows:e.checkedUserRows,verticalLayout:e.$_Client.isPhone,editable:!1},!1),[n("ui-table-action",{attrs:{slot:"table:actions"},on:{click:function(t){e.$dialog("DELETE_USERS_DIALOG").open()}},slot:"table:actions"},[n("translate",[e._v("Delete")])],1),e._v(" "),e._v(" "),e._v(" "),n("template",{slot:"buttons:before"},[n("ui-button",{directives:[{name:"margin",rawName:"v-margin",value:[0,1],expression:"[0, 1]"}],attrs:{theme:"safe",size:"normal"},on:{click:function(t){e.$dialog("CREATE_DB_USER_DIALOG").open()}}},[n("translate",[e._v("Create New User")])],1),e._v(" "),e.notAssignedUsers.length?n("ui-button",{directives:[{name:"margin",rawName:"v-margin",value:[0,1],expression:"[0, 1]"}],attrs:{theme:"primary",size:"normal"},on:{click:function(t){e.$dialog("ASSIGN_DB_USER_DIALOG").open()}}},[n("translate",[e._v("Add Existing User")])],1):e._e()],1)],2)],1),e._v(" "),n("app-page-section",[n("translate",{attrs:{slot:"section:title"},slot:"section:title"},[e._v("\n            Access Hosts\n        ")]),e._v(" "),n("ui-r-table",e._b({attrs:{"hide-before-controls":""},on:{"update:checkedRows":function(t){e.checkedHostRows=t}}},"ui-r-table",{rows:e.hosts,columns:[{id:"host",label:e.$gettext("Access Host")}],checkedRows:e.checkedHostRows,notCheckable:e.hosts.filter((function(e){return"localhost"===e.host}))},!1),[n("ui-table-action",{attrs:{slot:"table:actions"},on:{click:function(t){e.$dialog("DELETE_HOSTS_DIALOG").open()}},slot:"table:actions"},[n("translate",[e._v("Delete")])],1),e._v(" "),n("ui-input-group",{attrs:{slot:"buttons:after"},slot:"buttons:after"},[n("input-text",{attrs:{slot:"input",placeholder:e.$gettext("Access Host")},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addNewAccessHost(t)}},slot:"input",model:{value:e.host,callback:function(t){e.host=t},expression:"host"}}),e._v(" "),n("ui-button",{attrs:{slot:"additions:right",theme:"safe"},on:{click:e.addNewAccessHost},slot:"additions:right"},[n("translate",{staticClass:"wrap:nowrap"},[e._v("\n                        Add New\n                    ")])],1)],1)],1)],1),e._v(" "),n("create-db-user-dialog",e._b({on:{userAdded:e.reload}},"create-db-user-dialog",{database:e.database},!1)),e._v(" "),n("existing-db-user-dialog",e._b({on:{userAssigned:e.reload}},"existing-db-user-dialog",{database:e.database,users:e.notAssignedUsers},!1)),e._v(" "),n("ui-dialog-delete-items",{attrs:{id:"DELETE_HOSTS_DIALOG",subject:e.$ngettext("Access host","Access hosts",e.checkedHosts.length)},on:{"click:confirm":e.deleteHosts}}),e._v(" "),n("ui-dialog-delete-items",{attrs:{id:"DELETE_USERS_DIALOG",subject:e.$ngettext("user","users",e.checkedUsers.length)},on:{"click:confirm":e.deleteUsers}}),e._v(" "),n("change-db-user-pass-dialog",{attrs:{database:e.database,user:e.currentUser}}),e._v(" "),n("change-db-user-privs-dialog",{attrs:{database:e.database,user:e.currentUser}})],1)},s=[];n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}))},3231:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-dialog",{attrs:{id:"CREATE_DB_USER_DIALOG"}},[n("translate",{attrs:{slot:"title","translate-params":{database:e.database}},slot:"title"},[e._v("\n        Create New User for %{database}\n    ")]),e._v(" "),n("template",{slot:"content"},[n("ui-form-element",{attrs:{group:"createUser",validators:{required:!0,api:e.$commands.validateDBUser},vertical:""}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Username:")]),e._v(" "),n("input-text",e._b({attrs:{slot:"content"},slot:"content",model:{value:e.user,callback:function(t){e.user=t},expression:"user"}},"input-text",{prefix:e.prefix},!1))],1),e._v(" "),n("ui-form-element",{attrs:{group:"createUser",validators:{required:!0,api:e.$commands.validatePassword},vertical:""}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Password:")]),e._v(" "),n("input-password",{attrs:{slot:"content",showGenerator:""},slot:"content",model:{value:e.passwd,callback:function(t){e.passwd=t},expression:"passwd"}})],1)],1),e._v(" "),n("ui-button",{attrs:{slot:"buttons",theme:"primary",validateGroup:"createUser"},on:{click:e.submit},slot:"buttons"},[n("translate",[e._v("Create")])],1)],2)},s=[];n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}))},3232:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-dialog",{attrs:{id:"ASSIGN_DB_USER_DIALOG",size:"small"}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Assign Existing User to %{database}")]),e._v(" "),n("ui-form-element",{attrs:{slot:"content",vertical:""},slot:"content"},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Username:")]),e._v(" "),n("ui-input-group",{attrs:{slot:"content"},slot:"content"},[n("ui-button",{attrs:{slot:"additions:left",disabled:""},slot:"additions:left"},[e._v("\n                "+e._s(e.$state.app.user.name)+"_\n            ")]),e._v(" "),n("input-select",{attrs:{slot:"input",options:e.users},slot:"input",model:{value:e.user,callback:function(t){e.user=t},expression:"user"}})],1)],1),e._v(" "),n("ui-button",{attrs:{slot:"buttons",theme:"primary"},on:{click:e.submit},slot:"buttons"},[n("translate",[e._v("Assign")])],1)],1)},s=[];n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}))},3233:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-dialog",e._g({attrs:{id:"CHANGE_DB_USER_PASS_DIALOG"}},e.$listeners),[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Change password")]),e._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("ui-form-element",{attrs:{vertical:""}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Username:")]),e._v(" "),n("input-text",{attrs:{slot:"content",value:e.user,disabled:""},slot:"content"})],1),e._v(" "),n("ui-form-element",{attrs:{group:"changePassword",validators:{required:!0,api:e.$commands.validatePassword},vertical:""}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Password:")]),e._v(" "),n("input-password",{attrs:{slot:"content",showGenerator:""},slot:"content",model:{value:e.passwd,callback:function(t){e.passwd=t},expression:"passwd"}})],1)],1),e._v(" "),n("ui-button",{attrs:{slot:"buttons",theme:"primary",validateGroup:"changePassword"},on:{click:e.submit},slot:"buttons"},[n("translate",[e._v("Change")])],1)],1)},s=[];n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}))},3234:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-dialog",{attrs:{id:"CHANGE_DB_USER_PRIVS_DIALOG",size:"normal"},on:{"dialog:open":e.loadUserPrivs}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n        Change privileges\n    ")]),e._v(" "),n("template",{slot:"content"},[n("ui-form-element",{attrs:{vertical:e.$_Client.isPhone}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Username\n            ")]),e._v(" "),n("input-text",{attrs:{slot:"content",disabled:"",value:e.user},slot:"content"})],1),e._v(" "),n("ui-form-element",{attrs:{vertical:e.$_Client.isPhone}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Privileges:\n            ")]),e._v(" "),n("div",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center"},expression:"{ cross: 'center' }"},{name:"gutter",rawName:"v-gutter:padding",value:1,expression:"1",arg:"padding"}],staticClass:"privs-flex",attrs:{slot:"content"},slot:"content"},[n("input-check",{model:{value:e.privileges.select,callback:function(t){e.$set(e.privileges,"select",t)},expression:"privileges.select"}},[n("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Select\n                    ")])],1),e._v(" "),n("input-check",{model:{value:e.privileges.insert,callback:function(t){e.$set(e.privileges,"insert",t)},expression:"privileges.insert"}},[n("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Insert\n                    ")])],1),e._v(" "),n("input-check",{model:{value:e.privileges.update,callback:function(t){e.$set(e.privileges,"update",t)},expression:"privileges.update"}},[n("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Update\n                    ")])],1),e._v(" "),n("input-check",{model:{value:e.privileges.delete,callback:function(t){e.$set(e.privileges,"delete",t)},expression:"privileges.delete"}},[n("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Delete\n                    ")])],1),e._v(" "),n("input-check",{model:{value:e.privileges.create,callback:function(t){e.$set(e.privileges,"create",t)},expression:"privileges.create"}},[n("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Create\n                    ")])],1),e._v(" "),n("input-check",{model:{value:e.privileges.drop,callback:function(t){e.$set(e.privileges,"drop",t)},expression:"privileges.drop"}},[n("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Drop\n                    ")])],1),e._v(" "),n("input-check",{model:{value:e.privileges.alter,callback:function(t){e.$set(e.privileges,"alter",t)},expression:"privileges.alter"}},[n("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Alter\n                    ")])],1),e._v(" "),n("input-check",{model:{value:e.privileges.index,callback:function(t){e.$set(e.privileges,"index",t)},expression:"privileges.index"}},[n("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Index\n                    ")])],1),e._v(" "),n("input-check",{model:{value:e.privileges.grant,callback:function(t){e.$set(e.privileges,"grant",t)},expression:"privileges.grant"}},[n("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Grant\n                    ")])],1),e._v(" "),n("input-check",{model:{value:e.privileges.reference,callback:function(t){e.$set(e.privileges,"reference",t)},expression:"privileges.reference"}},[n("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Reference\n                    ")])],1),e._v(" "),n("input-check",{model:{value:e.privileges.tmp_table,callback:function(t){e.$set(e.privileges,"tmp_table",t)},expression:"privileges.tmp_table"}},[n("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Create tmp tables\n                    ")])],1),e._v(" "),n("input-check",{model:{value:e.privileges.lock_table,callback:function(t){e.$set(e.privileges,"lock_table",t)},expression:"privileges.lock_table"}},[n("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Lock Tables\n                    ")])],1),e._v(" "),n("input-check",{model:{value:e.privileges.show_view_priv,callback:function(t){e.$set(e.privileges,"show_view_priv",t)},expression:"privileges.show_view_priv"}},[n("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Show View\n                    ")])],1),e._v(" "),n("input-check",{model:{value:e.privileges.create_routine_priv,callback:function(t){e.$set(e.privileges,"create_routine_priv",t)},expression:"privileges.create_routine_priv"}},[n("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Create Routine\n                    ")])],1),e._v(" "),n("input-check",{model:{value:e.privileges.alter_routine_priv,callback:function(t){e.$set(e.privileges,"alter_routine_priv",t)},expression:"privileges.alter_routine_priv"}},[n("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Alter Routine\n                    ")])],1),e._v(" "),n("input-check",{model:{value:e.privileges.execute_priv,callback:function(t){e.$set(e.privileges,"execute_priv",t)},expression:"privileges.execute_priv"}},[n("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Execute\n                    ")])],1),e._v(" "),n("input-check",{model:{value:e.privileges.create_view_priv,callback:function(t){e.$set(e.privileges,"create_view_priv",t)},expression:"privileges.create_view_priv"}},[n("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Create View\n                    ")])],1),e._v(" "),n("input-check",{model:{value:e.privileges.event_priv,callback:function(t){e.$set(e.privileges,"event_priv",t)},expression:"privileges.event_priv"}},[n("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Event\n                    ")])],1),e._v(" "),n("input-check",{model:{value:e.privileges.trigger_priv,callback:function(t){e.$set(e.privileges,"trigger_priv",t)},expression:"privileges.trigger_priv"}},[n("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Trigger\n                    ")])],1)],1)],1)],1),e._v(" "),n("ui-button",{attrs:{slot:"buttons",theme:"primary"},on:{click:e.submit},slot:"buttons"},[n("translate",[e._v("Change")])],1)],2)},s=[];n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}))}}]);