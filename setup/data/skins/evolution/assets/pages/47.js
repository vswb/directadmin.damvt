(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{1306:function(t,e,n){"use strict";n.r(e);var a=n(3045),o=n(1640);for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);var s=n(0),i=n(2557),l=n.n(i),u=Object(s.a)(o.default,a.a,a.b,!1,null,null,null);"function"==typeof l.a&&l()(u),e.default=u.exports},1544:function(t,e,n){"use strict";var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.resetZone=e.deleteZones=e.addZone=e.getZones=void 0;var o=a(n(2)),r=a(n(30));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}var i=r.default.get({id:"DNS_ZONES",url:"/CMD_DNS_ADMIN",domain:!1,schema:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,o.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},r.default.PAGINATION,{filters:{type:Object,required:!1},domain:null}),before:function(t){var e=t.filters;if(e){var n={};e.domain&&(n.comparison1=e.searchType,n.value1=e.domain),e.local_data&&(n.comparison2="contains",n.value2=e.local_data),e.local_mail&&(n.comparison3="contains",n.value3=e.local_mail)}return{}},after:function(t){return function(e){return{info:{dns_ns:e.info.dns_ns,dns_ptr:e.info.dns_ptr},zones:t.toTable(t.mapArrayProps({local_data:t.convert.toAppBoolean,local_mail:t.convert.toAppBoolean}))(e)}}}});e.getZones=i;var l=r.default.post({url:"/CMD_DNS_ADMIN",params:{action:"create"},domain:!0,schema:{ip:r.default.REQUIRED_STRING,ns1:r.default.REQUIRED_STRING,ns2:r.default.REQUIRED_STRING,reverse:r.default.OPTIONAL_BOOL}});e.addZone=l;var u=r.default.select({url:"/CMD_DNS_ADMIN",params:{action:"delete"}});e.deleteZones=u;var d=r.default.post({url:"/CMD_DNS_ADMIN",params:{action:"select",reset:!0},domain:!0});e.resetZone=d},1640:function(t,e,n){"use strict";n.r(e);var a=n(1641),o=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e.default=o.a},1641:function(t,e,n){"use strict";var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(1501),r=a(n(1642)),s=a(n(2555)),i=a(n(2556)),l={preload:function(t){var e=t.dom;return(0,o.getAdminRecords)({domain:e})},api:[{command:o.getAdminRecords,bind:"dns"}],components:{DnsRecordsTable:r.default,ResetZoneDefaultsDialog:s.default,OverrideTtlDialog:i.default},props:{dom:{type:String,required:!0}},computed:{allowTTLEdit:function(){return this.$api.dns.options.dns_ttl&&"default"===this.$api.dns.ttl.select}},methods:{loadRows:function(){(0,o.getAdminRecords)({domain:this.dom})}}};e.default=l},1659:function(t,e,n){"use strict";n.r(e);var a=n(1660),o=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e.default=o.a},1660:function(t,e,n){"use strict";var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,r=a(n(15)),s=a(n(16)),i=n(1544),l=n(1501),u={props:{domain:{type:String,required:!0}},methods:{resetDefaults:(o=(0,s.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.resetZone)({domain:this.domain});case 2:(0,l.getAdminRecords)({domain:this.domain});case 3:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})}};e.default=u},1661:function(t,e,n){"use strict";n.r(e);var a=n(1662),o=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e.default=o.a},1662:function(t,e,n){"use strict";var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,r=a(n(15)),s=a(n(16)),i=n(1501),l={data:function(){return{select:"default",value:"14400"}},api:[{command:i.getAdminRecords,bind:"dns"}],props:{domain:{type:String,required:!0}},computed:{ttl:function(){return this.$api.dns.ttl}},methods:{initData:function(){Object.assign(this,this.ttl)},updateTTLOptions:(o=(0,s.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.updateAdminTTL)({domain:this.domain,ttl_select:this.select,ttl:this.value,user:this.ttl.user});case 2:(0,i.getAdminRecords)({domain:this.domain});case 3:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})}};e.default=l},2555:function(t,e,n){"use strict";n.r(e);var a=n(3186),o=n(1659);for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);var s=n(0),i=Object(s.a)(o.default,a.a,a.b,!1,null,null,null);e.default=i.exports},2556:function(t,e,n){"use strict";n.r(e);var a=n(3187),o=n(1661);for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);var s=n(0),i=Object(s.a)(o.default,a.a,a.b,!1,null,null,null);e.default=i.exports},2557:function(t,e){},3045:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-page",[n("translate",{attrs:{slot:"page:title","translate-params":{domain:t.$p6e.toU(t.dom)}},slot:"page:title"},[t._v("\n        Edit DNS Records for %{ domain }\n    ")]),t._v(" "),n("ui-button",{attrs:{slot:"header:buttons",theme:"danger"},on:{click:function(e){t.$dialog("RESET_ZONE_DEFAULTS_DIALOG").open()}},slot:"header:buttons"},[n("translate",[t._v("Reset Defaults")])],1),t._v(" "),t.$api.dns.options.allow_ttl_override?n("ui-button",{attrs:{slot:"header:buttons",theme:"primary"},on:{click:function(e){t.$dialog("OVERRIDE_TTL_DIALOG").open()}},slot:"header:buttons"},[n("translate",[t._v("Override TTL")])],1):t._e(),t._v(" "),n("app-page-section",[n("dns-records-table",t._b({attrs:{domain:t.dom,records:t.$api.dns.records,"disable-t-t-l-input":!t.allowTTLEdit,dns_ns:"0"!==t.$api.dns.options.dns_ns,dns_ptr:"0"!==t.$api.dns.options.dns_ptr,"enable-t-t-l":t.$api.dns.options.dns_ttl},on:{"rows:update":t.loadRows}},"dns-records-table",t.$api.dns.options,!1))],1),t._v(" "),t.$api.dns.options.dnssec?n("ui-link",{attrs:{slot:"bottom:links",path:"/admin/dns/"+t.dom+"/security",bullet:""},slot:"bottom:links"},[n("translate",[t._v("DNSSEC")])],1):t._e(),t._v(" "),n("reset-zone-defaults-dialog",{attrs:{domain:t.dom}}),t._v(" "),n("override-ttl-dialog",{attrs:{domain:t.dom}})],1)},o=[];n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o}))},3186:function(t,e,n){"use strict";var a=function(){var t=this.$createElement,e=this._self._c||t;return e("ui-dialog",{attrs:{id:"RESET_ZONE_DEFAULTS_DIALOG",theme:"danger"}},[e("translate",{attrs:{slot:"title"},slot:"title"},[this._v("Reset Defaults")]),this._v(" "),e("translate",{attrs:{slot:"content"},slot:"content"},[this._v("Resetting the defaults will wipe any custom entries you have made.")]),this._v(" "),e("ui-button",{attrs:{slot:"buttons",theme:"danger"},on:{click:this.resetDefaults},slot:"buttons"},[e("translate",[this._v("Confirm")])],1)],1)},o=[];n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o}))},3187:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ui-dialog",{attrs:{id:"OVERRIDE_TTL_DIALOG",theme:"primary"},on:{"dialog:open":t.initData}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Override TTL")]),t._v(" "),n("ui-form-element",{attrs:{slot:"content",vertical:""},slot:"content"},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("TTL Value")]),t._v(" "),n("input-select",{attrs:{slot:"content",options:{default:t.$gettext("Default"),custom:t.$gettext("Custom")}},slot:"content",model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},[n("input-text",{attrs:{slot:"additions:right",number:"",disabled:"default"===t.select,value:"default"===t.select?t.ttl.default:t.value},on:{input:function(e){t.value=e}},slot:"additions:right"})],1)],1),t._v(" "),n("ui-button",{attrs:{slot:"buttons",theme:"primary"},on:{click:t.updateTTLOptions},slot:"buttons"},[n("translate",[t._v("Save")])],1)],1)},o=[];n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o}))}}]);