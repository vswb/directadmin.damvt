(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{1299:function(t,n,e){"use strict";e.r(n);var o=e(3038),a=e(1615);for(var r in a)"default"!==r&&function(t){e.d(n,t,(function(){return a[t]}))}(r);e(2501);var i=e(0),u=e(2503),s=e.n(u),f=Object(i.a)(a.default,o.a,o.b,!1,null,"2902e426",null);"function"==typeof s.a&&s()(f),n.default=f.exports},1484:function(t,n,e){"use strict";var o=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.getDiff=n.savePhpFpmTokens=n.getPhpFpmTokens=n.getPhpFpmConfiguration=n.saveDomainCustomization=n.getDomainCustomization=n.getDomainConfig=n.rewriteConfs=n.getDomains=void 0;var a=o(e(2)),r=o(e(17)),i=o(e(30)),u=e(14);function s(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,o)}return e}var f=u.fp.flow(u.fp.convert.toAppString,u.fp.convert.toLines),p=u.fp.flow((function(t){return t||""}),u.fp.convert.toAppString,u.fp.convert.toAppText),l="/CMD_CUSTOM_HTTPD",c=i.default.get({id:"CUSTOM_HTTPD_DOMAINS",url:l,pagination:!0,after:function(){return u.fp.flow(u.fp.mapProp("domains",u.fp.toTable()),u.fp.mapProp("file",u.fp.feedWith(1,(function(t){return["nginx","nginx_proxy","openlitespeed","httpd"].find((function(n){return"1"===t["have_".concat(n)]}))||"httpd"}))))}});n.getDomains=c;var m=i.default.post({url:l,params:{action:"all",rewrite_confs:!0}});n.rewriteConfs=m;var d=i.default.get({url:l,id:"CH_DOMAIN_CONFIG",schema:{domain:i.default.REQUIRED_STRING,proxy:i.default.OPTIONAL_BOOL},after:function(){return u.fp.flow((function(t){return{tokens:t.AVAILABLE_TOKENS,error:t.CONFIG_ERROR,test:t.CONFIG_TEST,data:t.HTTPD,templates:t}}),u.fp.mapProps({error:u.fp.isEqual("1"),nginx:u.fp.isEqual("1"),data:f,test:p,templates:u.fp.flow(u.fp.filter((function(t,n){return n.includes("VH")})),u.fp.filter(u.fp.getProp("data")),u.fp.toArray,u.fp.mapArrayProps({data:f,custom:u.fp.isEqual("1")})),tokens:u.fp.flow(u.fp.mapValues((function(t,n){return{token:n,value:t}})),u.fp.toArray)}))}});n.getDomainConfig=d;var _=i.default.get({url:l,id:"CH_DOMAIN_CUSTOMIZATION_VALUES",schema:{domain:i.default.REQUIRED_STRING,proxy:i.default.OPTIONAL_BOOL},after:function(){return u.fp.flow(u.fp.project({config:"CONFIG",custom1:"CUSTOM1",custom2:"CUSTOM2",custom3:"CUSTOM3",custom4:"CUSTOM4",custom5:"CUSTOM5",custom6:"CUSTOM6",custom7:"CUSTOM7",custom8:"CUSTOM8",tokens:"AVAILABLE_TOKENS",appendix:"VH1.custom_global_pre_post",tokensCount:"NUM_CUSTOM_TOKENS"}),u.fp.mapProps({config:p,custom1:p,custom2:p,custom3:p,custom4:p,custom5:p,custom6:p,custom7:p,custom8:p,nginx:u.fp.convert.toAppBoolean,tokensCount:u.fp.convert.toAppNumber,tokens:u.fp.flow(u.fp.mapValues((function(t,n){return{token:n,value:t}})),u.fp.toArray),appendix:u.fp.flow(u.fp.setDefault({}),u.fp.filter((function(t,n){return n.includes("CUSTOM")})),u.fp.mapValues(p),u.fp.transformObject((function(t,n){var e=n.match(/^.*(CUSTOM.*)$/),o=(0,r.default)(e,2)[1];return(0,a.default)({},o,{data:t,name:n})})))}))}});n.getDomainCustomization=_;var O=i.default.post({url:l,schema:{proxy:i.default.OPTIONAL_STRING,domain:i.default.REQUIRED_STRING,config:i.default.OPTIONAL_STRING,custom1:i.default.OPTIONAL_STRING,custom2:i.default.OPTIONAL_STRING,custom3:i.default.OPTIONAL_STRING,custom4:i.default.OPTIONAL_STRING,custom5:i.default.OPTIONAL_STRING,custom6:i.default.OPTIONAL_STRING,custom7:i.default.OPTIONAL_STRING,custom8:i.default.OPTIONAL_STRING}});n.saveDomainCustomization=O;var T=i.default.get({url:l,id:"CH_PHP_FPM_CONFIGURATION",schema:{user:i.default.REQUIRED_STRING,"php-fpm":i.default.REQUIRED_STRING},after:function(){return u.fp.flow(u.fp.project({error:"CONFIG_ERROR",test:"CONFIG_TEST",custom1:"CUSTOM1",custom2:"CUSTOM2",global_custom1:"GLOBAL_CUSTOM1",global_custom2:"GLOBAL_CUSTOM2","config.data":"FPM_CONFIG","config.file":"FPM_CONFIG_FILE","config.version":"FPM_VER","template.custom":"PHP_FPM_IS_CUSTOM_TEMPLATE","template.data":"PHP_FPM_TEMPLATE","template.name":"PHP_FPM_TEMPLATE_NAME","template.short":"PHP_FPM_TEMPLATE_NAME_SHORT"}),u.fp.mapProps({error:u.fp.isEqual("1"),test:p,custom1:p,custom2:p,config:u.fp.mapProp("data",f),template:u.fp.mapProps({custom:u.fp.isEqual("1"),data:f})}))}});n.getPhpFpmConfiguration=T;var v=i.default.get({id:"CH_PHP_FPM_TOKENS",url:l,schema:{user:i.default.REQUIRED_STRING,"php-fpm":i.default.REQUIRED_STRING},after:function(){return u.fp.flow(u.fp.getProp("AVAILABLE_TOKENS"),u.fp.mapValues((function(t,n){return{token:n,value:t}})),u.fp.toArray)}});n.getPhpFpmTokens=v;var g=i.default.post({url:l,schema:{user:i.default.REQUIRED_STRING,"php-fpm":i.default.REQUIRED_STRING,custom1:i.default.OPTIONAL_STRING,custom2:i.default.OPTIONAL_STRING,all_php_versions:i.default.OPTIONAL_BOOL}});n.savePhpFpmTokens=g;var P=i.default.get({id:"CH_DIFF",url:"/CMD_TEMPLATE_DIFF",schema:{name:i.default.REQUIRED_STRING},after:function(){return u.fp.flow(u.fp.deleteProp("lines"),u.fp.mapValues((function(t,n){return function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?s(Object(e),!0).forEach((function(n){(0,a.default)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({},t,{number:n})})),u.fp.toArray,u.fp.mapArray(u.fp.moveProp("line","content")),u.fp.mapArrayProps({number:u.fp.convert.toAppNumber,content:function(t){return t?t.replace(/\t/g,"    "):""}}),u.fp.sortBy("number"))}});n.getDiff=P},1615:function(t,n,e){"use strict";e.r(n);var o=e(1616),a=e.n(o);for(var r in o)"default"!==r&&function(t){e.d(n,t,(function(){return o[t]}))}(r);n.default=a.a},1616:function(t,n,e){"use strict";var o=e(10);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e(1484),r=o(e(6)),i={preload:a.getDomains,api:[{command:a.getDomains,bind:"domains"}],commands:{getDomains:a.getDomains},data:function(){return{filter:{column:"domain",type:"startswith",value:""}}},computed:{file:function(){return this.$api.domains.file}},methods:{buildRewriteConfs:function(){(0,a.rewriteConfs)()},getPhpFpmFiles:function(t){return r.pickBy((function(t,n){return n.startsWith("php-fpm")}),t)}}};n.default=i},1617:function(t,n,e){var o=e(2502);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,e(5).default)("7b065879",o,!0,{})},2501:function(t,n,e){"use strict";var o=e(1617);e.n(o).a},2502:function(t,n,e){(t.exports=e(4)(!0)).push([t.i,".search-type-select[data-v-2902e426]{min-width:12rem}","",{version:3,sources:["/home/evo/evolution/src/js/pages/admin/custom-httpd/index.vue"],names:[],mappings:"AAuKA,qCACI,eAAgB,CAAA",file:"index.vue?vue&type=style&index=0&id=2902e426&lang=scss&scoped=true&",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.search-type-select {\n    min-width: 12rem;\n}\n"],sourceRoot:""}])},2503:function(t,n){},3038:function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("app-page",[e("app-page-section",[e("ui-form-element",{attrs:{underline:!1}},[e("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Show Domains that\n            ")]),t._v(" "),e("ui-input-group",{attrs:{slot:"content"},slot:"content"},[e("input-select",{staticClass:"search-type-select",attrs:{slot:"additions:left",options:{startswith:t.$gettext("Starts With"),contains:t.$gettext("Contains"),equals:t.$gettext("Equals")}},slot:"additions:left",model:{value:t.filter.type,callback:function(n){t.$set(t.filter,"type",n)},expression:"filter.type"}}),t._v(" "),e("input-text",{attrs:{slot:"input"},slot:"input",model:{value:t.filter.value,callback:function(n){t.$set(t.filter,"value",n)},expression:"filter.value"}}),t._v(" "),e("ui-button",{attrs:{slot:"additions:right",theme:"light",size:"normal",icon:"close",title:t.$gettext("Clear Search")},on:{click:function(n){t.filter.value=""}},slot:"additions:right"})],1)],1)],1),t._v(" "),e("app-page-section",[e("ui-api-table",t._b({attrs:{"disable-select":""},scopedSlots:t._u([{key:"col:info",fn:function(n){var e=n.info;return[t._v("\n                "+t._s(e.user)+"\n            ")]}},{key:"col:configuration",fn:function(n){var o=n.domain,a=n.info;return[e("div",{directives:[{name:"gutter",rawName:"v-gutter",value:[0,1],expression:"[0, 1]"}]},["nginx_proxy"===t.file?[e("ui-link",{attrs:{name:"admin/custom-httpd/view",params:{dom:o,file:"httpd"}}},[t._v("\n                            httpd.conf\n                        ")]),t._v(" "),e("ui-link",{attrs:{name:"admin/custom-httpd/view",params:{dom:o,file:"nginx_proxy"}}},[t._v("\n                            nginx.conf proxy\n                        ")])]:e("ui-link",{attrs:{name:"admin/custom-httpd/view",params:{dom:o,file:t.file}}},[t._v("\n                        "+t._s(t.file)+".conf\n                    ")]),t._v(" "),t._l(t.getPhpFpmFiles(a),(function(n){return e("ui-link",{key:n,attrs:{name:"admin/custom-httpd/php-fpm",params:{user:a.user,version:n}}},[t._v("\n                        php-fpm.conf ("+t._s(n)+")\n                    ")])}))],2)]}}])},"ui-api-table",{command:t.$commands.getDomains,property:"domains",columns:{domain:{label:t.$gettext("Domain"),filter:"p6eUnicode",grow:!0,editable:!1},info:t.$gettext("User"),configuration:{label:t.$gettext("Conf. Files")}},filters:[t.filter],updateOn:["CH_REWRITE_CONFS"],verticalLayout:t.$_Client.isPhone},!1))],1),t._v(" "),e("ui-button",{attrs:{slot:"footer:buttons",size:"big",theme:"safe"},on:{click:t.buildRewriteConfs},slot:"footer:buttons"},[e("translate",[t._v("./build rewrite_confs")])],1)],1)},a=[];e.d(n,"a",(function(){return o})),e.d(n,"b",(function(){return a}))}}]);