(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1442:function(t,e,n){"use strict";var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.validateIPRangeList=e.validateDomain=e.validatePassword=e.validateSubdomain=e.validateUsername=e.validateDBUser=e.validateDatabase=e.validateDNSName=e.validateMXValue=e.validateDNSValue=e.validateFTP=e.validateEmail=e.validateForwarder=void 0;var r=a(n(30)),i=a(n(36)),o=a(n(1443)),s=r.default.get({url:"/CMD_JSON_VALIDATE",schema:{value:r.default.REQUIRED_STRING},response:{valid:!0,message:""},mapResponse:{valid:o.default.isValid,message:o.default.getMessage}}),l=s.extend({id:"VALIDATE_FORWARDER",params:{type:"forwarder",ignore_system_default:!0}});e.validateForwarder=l;var u=s.extend({id:"VALIDATE_EMAIL",params:{type:"email",check_mailing_list:!0},schema:{check_exists:{type:Boolean,required:!1,default:!0}}});e.validateEmail=u;var d=s.extend({id:"VALIDATE_FTP",params:{type:"ftp"},domain:!0});e.validateFTP=d;var c=s.extend({params:{type:"dns"},domain:!0,schema:{record:r.default.REQUIRED_STRING}}),p=c.extend({id:"VALIDATE_DNS_VALUE",params:{check:"value",name:!0},domain:!0,schema:{value:r.default.REQUIRED_STRING}});e.validateDNSValue=p;var f=p.extend({id:"VALIDATE_MX_VALUE",params:{record:"MX"},before:function(t){return{value:"10",mx_value:t.value}}});e.validateMXValue=f;var m=c.extend({id:"VALIDATE_DNS_NAME",params:{check:"name",value:!0,mx_value:!0},schema:{name:r.default.REQUIRED_STRING,value:null}});e.validateDNSName=m;var v=s.extend({id:"VALIDATE_DATABASE",params:{type:"dbname"}});e.validateDatabase=v;var h=s.extend({id:"VALIDATE_DATABASE_USER",params:{type:"dbusername"}});e.validateDBUser=h;var _=s.extend({id:"VALIDATE_USERNAME",params:{type:"username"}});e.validateUsername=_;var b=s.extend({id:"VALIDATE_SUBDOMAIN",domain:!0,params:{type:"subdomain"}});e.validateSubdomain=b;var x=s.extend({id:"VALIDATE_PASSWORD",params:{type:"password"}});e.validatePassword=x;var g=s.extend({id:"VALIDATE_DOMAIN",params:{type:"domain"},before:function(t){var e=t.value;return{value:i.default.toASCII(e)}}});e.validateDomain=g;var y=s.extend({id:"VALIDATE_IP_RANGE_LIST",params:{type:"ip_range_list"}});e.validateIPRangeList=y},1443:function(t,e,n){"use strict";n.r(e);var a=n(35);e.default={isValid:function(t){return void 0===t.error},getMessage:function(t){return Object(a.toAppHtml)(t.error||"")}}},1501:function(t,e,n){"use strict";var a=n(10),r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.setMxTemplate=e.setLocalMailStatus=e.editRecord=e.addRecord=e.deleteRecords=e.getMXRecords=e.updateAdminTTL=e.updateTTL=e.getAdminRecords=e.getRecords=void 0;var i=r(n(17)),o=r(n(20)),s=r(n(2)),l=r(n(30)),u=n(11),d=n(13),c=a(n(2543));function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){(0,s.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m=function(t){return t.map((function(t){return f({},t,{id:t.combined})}))},v=l.default.get({id:"DNS_RECORDS",url:"/CMD_DNS_CONTROL",response:[],domain:!0,params:{full_mx_records:!0,ttl:!0},schema:{ptr:l.default.OPTIONAL_STRING},after:function(t){return t.flow(t.wrap("options"),t.moveProp({"options.records":"records","options.allow_ttl_override":"ttl.allow","options.ttl_is_overridden":"ttl.overridden","options.ttl":"ttl.value","options.default_ttl":"ttl.default","options.dnssec":"dnssec","options.DNS_AFFECT_POINTERS_DEFAULT":"affectPointersDefault","options.dns_ns":"dns_ns","options.dns_ptr":"dns_ptr"}),t.mapProps({records:m,options:t.mapValues(t.isEqual("1")),dns_ds:t.feedWith(1,(function(t){return"1"===t.dnssec})),dnssec:function(t){return"1"===t||"2"===t},ttl:t.mapProps({allow:t.isEqual("1"),overridden:t.isEqual("1")}),affectPointersDefault:t.isEqual("yes")}),t.moveProp({dnssec:"options.dnssec",dns_ds:"options.dns_ds",dns_ptr:"options.dns_ptr",dns_ns:"options.dns_ns"}))}});e.getRecords=v;var h=v.extend({url:"/CMD_DNS_ADMIN",params:{ttl:null},after:function(t){return t.flow(t.wrap("options"),t.moveProp({"options.records":"records","options.dnssec":"dnssec","options.ttl_value":"ttl.value","options.ttl_selected":"ttl.select","options.zone_user":"ttl.user","options.default_ttl":"ttl.default"}),t.mapProps({records:m,options:t.mapValues(t.isEqual("1")),dns_ds:t.feedWith(1,(function(t){return"1"===t.dnssec})),dnssec:function(t){return"1"===t||"2"===t},ttl:t.mapProps({select:t.setDefault("default"),default:t.setDefault("14400"),value:t.setDefault("14400")})}),t.moveProp({dnssec:"options.dnssec",dns_ds:"options.dns_ds",dns_ns:"options.dns_ns",dns_ptr:"options.dns_ptr"}))}});e.getAdminRecords=h;var _=l.default.post({url:"/CMD_DNS_CONTROL",params:{action:"ttl"},schema:{domain:l.default.DOMAIN,ttl_select:l.default.REQUIRED_STRING,ttl:l.default.REQUIRED_STRING}});e.updateTTL=_;var b=_.extend({url:"/CMD_DNS_ADMIN",schema:{user:l.default.OPTIONAL_STRING}});e.updateAdminTTL=b;var x=l.default.get({id:"MX_RECORDS",url:"/CMD_DNS_MX",schema:{domain:l.default.DOMAIN},mapResponse:c.getMxRecords});e.getMXRecords=x;var g=function(){return((0,u.State)("app.route.path")||"").includes("mx-records")?"/CMD_DNS_MX":((0,u.State)("app.route.path")||"").includes("".concat(d.USER_LEVEL.ADMIN,"/"))?"/CMD_DNS_ADMIN":"/CMD_DNS_CONTROL"},y=l.default.post({url:g,params:{action:"select",delete:!0},schema:{domain:l.default.DOMAIN,records:l.default.DNS_RECORDS,ptr:l.default.OPTIONAL_STRING},before:function(t){return t.records.reduce((function(t,e){return f({},t,(0,s.default)({},"".concat(e.type.toLowerCase(),"recs"),[].concat((0,o.default)(t["".concat(e.type.toLowerCase(),"recs")]||[]),[e.id])))}),{records:null})}});e.deleteRecords=y;var R=l.default.post({url:g,params:{action:"add"},schema:{domain:l.default.DOMAIN,type:l.default.REQUIRED_STRING,name:l.default.REQUIRED_STRING,value:l.default.REQUIRED_STRING,mx_value:l.default.OPTIONAL_STRING,ttl:l.default.OPTIONAL_STRING,ptr_val:l.default.OPTIONAL_STRING,affect_pointers:l.default.OPTIONAL_BOOL},before:function(t){var e=t.type,n=t.value,a=t.name;return"NS"===e?{name:n,value:a,mx_value:null}:"MX"!==e?{mx_value:null}:{}}});e.addRecord=R;var D=l.default.post({url:g,params:{action:"edit"},schema:{domain:l.default.DOMAIN,type:l.default.REQUIRED_STRING,name:l.default.REQUIRED_STRING,value:l.default.REQUIRED_STRING,mx_value:l.default.OPTIONAL_STRING,ttl:l.default.OPTIONAL_STRING,ptr:l.default.OPTIONAL_STRING,affect_pointers:l.default.OPTIONAL_BOOL},before:function(t){var e=t.type,n=t.name,a=t.value,r=t.id,o={id:null,combined:null,mx_value:null};if("MX"===e){var s=a.split(" "),l=(0,i.default)(s,2);o.value=l[0],o.mx_value=l[1]}return"NS"===e&&(o.name=a,o.value=n),o["".concat(e.toLowerCase(),"recs0")]=r,o},notifySuccess:!1,notifyError:!0});e.editRecord=D;var T=l.default.post({url:"/CMD_DNS_MX",domain:!0,params:{action:"internal"},schema:{internal:l.default.REQUIRED_BOOL}});e.setLocalMailStatus=T;var A=l.default.post({url:"/CMD_DNS_MX",domain:!0,params:{action:"mx_template"},schema:{mx_template:l.default.REQUIRED_STRING,affect_pointers:l.default.OPTIONAL_BOOL}});e.setMxTemplate=A},1642:function(t,e,n){"use strict";n.r(e);var a=n(3185),r=n(1643);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);n(2553);var o=n(0),s=Object(o.a)(r.default,a.a,a.b,!1,null,null,null);e.default=s.exports},1643:function(t,e,n){"use strict";n.r(e);var a=n(1644),r=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e.default=r.a},1644:function(t,e,n){"use strict";var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(2)),i=a(n(15)),o=a(n(16)),s=n(1501),l=a(n(2544)),u=a(n(2549)),d=a(n(2550));function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){(0,r.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f,m,v,h,_={components:{DnsAddRecordDialog:l.default,DnsEditRecordDialog:u.default,InlineInput:d.default},props:{only:{type:String,required:!1,default:""},domain:{type:String,required:!0},records:{type:Array,requried:!0,default:function(){return[]}},pointer:{type:[String,Object],required:!1,default:null},disableTTLInput:{type:Boolean,default:!1,required:!1},enableTTL:{type:Boolean,default:!1,required:!1},hasAffectPointers:{type:Boolean,default:!1},affectPointersDefault:{type:Boolean},disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{checkedRecords:[],editableRecord:{},ap:this.affectPointersDefault}},computed:{showTTLColumn:function(){return this.enableTTL},affectPointers:function(){return{show:this.hasAffectPointers,default:this.affectPointersDefault}},notCheckableRows:function(){var t=this;return"MX"===this.only?this.records.filter((function(e){return e.type!==t.only})):[]}},watch:{domain:function(t){t&&this.loadRecords()}},methods:{strToChunks:function(t,e){for(var n=t,a=[];n;)a.push(n.slice(0,e)),n=n.slice(e);return a.join("&#x200b;")},getValueString:function(t){var e=t.value,n=t.type,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return["NS","CNAME"].includes(n)&&(e=this.$p6e.toU(e)),"MX"===n&&(e=e.split(" ").map(this.$p6e.toU).join(" ")),e.length>50&&a?this.strToChunks(e,10):e},getCopyString:function(t,e){e.clipboardData.setData("text/plain",this.getValueString(t,!1)),e.preventDefault()},loadRecords:(h=(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.$emit("rows:update"),this.checkedRecords=[];case 2:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)}),updateRecord:(v=(0,o.default)(i.default.mark((function t(e){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.editRecord)(p({},Object.assign({},e),{ptr:this.pointer,domain:this.domain}));case 2:n=t.sent,this.$notify({theme:n.success?"safe":"danger",title:n.success?this.$gettext("Domain record was updated successfully"):this.$gettext("Request failed")}),n.success&&this.loadRecords();case 5:case"end":return t.stop()}}),t,this)}))),function(t){return v.apply(this,arguments)}),updateRecordInline:function(t,e){this.updateRecord(p({},t,{},e))},addRecord:(m=(0,o.default)(i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.addRecord)(p({},e,{domain:this.domain,ptr_val:this.pointer}));case 2:t.sent&&this.loadRecords();case 4:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)}),deleteRecords:(f=(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.deleteRecords)({records:this.checkedRecords,ptr:this.pointer,domain:this.domain,affect_pointers:this.hasAffectPointers?this.ap:null});case 2:t.sent&&(this.checkedRecords=[],this.loadRecords());case 4:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)}),editRecord:function(t){this.editableRecord=t,this.$dialog("EDIT_DNS_RECORD_DIALOG").open()},copyRow:function(){this.$refs.addRecordDialog.prefill(this.checkedRecords[0]),this.$dialog("ADD_DNS_RECORD_DIALOG").open()}}};e.default=_},1645:function(t,e,n){"use strict";n.r(e);var a=n(1646),r=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e.default=r.a},1646:function(t,e,n){"use strict";var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i,o,s,l,u=a(n(15)),d=a(n(16)),c=n(1442),p=n(2328),f={type:Boolean,required:!1,default:!1},m={props:{only:{type:String,default:""},domain:{type:String,required:!0},dns_spf:f,dns_ds:f,dns_tlsa:f,dns_caa:f,full_mx_records:f,dns_ns:f,dns_ptr:f,pointer:{type:[String,Object],required:!1,default:null},showTTL:{type:Boolean,required:!1,default:!1},disableTTL:{type:Boolean,required:!1,default:!1},affectPointers:{type:Object,required:!1,default:function(){return{show:!1,default:!1}}}},data:function(){return{type:this.only||"A",name:"",value:"",mxValue:"",ttl:"",txtType:"plain",ap:this.affectPointers.default,expertMode:!1}},api:[{command:c.validateDNSName,bind:"dnsName"},{command:c.validateDNSValue,bind:"dnsValue"},{command:c.validateMXValue,bind:"mxValue"}],commands:{validate:{dnsName:c.validateDNSName,dnsValue:c.validateDNSValue,mxValue:c.validateMXValue}},computed:{requestData:function(){return{type:this.type,name:this.$p6e.toA(this.name),domain:this.domain,value:"TXT"===this.type?this.value:this.$p6e.toA(this.value),mx_value:this.$p6e.toA(this.mxValue),ttl:this.ttl||null,affect_pointers:this.affectPointers?this.ap:null}},allowedRecordTypes:function(){return["A",!!this.dns_ns&&"NS","MX","CNAME",!!this.dns_ptr&&"PTR","TXT","SRV","AAAA",!!this.dns_spf&&"SPF",!!this.dns_ds&&"DS",!!this.dns_tlsa&&"TLSA",!!this.dns_caa&&"CAA"].filter(Boolean)},defaultName:function(){return this.$p6e.toU("".concat(this.pointer||this.domain,"."))},defaultTTL:function(){try{return this.$state.commands.DNS_RECORDS.response.ttl.value||this.$state.commands.DNS_RECORDS.response.ttl.default}catch(t){return"14400"}},mxRecordsPage:function(){return"MX"===this.type},fqdnName:function(){return this.makeFQDN(this.name)},fqdnValue:function(){return!!["CNAME","MX","NS","PTR"].includes(this.type)&&this.makeFQDN("MX"===this.type?this.mxValue:this.value)},spfValid:function(){return this.$store.getters["validation/isValid"]("spf-record")},generatorComponent:function(){return"TXT"===this.type&&"plain"!==this.txtType?p.editors[this.txtType]:"SRV"===this.type&&p.editors.srv}},watch:{type:function(){this.setVars()},txtType:function(t){"dmarc"===t&&(this.name="_dmarc")}},created:function(){this.setVars()},methods:{makeFQDN:function(t){return!(!t||"."===t[t.length-1])&&"".concat(t,".").concat(this.$p6e.toU(this.domain))},setVars:(l=(0,d.default)(u.default.mark((function t(){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.initialData){t.next=5;break}Object.assign(this,this.initialData),this.initialData=null,t.next=24;break;case 5:this.ap=this.affectPointers.default,this.showTTL&&(this.ttl=this.defaultTTL),t.t0=this.type,t.next="MX"===t.t0?10:"NS"===t.t0?13:"TXT"===t.t0?13:"CNAME"===t.t0?17:20;break;case 10:return this.name=this.defaultName,this.value="10",t.abrupt("break",23);case 13:return this.value="",this.name=this.defaultName,"dmarc"===this.txtType&&(this.name="_dmarc"),t.abrupt("break",23);case 17:return this.name="",this.value=this.defaultName,t.abrupt("break",23);case 20:this.name="",this.value="",this.mxValue="";case 23:this.$store.commit("validation/TOUCH_GROUP_INPUTS","addRecord");case 24:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)}),submit:(s=(0,d.default)(u.default.mark((function t(){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.$emit("submit",Object.assign({},this.requestData)),this.setVars();case 2:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)}),prefill:function(t){this.initialData=t},validateDnsRecordName:(o=(0,d.default)(u.default.mark((function t(e){var n,a;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",!0);case 2:return t.next=4,(0,c.validateDNSName)({record:this.type,domain:this.domain,pointer:this.pointer||null,name:this.$p6e.toA(e)});case 4:return n=t.sent,a=n.valid,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)}),validateDnsRecordValue:(i=(0,d.default)(u.default.mark((function t(e){var n,a;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&"MX"!==this.type){t.next=2;break}return t.abrupt("return",!0);case 2:return t.next=4,(0,c.validateDNSValue)({record:this.type,domain:this.domain,pointer:this.pointer||null,value:e});case 4:return n=t.sent,a=n.valid,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)}),validateMxRecordValue:(r=(0,d.default)(u.default.mark((function t(e){var n,a;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&"MX"===this.type&&this.full_mx_records){t.next=2;break}return t.abrupt("return",!0);case 2:return t.next=4,(0,c.validateMXValue)({domain:this.domain,pointer:this.pointer,value:e});case 4:return n=t.sent,a=n.valid,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})}};e.default=m},1647:function(t,e,n){"use strict";n.r(e);var a=n(1648),r=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e.default=r.a},1648:function(t,e,n){"use strict";var a=n(10);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(2546)),i={model:{prop:"value",event:"change"},props:{value:{type:String,required:!0}},data:function(){return{rua:"",ruf:"",p:"none",sp:"",rf:"afrf",ri:"86400",pct:"100",adkim:"relaxed",aspf:"relaxed"}},computed:{innerValue:function(){return r.generate({p:this.p,sp:this.sp,rua:this.rua,ruf:this.ruf,rf:this.rf,ri:this.ri,pct:this.pct,adkim:this.adkim,aspf:this.aspf})}},watch:{innerValue:function(t){t!==this.value&&this.$emit("change",this.innerValue)},value:{handler:"updateInnerValue",immediate:!0}},methods:{updateInnerValue:function(t){t=t.replace(/^"|"$/g,""),r.notDMARC(t)?this.$emit("change",this.innerValue):t!==this.innerValue&&Object.assign(this,r.parse(t))}}};e.default=i},1649:function(t,e,n){"use strict";n.r(e);var a=n(1650),r=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e.default=r.a},1650:function(t,e,n){"use strict";var a=n(1),r=n(10);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(2)),o=r(n(1533)),s=r(n(6)),l=n(13),u=r(n(3334));function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}var c=s.filter(s.test(l.REGEXPS.domain)),p=s.complement(s.pipe(s.prop("value"),s.contains("_"))),f={components:{InputIp:o.default},model:{prop:"value",event:"change"},props:{value:{type:String,required:!0},domain:{type:String,required:!1,default:function(){return(void 0).$domainUnicode}}},data:function(){return{ips:[{version:"v4",netmask:"",value:""}],include:[""],options:["mx","a"],strict:"-all",redirect:"",a:[""]}},computed:{processedIps:function(){var t=s.when(s.propEq("version","v4"),s.evolve({netmask:o.netmask2cidr}));return s.pipe(s.filter(p),s.map(t))(this.ips)},processedDomains:function(){return c(this.a)},processedIncludes:function(){return c(this.include)},spfRecord:function(){return{options:this.options,values:this.values,strict:this.strict,redirect:this.redirect,ips:this.processedIps,include:this.processedIncludes,a:this.processedDomains}},innerValue:function(){return u.generate(this.spfRecord)},lookupLimit:function(){return this.processedDomains.length+this.processedIncludes.length>=10}},watch:{innerValue:function(t){this.$emit("change",t)},value:{handler:"updateInnerValue",immediate:!0}},methods:{isIpValid:p,validDomain:s.test(l.REGEXPS.domain),updateInnerValue:function(t){if(t=t.replace(/^"|"$/g,""),u.notSPF(t))this.$emit("change",this.innerValue);else if(t!==this.innerValue){var e=s.pipe(u.parse,s.evolve({ips:s.map((function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{netmask:"v4"===t.version?(0,o.cidr2netmask)(t.netmask):t.netmask})}))}))(t);Object.assign(this,e)}},addIp:function(){this.ips.push({netmask:"",value:"",version:"v4"})},removeIp:function(t){this.ips.splice(t,1)},validateDomain:function(t){return!t||!t.includes(" ")&&l.REGEXPS.domain.test(t)},addInclude:function(){var t=this;this.include.push(""),this.$nextTick((function(){var e=t.$refs["includeInput".concat(t.include.length-1)];e&&e[0]&&e[0].$refs.input.focus()}))},addDomain:function(){var t=this;this.a.push(""),this.$nextTick((function(){var e=t.$refs["aInput".concat(t.a.length-1)];e&&e[0]&&e[0].$refs.input.focus()}))}}};e.default=f},1651:function(t,e,n){"use strict";n.r(e);var a=n(1652),r=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e.default=r.a},1652:function(t,e,n){"use strict";var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(17)),i={model:{prop:"value",event:"change"},props:{value:{type:String,required:!0},group:{type:String,required:!1,default:"addRecord"}},data:function(){return{priority:"",weight:"",port:"",target:""}},computed:{computedValue:function(){return[this.priority,this.weight,this.port,this.target].join(" ")}},watch:{value:{handler:function(t){if(t!==this.computedValue){var e=t.replace(/  +/g," ").split(" "),n=(0,r.default)(e,4),a=n[0];this.priority=void 0===a?"":a;var i=n[1];this.weight=void 0===i?"":i;var o=n[2];this.port=void 0===o?"":o;var s=n[3];this.target=void 0===s?"":s}},immediate:!0},computedValue:function(t){t!==this.value&&this.$emit("change",t.replace(/  +/g," "))}}};e.default=i},1653:function(t,e,n){"use strict";n.r(e);var a=n(1654),r=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e.default=r.a},1654:function(t,e,n){"use strict";var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i,o,s=a(n(15)),l=a(n(16)),u=n(1442),d=n(14),c=n(2328),p={props:{record:{type:Object,required:!0},full_mx_records:{type:Boolean,required:!1,default:!0},showTTL:{type:Boolean,required:!0,default:!1},domain:{type:String,required:!0},disableTTL:{type:Boolean,required:!1,default:!1},pointer:{type:String,required:!1,default:""},affectPointers:{type:Object,required:!1,default:function(){return{show:!1,default:!1}}}},data:function(){return{editableRecord:{type:"A",name:"",value:"",mx_value:"",ttl:"14400"},txtType:"plain",expertMode:!1,forceExpertMode:!1,ap:this.affectPointers.default}},api:[{command:u.validateDNSName,bind:"dnsName"},{command:u.validateDNSValue,bind:"dnsValue"},{command:u.validateMXValue,bind:"mxValue"}],computed:{recordData:function(){var t=this.editableRecord,e=t.value,n=t.name,a=this.editableRecord.ttl,r=this.record,i=r.type,o=r.id;return n=this.$p6e.toA(n),"MX"===i&&(e="".concat(e," ").concat(this.$p6e.toA(this.editableRecord.mx_value))),"NS"!==i&&"CNAME"!==i||(e=this.$p6e.toA(e)),{id:o,type:i,value:e,name:n,ttl:a,affect_pointers:this.affectPointers.show?this.ap:null}},mxRecordsPage:function(){return"MX"===this.record.type},fqdnName:function(){return this.makeFQDN(this.editableRecord.name)},fqdnValue:function(){return!!["CNAME","MX","NS","PTR"].includes(this.editableRecord.type)&&this.makeFQDN("MX"===this.editableRecord.type?this.editableRecord.mx_value:this.editableRecord.value)},defaultTTL:function(){try{return this.$state.commands.DNS_RECORDS.response.ttl.default}catch(t){return"14400"}},generatorComponent:function(){return"TXT"===this.record.type&&"plain"!==this.txtType?c.editors[this.txtType]:"SRV"===this.record.type&&c.editors.srv},spfValid:function(){return this.$store.getters["validation/isValid"]("spf-record")}},created:function(){this.$watch("record",this.loadDataFromRecord,{immediate:!0})},methods:{makeFQDN:function(t){return!(!t||"."===t[t.length-1])&&"".concat(t,".").concat(this.$p6e.toU(this.pointner||this.domain))},loadDataFromRecord:function(){if(this.txtType="plain",Object.assign(this.editableRecord,d._.cloneDeep(this.record)),this.editableRecord.type=this.record.type,this.editableRecord.name=this.$p6e.toU(this.editableRecord.name),this.editableRecord.ttl=this.editableRecord.ttl||this.defaultTTL,this.editableRecord.value=this.record.value,"MX"===this.record.type){var t=this.record.value.split(" ");this.editableRecord.value=t[0],this.editableRecord.mx_value=this.$p6e.toU(t[1]||"")}if(["NS","CNAME"].includes(this.editableRecord.type)&&(this.editableRecord.value=this.$p6e.toU(this.editableRecord.value)),"TXT"===this.record.type){var e=(0,c.chooseEditor)(this.editableRecord.value);"spf"===e&&(this.forceExpertMode=/(\+|-|~|\?)(a |a:|mx|ip|ip4|ip6|include|ptr)/.test(this.editableRecord.value),this.expertMode=this.forceExpertMode),this.txtType=e}},validateDnsRecordName:(o=(0,l.default)(s.default.mark((function t(e){var n,a;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",!0);case 2:return t.next=4,(0,u.validateDNSName)({record:this.record.type,domain:this.domain,pointer:this.pointer||null,name:this.$p6e.toA(e)});case 4:return n=t.sent,a=n.valid,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)}),validateDnsRecordValue:(i=(0,l.default)(s.default.mark((function t(e){var n,a;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&"MX"!==this.editableRecord.type){t.next=2;break}return t.abrupt("return",!0);case 2:return t.next=4,(0,u.validateDNSValue)({record:this.record.type,domain:this.domain,pointer:this.pointer||null,value:e});case 4:return n=t.sent,a=n.valid,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)}),validateMxRecordValue:(r=(0,l.default)(s.default.mark((function t(e){var n,a;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&"MX"===this.editableRecord.type&&this.full_mx_records){t.next=2;break}return t.abrupt("return",!0);case 2:return t.next=4,(0,u.validateMXValue)({domain:this.pointer||this.domain,value:this.$p6e.toA(e)});case 4:return n=t.sent,a=n.valid,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})}};e.default=p},1655:function(t,e,n){"use strict";n.r(e);var a=n(1656),r=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e.default=r.a},1656:function(t,e,n){"use strict";var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(2)),i={props:{value:{type:String,required:!0,default:""},id:{type:String,required:!0,default:""},type:{type:String,required:!0,default:""}},data:function(){return{isVisible:!1,valueEditable:this.value}},methods:{update:function(){this.$emit("update",(0,r.default)({},this.id,this.valueEditable)),this.close()},close:function(){this.isVisible=!1},open:function(){var t=this;this.isVisible=!0,this.$nextTick((function(){t.$refs.text&&t.$refs.text.focus(),t.$refs.textarea&&t.$refs.textarea.$el.focus()}))}}};e.default=i},1657:function(t,e,n){var a=n(2552);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(5).default)("7a313885",a,!0,{})},1658:function(t,e,n){var a=n(2554);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(5).default)("fed9d4ee",a,!0,{})},2328:function(t,e,n){"use strict";var a=n(10),r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.editors=e.chooseEditor=void 0;var i=r(n(17)),o=a(n(6)),s=r(n(2545)),l=r(n(2547)),u=r(n(2548));e.chooseEditor=function(t){var e=o.toPairs({spf:"spf1",dmarc:"DMARC1"}),n=o.find((function(e){var n=(0,i.default)(e,2)[1];return o.startsWith('"v='.concat(n),t)}),e)||[],a=(0,i.default)(n,1)[0];return void 0===a?"plain":a};var d={dmarc:s.default,spf:l.default,srv:u.default};e.editors=d},2543:function(t,e,n){"use strict";n.r(e),n.d(e,"getMxRecords",(function(){return i}));var a=n(35),r=function(){return(r=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},i=function(t){return{records:t.records.map((function(t){return r(r({},t),{id:t.combined})})),internal:"yes"===t.internal,full_mx_records:"0"!==t.full_mx_records,dns_ttl:"1"===t.dns_ttl,template:!!t.mx_templates&&Object(a.toSelectData)(t.mx_templates.mx_templates_select),affect_pointers:"no"!==t.DNS_AFFECT_POINTERS_DEFAULT}}},2544:function(t,e,n){"use strict";n.r(e);var a=n(3294),r=n(1645);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);var o=n(0),s=Object(o.a)(r.default,a.a,a.b,!1,null,null,null);e.default=s.exports},2545:function(t,e,n){"use strict";n.r(e);var a=n(3331),r=n(1647);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);var o=n(0),s=Object(o.a)(r.default,a.a,a.b,!1,null,null,null);e.default=s.exports},2546:function(t,e,n){"use strict";n.r(e),n.d(e,"notDMARC",(function(){return c})),n.d(e,"prepare",(function(){return p})),n.d(e,"generate",(function(){return f})),n.d(e,"parse",(function(){return m}));var a=n(6),r=n(28),i=a.pipe(a.filter(a.complement(a.isEmpty)),a.toPairs,a.map(a.join("=")),a.join("; "),(function(t){return"v=DMARC1;"+t})),o=a.pipe(a.defaultTo(""),a.replace("mailto:","")),s=a.unless(a.isEmpty,(function(t){return"mailto:"+t})),l=function(t){return a.when(a.equals(t),a.always(""))},u=function(t){return"strict"===t?"s":""},d=function(t){var e=a.split(";",t);return Object(r.mergeTransduce)([Object(r.mapReducer)(a.trim),Object(r.filterReducer)(a.test(/^(p|sp|rua|ruf|ri|rf|pct|adkim|aspf)=.+$/)),Object(r.mapReducer)((function(t){var e,n=t.split("="),a=n[0],r=n[1];return(e={})[a]=r,e}))],e)},c=a.complement(a.startsWith("v=DMARC1")),p=a.pipe(a.evolve({p:function(t){return t},sp:function(t){return t},rua:s,ruf:s,rf:l("afrf"),ri:l("86400"),pct:l("100"),adkim:u,aspf:u})),f=a.pipe(p,i),m=function(t){var e=a.ifElse(c,a.always({}),d)(t);return e.adkim="s"===e.adkim?"strict":"relaxed",e.aspf="s"===e.aspf?"strict":"relaxed",e.rua=o(e.rua),e.ruf=o(e.ruf),e}},2547:function(t,e,n){"use strict";n.r(e);var a=n(3332),r=n(1649);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);var o=n(0),s=Object(o.a)(r.default,a.a,a.b,!1,null,null,null);e.default=s.exports},2548:function(t,e,n){"use strict";n.r(e);var a=n(3333),r=n(1651);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);var o=n(0),s=Object(o.a)(r.default,a.a,a.b,!1,null,null,null);e.default=s.exports},2549:function(t,e,n){"use strict";n.r(e);var a=n(3295),r=n(1653);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);var o=n(0),s=Object(o.a)(r.default,a.a,a.b,!1,null,null,null);e.default=s.exports},2550:function(t,e,n){"use strict";n.r(e);var a=n(3296),r=n(1655);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);n(2551);var o=n(0),s=Object(o.a)(r.default,a.a,a.b,!1,null,null,null);e.default=s.exports},2551:function(t,e,n){"use strict";var a=n(1657);n.n(a).a},2552:function(t,e,n){(t.exports=n(4)(!0)).push([t.i,".input-inline .trigger>div{display:inline}.input-inline-box{padding:5px;min-width:100%;z-index:2}.input-inline-box .textarea{min-width:480px}.input-inline-box .textarea .bottom-toolbar{padding:.5rem 0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}","",{version:3,sources:["/home/evo/evolution/src/js/components/local/dns/input-inline.vue"],names:[],mappings:"AAoHA,2BAEQ,cAAe,CAClB,kBAGD,YACA,eACA,SAAU,CAHd,4BAKQ,eAAgB,CALxB,4CAOY,gBACA,oBAAA,oBAAA,aACA,yBAAA,sBAAA,6BAA8B,CAAA",file:"input-inline.vue?vue&type=style&index=0&lang=scss&",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.input-inline {\n    .trigger > div {\n        display: inline;\n    }\n}\n.input-inline-box {\n    padding: 5px;\n    min-width: 100%;\n    z-index: 2;\n    .textarea {\n        min-width: 480px;\n        .bottom-toolbar {\n            padding: 0.5rem 0;\n            display: flex;\n            justify-content: space-between;\n        }\n    }\n}\n"],sourceRoot:""}])},2553:function(t,e,n){"use strict";var a=n(1658);n.n(a).a},2554:function(t,e,n){(t.exports=n(4)(!0)).push([t.i,"#records-table td:nth-child(3){white-space:nowrap}","",{version:3,sources:["/home/evo/evolution/src/js/components/local/dns/records-table.vue"],names:[],mappings:"AAuVA,+BACI,kBAAmB,CAAA",file:"records-table.vue?vue&type=style&index=0&lang=scss&",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#records-table td:nth-child(3) {\n    white-space: nowrap;\n}\n"],sourceRoot:""}])},3185:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"records-table"}},[n("ui-r-table",{attrs:{rows:t.records,columns:[{id:"type",label:t.$gettext("Type"),editable:!1},{id:"name",label:t.$gettext("Name"),grow:!0,editable:!1},t.enableTTL?{id:"ttl",label:t.$gettext("TTL"),width:"min-content"}:{},{id:"value",label:t.$gettext("Value"),grow:!0,editable:!1}],"is-sortable":"","is-checkable":!t.disabled,"disable-pagination":"","checked-rows":t.checkedRecords,"rows-count":t.records.length,"vertical-layout":t.$_Client.isPhone,"not-checkable":t.notCheckableRows},on:{"update:checkedRows":function(e){t.checkedRecords=e},"update:checked-rows":function(e){t.checkedRecords=e}},scopedSlots:t._u([{key:"row:actions",fn:function(e){var a=e.item;return t.disabled||t.notCheckableRows.includes(a)?t._e():n("ui-button-icon",{attrs:{icon:"pencil",title:t.$gettext("Edit"),disabled:t.disabled},on:{click:function(e){return t.editRecord(a)}}})}},{key:"col:name",fn:function(e){var a=e.name,r=e.item;return[n("inline-input",{attrs:{id:"name",value:a,type:r.type},on:{update:function(e){return t.updateRecordInline(r,e)}}},[n("span",{staticClass:"wrap:nowrap"},[t._v("\n                    "+t._s(a)+"\n                ")])])]}},{key:"col:ttl",fn:function(e){var a=e.ttl,r=e.item;return[n("inline-input",{attrs:{id:"ttl",value:a,type:r.type},on:{update:function(e){return t.updateRecordInline(r,e)}}},[n("span",{staticClass:"wrap:nowrap"},[t._v("\n                    "+t._s(a)+"\n                ")])])]}},{key:"col:value",fn:function(e){var a=e.value,r=e.item;return[n("inline-input",{attrs:{id:"value",value:a,type:r.type},on:{update:function(e){return t.updateRecordInline(r,e)}}},[n("div",{domProps:{innerHTML:t._s(t.getValueString(r))},on:{copy:function(e){return t.getCopyString(r,e)}}})])]}}],null,!0)},[t.disabled?t._e():n("ui-button",{attrs:{slot:"buttons:before",theme:"safe",size:"big"},on:{click:function(e){t.$dialog("ADD_DNS_RECORD_DIALOG").open()}},slot:"buttons:before"},[n("translate",[t._v("Add Record")])],1),t._v(" "),1===t.checkedRecords.length?n("ui-table-action",{key:"copy-action",attrs:{slot:"table:actions"},on:{click:t.copyRow},slot:"table:actions"},[n("translate",[t._v("Copy")])],1):t._e(),t._v(" "),n("ui-table-action",{key:"del-action",attrs:{slot:"table:actions"},on:{click:function(e){t.$dialog("DELETE_ITEMS_DIALOG").open()}},slot:"table:actions"},[n("translate",[t._v("Delete")])],1)],1),t._v(" "),n("ui-dialog-delete-items",{attrs:{subject:t.$ngettext("DNS record","DNS Records",t.checkedRecords.length)},on:{"click:confirm":t.deleteRecords}},[n("ui-form-element",{attrs:{vertical:""}},[t.hasAffectPointers?n("input-checkbox",{attrs:{slot:"content"},slot:"content",model:{value:t.ap,callback:function(e){t.ap=e},expression:"ap"}},[n("translate",[t._v("Remove from pointers")])],1):t._e()],1)],1),t._v(" "),n("dns-add-record-dialog",t._b({ref:"addRecordDialog",attrs:{only:t.only,domain:t.domain,pointer:t.pointer,"show-t-t-l":t.showTTLColumn,"disable-t-t-l":t.disableTTLInput,"affect-pointers":t.affectPointers},on:{submit:function(e){return t.addRecord(e)}}},"dns-add-record-dialog",t.$attrs,!1)),t._v(" "),n("dns-edit-record-dialog",t._b({ref:"editRecordDialog",attrs:{record:t.editableRecord,"show-t-t-l":t.showTTLColumn,"disable-t-t-l":t.disableTTLInput,domain:t.domain,pointer:t.pointer,"affect-pointers":t.affectPointers},on:{update:t.updateRecord}},"dns-edit-record-dialog",t.$attrs,!1))],1)},r=[];n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}))},3294:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ui-dialog",{attrs:{id:"ADD_DNS_RECORD_DIALOG",size:"normal"},on:{"dialog:open":t.setVars}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n        Add Record\n    ")]),t._v(" "),n("template",{slot:"content"},[n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Record Type\n            ")]),t._v(" "),t.only?n("input-text",{attrs:{slot:"content",value:t.type,disabled:""},slot:"content"}):n("input-select",{attrs:{slot:"content",options:t.allowedRecordTypes},slot:"content",model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1),t._v(" "),n("ui-form-element",{attrs:{group:"addRecord",validators:{required:!0,validateDnsRecordName:t.validateDnsRecordName}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Name\n            ")]),t._v(" "),n("input-text",{ref:"inputName",attrs:{slot:"content",placeholder:"DS"===t.type?"subdomain."+t.domain+".":""},slot:"content",model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),t.fqdnName&&t.$api.dnsName.valid?n("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:"column",cross:"center"},expression:"{ dir: 'column', cross: 'center' }"}],attrs:{slot:"popup"},slot:"popup"},[n("translate",{staticClass:"txt:bold txt:big",attrs:{"translate-params":{name:t.fqdnName}}},[t._v("\n                    Result: %{ name }\n                ")]),t._v(" "),n("translate",{staticClass:"txt:small txt:center"},[t._v("\n                    Please add a period symbol at the end of the domain name if domain should not be auto-appended.\n                ")])],1):t._e(),t._v(" "),n("span",{attrs:{slot:"error:validateDnsRecordName"},domProps:{innerHTML:t._s(t.$api.dnsName.message)},slot:"error:validateDnsRecordName"})],1),t._v(" "),t.showTTL?n("ui-form-element",{attrs:{group:"addRecord"}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                TTL\n            ")]),t._v(" "),n("input-text",{ref:"inputTTL",attrs:{slot:"content",disabled:t.disableTTL,number:""},slot:"content",model:{value:t.ttl,callback:function(e){t.ttl=e},expression:"ttl"}}),t._v(" "),t.disableTTL?n("translate",{attrs:{slot:"tooltip"},slot:"tooltip"},[t._v("\n                TTL is overriden globally. Changing this setting will have\n                no effect.\n            ")]):t._e()],1):t._e(),t._v(" "),"TXT"===t.type?n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                TXT Record Type\n            ")]),t._v(" "),n("input-select",{attrs:{slot:"content",options:{plain:t.$gettext("Plain"),dmarc:"DMARC",spf:"SPF"}},slot:"content",model:{value:t.txtType,callback:function(e){t.txtType=e},expression:"txtType"}})],1):t._e(),t._v(" "),!t.generatorComponent||t.expertMode&&"TXT"!==t.type?t._e():n(t.generatorComponent,{tag:"component",attrs:{domain:t.pointer||t.domain},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" "),"SRV"===t.type?n("ui-form-element",[n("span",{attrs:{slot:"title"},slot:"title"}),t._v(" "),n("input-checkbox",{attrs:{slot:"content"},slot:"content",model:{value:t.expertMode,callback:function(e){t.expertMode=e},expression:"expertMode"}},[n("translate",[t._v("Edit Manually")])],1)],1):t._e(),t._v(" "),n("ui-form-element",{attrs:{group:"addRecord",validators:{validateDnsRecordValue:t.validateDnsRecordValue,validateMxRecordValue:t.validateMxRecordValue},underline:!1}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Value\n            ")]),t._v(" "),n("template",{slot:"content"},["MX"===t.type?n("input-autocomplete",{attrs:{values:["0","10","20","30","40","50","60","70","80","90"],"suggest-after":0,mode:"input",inputmode:"numeric"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[t.full_mx_records?n("input-text",{ref:"inputMXValue",attrs:{slot:"additions:right"},slot:"additions:right",model:{value:t.mxValue,callback:function(e){t.mxValue=e},expression:"mxValue"}}):t._e()],1):n("TXT"===t.type?"input-textarea":"input-text",{ref:"inputValue",tag:"component",attrs:{rows:"5",disabled:t.generatorComponent&&"SRV"===t.type&&!t.expertMode},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),t.fqdnValue&&t.$api.dnsValue.valid&&t.$api.mxValue.valid?n("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:"column",cross:"center"},expression:"{ dir: 'column', cross: 'center' }"}],attrs:{slot:"popup"},slot:"popup"},[n("translate",{staticClass:"txt:bold txt:big",attrs:{"translate-params":{name:t.fqdnValue}}},[t._v("\n                    Result: %{ name }\n                ")]),t._v(" "),n("translate",{staticClass:"txt:small txt:center"},[t._v("\n                    Please add a period symbol at the end of the domain name if domain should not be auto-appended.\n                ")])],1):t._e(),t._v(" "),n("span",{attrs:{slot:"error:validateDnsRecordValue"},domProps:{innerHTML:t._s(t.$api.dnsValue.message)},slot:"error:validateDnsRecordValue"}),t._v(" "),n("span",{attrs:{slot:"error:validateMxRecordValue"},domProps:{innerHTML:t._s(t.$api.mxValue.message)},slot:"error:validateMxRecordValue"})],2),t._v(" "),t.affectPointers.show?n("ui-form-element",{attrs:{underline:!1}},[n("span",{attrs:{slot:"title"},slot:"title"}),t._v(" "),n("input-checkbox",{attrs:{slot:"content"},slot:"content",model:{value:t.ap,callback:function(e){t.ap=e},expression:"ap"}},[n("translate",[t._v("Duplicate to pointers")])],1)],1):t._e()],1),t._v(" "),n("ui-button",{attrs:{slot:"buttons",theme:"safe","validate-group":"addRecord",disabled:!t.spfValid},on:{click:t.submit},slot:"buttons"},[n("translate",[t._v("Add")])],1)],2)},r=[];n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}))},3295:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ui-dialog",{attrs:{id:"EDIT_DNS_RECORD_DIALOG",size:"normal"}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n        Edit Record\n    ")]),t._v(" "),n("template",{slot:"content"},[n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Record Type\n            ")]),t._v(" "),n("input-text",{attrs:{slot:"content",value:t.editableRecord.type,disabled:""},slot:"content"})],1),t._v(" "),n("ui-form-element",{attrs:{group:"editRecord",validators:{required:!0,validateDnsRecordName:t.validateDnsRecordName}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Name\n            ")]),t._v(" "),n("input-text",{attrs:{slot:"content",placeholder:"DS"===t.editableRecord.type?"subdomain."+t.domain+".":""},slot:"content",model:{value:t.editableRecord.name,callback:function(e){t.$set(t.editableRecord,"name",e)},expression:"editableRecord.name"}}),t._v(" "),t.isMounted&&t.fqdnName&&t.$api.dnsName.valid?n("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:"column",cross:"center"},expression:"{ dir: 'column', cross: 'center' }"}],attrs:{slot:"popup"},slot:"popup"},[n("translate",{staticClass:"txt:bold txt:big",attrs:{"translate-params":{name:t.fqdnName}}},[t._v("\n                    Result: %{ name }\n                ")]),t._v(" "),n("translate",{staticClass:"txt:small txt:center"},[t._v("\n                    Please add a period symbol at the end of the domain name if domain should not be auto-appended.\n                ")])],1):t._e(),t._v(" "),n("span",{attrs:{slot:"error:validateDnsRecordName"},domProps:{innerHTML:t._s(t.$api.dnsName.message)},slot:"error:validateDnsRecordName"})],1),t._v(" "),t.showTTL?n("ui-form-element",{attrs:{group:"editRecord",validators:{required:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                TTL\n            ")]),t._v(" "),n("input-text",{attrs:{slot:"content",disabled:t.disableTTL,number:""},slot:"content",model:{value:t.editableRecord.ttl,callback:function(e){t.$set(t.editableRecord,"ttl",e)},expression:"editableRecord.ttl"}}),t._v(" "),t.disableTTL?n("translate",{attrs:{slot:"tooltip"},slot:"tooltip"},[t._v("\n                TTL is overriden globally. Changing this setting will have no effect.\n            ")]):t._e()],1):t._e(),t._v(" "),t.generatorComponent&&!t.expertMode?n(t.generatorComponent,{tag:"component",attrs:{domain:t.pointer||t.domain,group:"editRecord"},model:{value:t.editableRecord.value,callback:function(e){t.$set(t.editableRecord,"value",e)},expression:"editableRecord.value"}}):t._e(),t._v(" "),t.generatorComponent?n("ui-form-element",[n("span",{attrs:{slot:"title"},slot:"title"}),t._v(" "),n("input-checkbox",{attrs:{slot:"content",disabled:t.forceExpertMode},slot:"content",model:{value:t.expertMode,callback:function(e){t.expertMode=e},expression:"expertMode"}},[n("translate",[t._v("Edit Manually")])],1),t._v(" "),t.forceExpertMode&&"TXT"===t.record.type?n("translate",{attrs:{slot:"tooltip"},slot:"tooltip"},[t._v("\n                Due to advanced SPF record syntax, text-mode is used for SPF changes.\n            ")]):t._e()],1):t._e(),t._v(" "),n("ui-form-element",{attrs:{group:"editRecord",validators:{required:!0,validateDnsRecordValue:t.validateDnsRecordValue,validateMxRecordValue:t.validateMxRecordValue},underline:!1}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Value\n            ")]),t._v(" "),n("template",{slot:"content"},["MX"===t.editableRecord.type?n("input-autocomplete",{attrs:{values:["0","10","20","30","40","50","60","70","80","90"],"suggest-after":0,mode:"input",inputmode:"numeric"},model:{value:t.editableRecord.value,callback:function(e){t.$set(t.editableRecord,"value",e)},expression:"editableRecord.value"}},[t.full_mx_records?n("input-text",{attrs:{slot:"additions:right"},slot:"additions:right",model:{value:t.editableRecord.mx_value,callback:function(e){t.$set(t.editableRecord,"mx_value",e)},expression:"editableRecord.mx_value"}}):t._e()],1):n("TXT"===t.record.type?"input-textarea":"input-text",{tag:"component",attrs:{rows:"3",disabled:t.generatorComponent&&!t.expertMode},model:{value:t.editableRecord.value,callback:function(e){t.$set(t.editableRecord,"value",e)},expression:"editableRecord.value"}})],1),t._v(" "),t.isMounted&&t.fqdnValue&&t.$api.dnsValue.valid&&t.$api.mxValue.valid?n("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:"column",cross:"center"},expression:"{ dir: 'column', cross: 'center' }"}],attrs:{slot:"popup"},slot:"popup"},[n("translate",{staticClass:"txt:bold txt:big",attrs:{"translate-params":{name:t.fqdnValue}}},[t._v("\n                    Result: %{ name }\n                ")]),t._v(" "),n("translate",{staticClass:"txt:center txt:small"},[t._v("\n                    Please add a period symbol at the end of the domain name if domain should not be auto-appended.\n                ")])],1):t._e(),t._v(" "),n("span",{attrs:{slot:"error:validateDnsRecordValue"},domProps:{innerHTML:t._s(t.$api.dnsValue.message)},slot:"error:validateDnsRecordValue"}),t._v(" "),n("span",{attrs:{slot:"error:validateMxRecordValue"},domProps:{innerHTML:t._s(t.$api.mxValue.message)},slot:"error:validateMxRecordValue"})],2),t._v(" "),t.affectPointers.show?n("ui-form-element",{attrs:{underline:!1}},[n("span",{attrs:{slot:"title"},slot:"title"}),t._v(" "),n("input-checkbox",{attrs:{slot:"content"},slot:"content",model:{value:t.ap,callback:function(e){t.ap=e},expression:"ap"}},[n("translate",[t._v("Duplicate to pointers")])],1)],1):t._e()],1),t._v(" "),n("ui-button",{attrs:{slot:"buttons",theme:"safe","validate-group":"editRecord",disabled:!t.spfValid},on:{click:function(e){return t.$emit("update",t.recordData)}},slot:"buttons"},[n("translate",[t._v("Edit")])],1)],2)},r=[];n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}))},3296:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-inline"},[[t.isVisible?[n("div",{staticClass:"input-inline-box"},["TXT"===t.type&&"value"===t.id?n("div",{staticClass:"textarea"},[n("input-textarea",{ref:"textarea",staticClass:"width:100%",attrs:{slot:"content",rows:"3"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?t.update(e):null}},slot:"content",model:{value:t.valueEditable,callback:function(e){t.valueEditable=e},expression:"valueEditable"}}),t._v(" "),n("div",{staticClass:"bottom-toolbar"},[n("translate",[t._v("Press Ctrl+Enter to save")]),t._v(" "),n("ui-button",{attrs:{theme:"light",size:"small"},on:{click:t.update}},[n("translate",[t._v("Save")])],1)],1)],1):n("input-text",{ref:"text",staticClass:"width:100%",attrs:{slot:"content"},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.update(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}]},slot:"content",model:{value:t.valueEditable,callback:function(e){t.valueEditable=e},expression:"valueEditable"}},[n("ui-button",{attrs:{slot:"additions:right",theme:"light"},on:{click:t.update},slot:"additions:right"},[n("translate",[t._v("Save")])],1)],1)],1)]:n("span",{ref:"trigger",staticClass:"trigger",on:{click:t.open}},[t.$slots.default?[t._t("default")]:[t._v("\n                "+t._s(t.value)+"\n            ")]],2)]],2)},r=[];n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}))},3331:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dmarc-editor"},[n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Domain policy type")]),t._v(" "),n("input-select",{attrs:{slot:"content",options:{none:t.$gettext("None"),reject:t.$gettext("Reject"),quarantine:t.$gettext("Quarantine")}},slot:"content",model:{value:t.p,callback:function(e){t.p=e},expression:"p"}})],1),t._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Subdomain policy type")]),t._v(" "),n("input-select",{attrs:{slot:"content",options:{"":t.$gettext("Same as domain"),none:t.$gettext("None"),reject:t.$gettext("Reject"),quarantine:t.$gettext("Quarantine")}},slot:"content",model:{value:t.sp,callback:function(e){t.sp=e},expression:"sp"}})],1),t._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Aggregate Email (RUA)")]),t._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.rua,callback:function(e){t.rua=e},expression:"rua"}})],1),t._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Forensic Email (RUF)")]),t._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.ruf,callback:function(e){t.ruf=e},expression:"ruf"}})],1),t._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Report Format")]),t._v(" "),n("input-select",{attrs:{slot:"content",options:{afrf:t.$gettext("Authentication Failure Reporting Format"),iodef:t.$gettext("Incident Object Description Exchange Format")}},slot:"content",model:{value:t.rf,callback:function(e){t.rf=e},expression:"rf"}})],1),t._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Reporting Interval")]),t._v(" "),n("input-text",{attrs:{slot:"content",number:"",double:""},slot:"content",model:{value:t.ri,callback:function(e){t.ri=e},expression:"ri"}})],1),t._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Percentage")]),t._v(" "),n("input-text",{attrs:{slot:"content",number:"",suffix:"%"},slot:"content",model:{value:t.pct,callback:function(e){t.pct=e},expression:"pct"}})],1),t._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Alignment mode for DKIM")]),t._v(" "),n("input-select",{attrs:{slot:"content",options:{relaxed:t.$gettext("Relaxed"),strict:t.$gettext("Strict")}},slot:"content",model:{value:t.adkim,callback:function(e){t.adkim=e},expression:"adkim"}})],1),t._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Alignment mode for SPF")]),t._v(" "),n("input-select",{attrs:{slot:"content",options:{relaxed:t.$gettext("Relaxed"),strict:t.$gettext("Strict")}},slot:"content",model:{value:t.aspf,callback:function(e){t.aspf=e},expression:"aspf"}})],1)],1)},r=[];n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}))},3332:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spf-editor"},[n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n            Redirect Domain\n        ")]),t._v(" "),n("translate",{attrs:{slot:"tooltip"},slot:"tooltip"},[t._v("\n            The SPF record for this domain replaces the current record.\n        ")]),t._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.redirect,callback:function(e){t.redirect=e},expression:"redirect"}})],1),t._v(" "),t.redirect?t._e():[n("ui-form-element",[n("span",{attrs:{slot:"title"},slot:"title"}),t._v(" "),n("input-checkbox",{attrs:{slot:"content",value:"mx"},slot:"content",model:{value:t.options,callback:function(e){t.options=e},expression:"options"}},[n("translate",[t._v("Allow servers listed as MX to send email for this domain")])],1)],1),t._v(" "),n("ui-form-element",[n("span",{attrs:{slot:"title"},slot:"title"}),t._v(" "),n("input-checkbox",{attrs:{slot:"content",value:"a"},slot:"content",model:{value:t.options,callback:function(e){t.options=e},expression:"options"}},[n("translate",[t._v("Allow current IP address of the domain to send email for this domain")])],1)],1),t._v(" "),n("ui-form-element",[n("span",{attrs:{slot:"title"},slot:"title"}),t._v(" "),n("input-checkbox",{attrs:{slot:"content",value:"ptr"},slot:"content",model:{value:t.options,callback:function(e){t.options=e},expression:"options"}},[n("translate",{attrs:{"translate-params":{domain:t.domain}}},[t._v("\n                    Allow any hostname ending in %{ domain } to send email for this domain\n                ")])],1)],1),t._v(" "),n("ui-form-element",[t._v("\n            `\n            "),n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                IP Addresses\n            ")]),t._v(" "),n("translate",{attrs:{slot:"tooltip"},slot:"tooltip"},[t._v("\n                IP Addresses in CIDR format that deliver or relay mail for this domain\n            ")]),t._v(" "),n("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:"column"},expression:"{ dir: 'column' }"}],attrs:{slot:"content"},slot:"content"},t._l(t.ips,(function(e,a){return n("input-ip",{directives:[{name:"margin",rawName:"v-margin",value:["5px",0],expression:"['5px', 0]"}],key:a,attrs:{netmask:e.netmask,version:e.version},on:{"update:netmask":function(n){return t.$set(e,"netmask",n)},"update:version":function(n){return t.$set(e,"version",n)}},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"ip.value"}},[n("template",{slot:"additions:right"},[n("ui-button",a?{attrs:{theme:"light",size:"normal",icon:"delete"},on:{click:function(e){return t.removeIp(a)}}}:{attrs:{theme:"light",size:"normal",icon:"plus-fill"},on:{click:t.addIp}})],1)],2)})),1)],1),t._v(" "),n("ui-form-element",{attrs:{group:"spf-record"}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Server Hostname\n            ")]),t._v(" "),n("translate",{attrs:{slot:"tooltip"},slot:"tooltip"},[t._v("\n                Add any other server hostname that may deliver or relay mail for this domain\n            ")]),t._v(" "),n("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:"column"},expression:"{ dir: 'column' }"}],ref:"domains",attrs:{slot:"content"},slot:"content"},t._l(t.a,(function(e,a){return n("input-text",{directives:[{name:"margin",rawName:"v-margin",value:["5px",0],expression:"['5px', 0]"}],key:a,ref:"aInput"+a,refInFor:!0,attrs:{prefix:"a:"},model:{value:t.a[a],callback:function(e){t.$set(t.a,a,e)},expression:"a[index]"}},[n("template",{slot:"additions:right"},[n("ui-button",a?{attrs:{theme:"light",size:"normal",icon:"delete"},on:{click:function(e){return t.a.splice(a,1)}}}:{attrs:{theme:"light",size:"normal",icon:"plus-fill",disabled:t.lookupLimit},on:{click:t.addDomain}})],1)],2)})),1)],1),t._v(" "),t.lookupLimit&&t.$refs.domains?n("ui-tooltip-popup",{attrs:{slot:"popup",anchor:t.$refs.domains,theme:"danger",placement:t.$_Client.isMobile?"top":"right",visible:""},slot:"popup"},[n("translate",[t._v("Limit of 10 domain lookups reached")])],1):t._e(),t._v(" "),n("ui-form-element",{attrs:{group:"spf-record"}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Include Domain\n            ")]),t._v(" "),n("translate",{attrs:{slot:"tooltip"},slot:"tooltip"},[t._v("\n                Any domain that will be searched for a match\n            ")]),t._v(" "),n("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:"column"},expression:"{ dir: 'column' }"}],attrs:{slot:"content"},slot:"content"},t._l(t.include,(function(e,a){return n("input-text",{directives:[{name:"margin",rawName:"v-margin",value:["5px",0],expression:"['5px', 0]"}],key:a,ref:"includeInput"+a,refInFor:!0,attrs:{prefix:"include:"},model:{value:t.include[a],callback:function(e){t.$set(t.include,a,e)},expression:"include[index]"}},[n("template",{slot:"additions:right"},[n("ui-button",a?{attrs:{theme:"light",size:"normal",icon:"delete"},on:{click:function(e){return t.include.splice(a,1)}}}:{attrs:{theme:"light",size:"normal",icon:"plus-fill",disabled:t.lookupLimit},on:{click:t.addInclude}})],1),t._v(" "),!a||t.validDomain(t.include[a])||t.$_Client.isPhone?t._e():n("template",{slot:"error"},[n("translate",[t._v("Invalid Domain")])],1)],2)})),1)],1),t._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Mode\n            ")]),t._v(" "),n("div",{attrs:{slot:"tooltip"},slot:"tooltip"},[n("span",{directives:[{name:"translate",rawName:"v-translate"}]},[n("strong",[t._v("Fail")]),t._v(": The SPF record has designated the host as NOT being allowed to send (reject)"),n("br")]),t._v(" "),n("span",{directives:[{name:"translate",rawName:"v-translate"}]},[n("strong",[t._v("SoftFail")]),t._v(": The SPF record has designated the host as NOT being allowed to send but is in transition (accept but mark)"),n("br")]),t._v(" "),n("span",{directives:[{name:"translate",rawName:"v-translate"}]},[n("strong",[t._v("Neutral")]),t._v(": The SPF record specifies explicitly that nothing can be said about validity (accept)"),n("br")])]),t._v(" "),n("input-select",{attrs:{slot:"content",options:{"-all":t.$gettext("Fail"),"~all":t.$gettext("SoftFail"),"?all":t.$gettext("Neutral")}},slot:"content",model:{value:t.strict,callback:function(e){t.strict=e},expression:"strict"}})],1)]],2)},r=[];n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}))},3333:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"srv-editor"},[n("ui-form-element",t._b({},"ui-form-element",{group:t.group,validators:{required:!0}},!1),[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n            Priority\n        ")]),t._v(" "),n("input-text",{attrs:{slot:"content",number:""},slot:"content",model:{value:t.priority,callback:function(e){t.priority=e},expression:"priority"}})],1),t._v(" "),n("ui-form-element",t._b({},"ui-form-element",{group:t.group,validators:{required:!0}},!1),[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n            Weight\n        ")]),t._v(" "),n("input-text",{attrs:{slot:"content",number:""},slot:"content",model:{value:t.weight,callback:function(e){t.weight=e},expression:"weight"}})],1),t._v(" "),n("ui-form-element",t._b({},"ui-form-element",{group:t.group,validators:{required:!0}},!1),[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n            Port\n        ")]),t._v(" "),n("input-text",{attrs:{slot:"content",number:""},slot:"content",model:{value:t.port,callback:function(e){t.port=e},expression:"port"}})],1),t._v(" "),n("ui-form-element",t._b({},"ui-form-element",{group:t.group,validators:{required:!0,domain:!0}},!1),[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n            Target\n        ")]),t._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.target,callback:function(e){t.target=e},expression:"target"}})],1)],1)},r=[];n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}))},3334:function(t,e,n){"use strict";n.r(e);var a=n(6),r=Object(a.curry)((function(t,e){return Object(a.map)((function(t){return t(e)}),t)})),i=n(18);n.d(e,"processIps",(function(){return o})),n.d(e,"processIncludes",(function(){return s})),n.d(e,"processA",(function(){return l})),n.d(e,"generate",(function(){return u})),n.d(e,"notSPF",(function(){return d})),n.d(e,"getStrict",(function(){return c})),n.d(e,"getOptions",(function(){return p})),n.d(e,"getRedirect",(function(){return f})),n.d(e,"getIp",(function(){return m})),n.d(e,"getIps",(function(){return v})),n.d(e,"getInclude",(function(){return h})),n.d(e,"getA",(function(){return _})),n.d(e,"parse",(function(){return b}));var o=function(t){return t.filter(a.pipe(a.prop("value"),a.complement(a.isEmpty))).map((function(t){var e=t.version,n=t.value,r=t.netmask;return[e.replace("v","ip"),":",n,r&&!a.contains("/",n)?"/"+r:""].join("")})).join(" ")},s=a.pipe(a.map(a.concat("include:")),a.join(" ")),l=a.pipe(a.map(a.concat("a:")),a.join(" ")),u=function(t){if(t.redirect)return"v=spf1 redirect="+t.redirect;var e=a.join(" ",t.options),n=o(t.ips),r=s(t.include);return["v=spf1",e,n,l(t.a),r,t.strict].filter(Boolean).join(" ")},d=a.complement(a.startsWith("v=spf1")),c=function(t){return t.includes("?all")?"?all":t.includes("~all")?"~all":"-all"},p=function(t){return["a","mx","ptr"].filter((function(e){return t.includes(" "+e+" ")}))},f=function(t){return i.Maybe.Some(t).flatMap((function(t){return t.includes("redirect=")?i.Maybe.Some(a.match(/.*redirect=([^ ]+).*/,t)):i.Maybe.None()})).map(a.nth(1)).orSome("")},m=function(t){var e=a.startsWith("ip4",t)?"v4":"v6",n=t.replace(/^ip.:/,"").split("/"),r=n[0],i=n[1];return{version:e,value:i?r+"/"+i:r,netmask:i}},v=function(t){return t.split(" ").filter(a.startsWith("ip")).map(m)},h=a.pipe(a.split(" "),a.filter(a.startsWith("include:")),a.map(a.replace("include:","")),a.when(a.isEmpty,a.always([""]))),_=a.pipe(a.split(" "),a.filter(a.startsWith("a:")),a.map(a.replace("a:","")),a.when(a.isEmpty,a.always([""]))),b=a.ifElse(d,a.always({options:["mx","a"],ips:[{version:"v4",value:"",netmask:""}],include:[""],strict:"-all",redirect:""}),r({options:p,strict:c,redirect:f,ips:v,include:h,a:_}))}}]);